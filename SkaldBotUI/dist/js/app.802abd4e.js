(function(t){function e(e){for(var o,r,n=e[0],l=e[1],c=e[2],d=0,m=[];d<n.length;d++)r=n[d],Object.prototype.hasOwnProperty.call(s,r)&&s[r]&&m.push(s[r][0]),s[r]=0;for(o in l)Object.prototype.hasOwnProperty.call(l,o)&&(t[o]=l[o]);u&&u(e);while(m.length)m.shift()();return i.push.apply(i,c||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],o=!0,n=1;n<a.length;n++){var l=a[n];0!==s[l]&&(o=!1)}o&&(i.splice(e--,1),t=r(r.s=a[0]))}return t}var o={},s={app:0},i=[];function r(e){if(o[e])return o[e].exports;var a=o[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=t,r.c=o,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(a,o,function(e){return t[e]}.bind(null,o));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],l=n.push.bind(n);n.push=e,n=n.slice();for(var c=0;c<n.length;c++)e(n[c]);var u=l;i.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"07f0":function(t,e,a){"use strict";var o=a("7ee2"),s=a.n(o);s.a},"0822":function(t,e,a){},"0891":function(t,e,a){"use strict";var o=a("0822"),s=a.n(o);s.a},"09e8":function(t,e,a){"use strict";var o=a("585b"),s=a.n(o);s.a},"1af1":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);var o=a("2b0e"),s=a("8c4f"),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"login"}},[a("div",[""!=t.formKey?a("Form",{attrs:{formKey:t.formKey},on:{LoginSuccess:t.login}}):t._e(),a("router-link",{staticClass:"link",attrs:{to:"/register"}},[t._v("Register")])],1)])},r=[],n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"form"},[t.loaded?t._e():a("div",[a("VueLoading")],1),t.submitted?a("div",{class:t.isError?"errorMsg":"successMsg"},[a("p",{staticStyle:{"font-weight":"bold"}},[t._v(t._s(t.msg))]),a("button",{staticClass:"close",on:{click:t.closeNotification}},[t._v("x")])]):t._e(),t.loaded?a("div",{staticClass:"panel"},[a("div",{staticClass:"panel-heading"},[t._v(t._s(t.formName))]),a("hr"),a("div",{staticClass:"panel-body"},[a("form",{attrs:{action:""},on:{submit:t.formSubmit}},[t.loaded?a("vue-form-generator",{attrs:{schema:t.schema,model:t.model,options:t.formOptions},on:{validated:t.validateForm}}):t._e()],1)])]):t._e(),t.admin?a("div",[a("input",{attrs:{type:"checkbox",id:"cbShowFormDetails",name:"cbShowFormDetails"},on:{change:t.showFormDetails}}),a("label",{attrs:{for:"cbShowFormDetails"}},[t._v("Show Form Information")])]):t._e(),t.showFormExtras?a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"panel-heading"},[t._v("Model")]),a("div",{staticClass:"panel-body"},[t.model?a("pre",{domProps:{innerHTML:t._s(t.prettyJSON(t.model))}}):t._e()])]):t._e(),t.showFormExtras?a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"panel-heading"},[t._v("Schema")]),a("div",{staticClass:"panel-body"},[t.model?a("pre",{domProps:{innerHTML:t._s(t.prettyJSON(t.schema))}}):t._e()])]):t._e()])},l=[],c=(a("6b54"),a("a481"),a("5530")),u=a("bc3a"),d=a.n(u),m=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("img",{staticClass:"loadingImg",attrs:{src:t.loader,alt:"loadingGif"}})])},h=[],p={name:"vue-loading",data:function(){return{loader:a("cf1c")}}},f=p,v=(a("b98d"),a("2877")),g=Object(v["a"])(f,m,h,!1,null,"176b3d38",null),b=g.exports,A=a("4309"),y=a.n(A),_=(a("92bd"),a("2f62")),D="http://127.0.0.1:5000/api/";y.a.validators.emailValidation=function(t,e,a){var o=a.email,s=t;return o!=s?["Emails do not match!"]:[]},y.a.validators.passwordValidation=function(t,e,a){var o=a.password,s=t;return o!=s?["Passwords do not match!"]:[]};var w={name:"Form",components:{VueLoading:b},props:{formKey:{type:String,required:!0}},mounted:function(){this.loaded=!1;var t=D+"getFormSchema?formKey="+this.formKey,e=D+"getActionLink?formKey="+this.formKey,a=D+"getFormName?formKey="+this.formKey,o=this;d.a.get(t).then(function(t){o.schema=JSON.parse(t.data)}).catch(function(t){console.log(t),this.$emit("error",!0)}),d.a.get(e).then(function(t){var e=JSON.parse(t.data),a=e[0];o.action=D+a.ActionLink}).catch(function(t){console.log(t)}),d.a.get(a).then(function(t){var e=JSON.parse(t.data),a=e[0].FormName;o.formName=a,o.loaded=!0}).catch(function(t){console.log(t)})},watch:{formKey:function(){this.loaded=!1;var t=D+"getFormSchema?formKey="+this.formKey,e=D+"getActionLink?formKey="+this.formKey,a=D+"getFormName?formKey="+this.formKey,o=this;d.a.get(t).then(function(t){o.schema=JSON.parse(t.data)}).catch(function(t){console.log(t),this.$emit("error",!0)}),d.a.get(e).then(function(t){var e=JSON.parse(t.data),a=e[0];o.action=D+a.ActionLink}).catch(function(t){console.log(t)}),d.a.get(a).then(function(t){var e=JSON.parse(t.data),a=e[0].FormName;o.formName=a,o.loaded=!0}).catch(function(t){console.log(t)})},loaded:function(){this.loaded&&this.newModel()},submitted:function(){this.submitted&&setTimeout(this.closeNotification,5e3)}},data:function(){return{action:"",model:{},schema:null,options:{validatedAfterLoad:!1,validatedAfterChange:!0},loaded:!1,msg:"",isError:!1,submitted:!1,admin:!1,formName:"Test",showFormExtras:!1,isValid:!1,formOptions:{validateAfterLoad:!1,validateAfterChanged:!0}}},created:function(){(this.$store.getters.isAdmin||this.$store.getters.isMasterAdmin)&&(this.admin=!0)},methods:Object(c["a"])(Object(c["a"])({},Object(_["b"])(["fetchFormData"])),{},{prettyJSON:function(t){if(t)return t=JSON.stringify(t,void 0,4),t=t.replace(/&/g,"&").replace(/</g,"<").replace(/>/g,">"),t.replace(/("(\\u[a-zA-Z0-9]{4}|\\[^u]|[^\\"])*"(\s*:)?|\b(true|false|null)\b|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)/g,function(t){var e="number";return/^"/.test(t)?e=/:$/.test(t)?"key":"string":/true|false/.test(t)?e="boolean":/null/.test(t)&&(e="null"),'<span class="'+e+'">'+t+"</span>"})},newModel:function(){"LoginForm"!=this.formKey&&(this.model=y.a.schema.createDefaultObject(this.schema))},validateForm:function(t){this.isValid=t},formSubmit:function(){var t=this;if(this.isValid){var e=this.action,a=this;if("LoginForm"==this.formKey||"RegisterForm"==this.formKey){var o=this.model.username,s=this.model.password;if("LoginForm"==this.formKey)this.$store.dispatch("login",{username:o,password:s}).then(function(e){return"OK"==e.statusText?t.$emit("LoginSuccess",!0):t.$emit("LoginSuccess",!1)}).catch(function(t){return console.log(t)});else{var i=this.model.firstname,r=this.model.lastname,n=this.model.accountName;this.$store.dispatch("register",{accountname:n,username:o,firstname:i,lastname:r,password:s}).then(function(){return t.$store.dispatch("login",{username:o,password:s}).then(function(e){return"OK"==e.statusText?t.$emit("LoginSuccess",!0):t.$emit("LoginSuccess",!1)}).catch(function(t){return console.log(t)})}).catch(function(t){return console.log(t)})}}else d.a.post(e,this.model).then(function(t){var e=t.data;"Success"==e.Message.toString()?a.setNotification(!0):a.setNotification(!1)})}event.preventDefault()},setNotification:function(t){t?(this.submitted=!0,this.msg="Successfully submitted the suggestion!"):(this.submitted=!0,this.isError=!0,this.msg="There was an error submitting the suggestion. Please try again.")},closeNotification:function(){this.msg="",this.submitted=!1},showFormDetails:function(){this.showFormExtras?this.showFormExtras=!1:this.showFormExtras=!0}}),computed:Object(c["a"])({},Object(_["c"])(["formSchema","isAdmin","isMasterAdmin","isUser"]))},I=w,k=Object(v["a"])(I,n,l,!1,null,"6369064e",null),$=k.exports,S={name:"Login",components:{Form:$},data:function(){return{formKey:"LoginForm"}},methods:{login:function(){this.$emit("authenticated",!0)}}},C=S,N=(a("0891"),Object(v["a"])(C,i,r,!1,null,"2ea899ab",null)),F=N.exports,T=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"login"}},[""!=t.formKey?a("Form",{attrs:{formKey:t.formKey},on:{RegisterSuccess:t.login}}):t._e(),a("router-link",{staticClass:"link",attrs:{to:"/login"}},[t._v("Login")])],1)},x=[],M={name:"Register",components:{Form:$},data:function(){return{formKey:"RegisterForm"}},methods:{login:function(){console.log("Logging in..."),this.$emit("authenticated",!0)}}},L=M,O=(a("c123"),Object(v["a"])(L,T,x,!1,null,"1a7bca44",null)),E=O.exports,R=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},K=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"home-image"})])}],j={name:"HomePage"},P=j,U=Object(v["a"])(P,R,K,!1,null,"6c5536ea",null),B=U.exports,J=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},V=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"about"},[a("div",[a("h1",[t._v("About The SkaldBot")]),a("hr"),a("p",[t._v("\n            The SkaldBot began as a half drunken joke by the original creator who wanted to immortalize his loss in Elite: Dangerous on the Discord server he and his friends used while playing. "),a("br"),a("br"),t._v("\n            He later realized that with the help of some friends, it could become something much, much more annoying. And potentially even useful! \n        ")]),a("p",[t._v("\n            This is how we ended up with the fun little SkaldBot you have been enjoying."),a("br"),a("br"),t._v("\n            This site is intended to be the user interface where non-developers can submit their own things for the bot to say (pending approval of course). \n        ")])]),a("div",[a("h2",[t._v("About the Developers")]),a("p",[t._v("They are all idiots. Idk we can fill this out later.")])])])}],z={name:"About"},H=z,Q=Object(v["a"])(H,J,V,!1,null,null,null),G=Q.exports,Y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"suggestions"},[a("SelectForm",{attrs:{pageId:t.pageId},on:{formKey:t.onChildChange}}),""!=t.formKey?a("Form",{attrs:{formKey:t.formKey},on:{error:t.error}}):t._e()],1)},W=[],q=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"selectsuggestion"},[a("div",[a("select",{staticClass:"select-css",on:{change:function(e){t.setKey(e)}}},[a("option",{attrs:{value:"select"}},[t._v("Select")]),t._l(t.allForms,function(e){return a("option",{key:e.FormKey,domProps:{value:e.FormKey}},[t._v(t._s(e.FormName))])})],2)])])},Z=[],X={name:"SelectForm",props:["pageId"],data:function(){return{formKey:"",thePageId:Object(c["a"])({},this.pageId)}},methods:Object(c["a"])(Object(c["a"])({},Object(_["b"])(["fetchAllForms","fetchAllFormsByPageId"])),{},{setKey:function(t){var e=t.target.options[t.target.options.selectedIndex].value;"select"==e?(this.formKey=e,this.$emit("formKey","")):(this.formKey=e,this.$emit("formKey",e))}}),computed:Object(_["c"])(["allForms"]),created:function(){0==this.pageId||void 0==this.pageId?this.fetchAllForms():(console.log(this.pageId),this.fetchAllFormsByPageId(this.pageId))}},tt=X,et=Object(v["a"])(tt,q,Z,!1,null,"66760f68",null),at=et.exports,ot={name:"Suggestions",components:{SelectForm:at,Form:$},data:function(){return{formKey:"",pageId:"1"}},methods:{onChildChange:function(t){""!=this.formKey&&(this.formKey=""),this.formKey=t},error:function(t){1==t&&(this.formKey="")}}},st=ot,it=Object(v["a"])(st,Y,W,!1,null,"710d7b04",null),rt=it.exports,nt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"dashboard"}},[a("div",{staticClass:"sidenav"},[a("ul",[a("li",[a("router-link",{attrs:{to:"/dashboardhome"}},[t._v("Dashboard Home")])],1),a("li",[a("router-link",{attrs:{to:"/manageusers"}},[t._v("Users")])],1),a("li",[a("router-link",{attrs:{to:"/pendingitems"}},[t._v("Pending Items")])],1),a("li",[a("router-link",{attrs:{to:"/manageforms"}},[t._v("Manage Forms")])],1),a("li",[a("router-link",{attrs:{to:"/managestories"}},[t._v("Manage Stories")])],1),a("li",[a("router-link",{attrs:{to:"/managewisdoms"}},[t._v("Manage Wisdoms")])],1),a("li",[a("router-link",{attrs:{to:"/github"}},[t._v("GitHub Project")])],1)])]),a("div",{staticClass:"dashboardContainer"},[a("router-view")],1)])},lt=[],ct={name:"Dashboard",data:function(){return{isLoaded:!1}}},ut=ct,dt=Object(v["a"])(ut,nt,lt,!1,null,"161e2c38",null),mt=dt.exports,ht=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.loaded?t._e():a("VueLoading"),t.loaded?a("div",[a("div",{staticStyle:{"margin-bottom":"10px"}},[a("el-row",[a("el-col",{attrs:{span:6}},[a("el-input",{attrs:{placeholder:"Search Username"},model:{value:t.filters[0].value,callback:function(e){t.$set(t.filters[0],"value",e)},expression:"filters[0].value"}})],1)],1)],1),a("data-tables",{attrs:{data:t.data,"action-col":t.actionCol,filters:t.filters},on:{"selection-change":t.handleSelectionChange}},[t._l(t.titles,function(t){return a("el-table-column",{key:t.prop,attrs:{prop:t.prop,label:t.label,sortable:"custom"}})}),a("el-table-column",{attrs:{prop:"IsActive",label:"User Active"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[t._v(t._s(t.getBool(e.row.IsActive)))])]}}])}),a("el-table-column",{attrs:{prop:"CreateDate",label:"Date Created"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[t._v(t._s(t.getDate(e.row.CreateDate)))])]}}])})],2)],1):t._e()],1)},pt=[],ft={name:"ManageUsers",components:{VueLoading:b},data:function(){var t=this;return{userId:"",loaded:!1,data:[],titles:[{prop:"Id",label:"User Id"},{prop:"Username",label:"Username"},{prop:"FirstName",label:"First Name"},{prop:"LastName",label:"Last Name"}],filters:[{prop:"Username",value:""}],actionCol:{props:{label:"Actions"},buttons:[{props:{type:"primary"},handler:function(e){t.userId=e.Id,t.$router.push("/userprofile/"+t.userId)},label:"Edit"}]},selectedRow:[]}},created:function(){this.$store.getters.isLoggedIn?this.reloadAuthentication():this.$store.getters.isMasterAdmin||this.$store.getters.isAdmin?(this.isLoaded=!0,this.fetchData()):this.$router.push("/unauthorized")},mounted:function(){this.$store.getters.isLoggedIn?this.reloadAuthentication():this.$store.getters.isMasterAdmin||this.$store.getters.isAdmin?(this.isLoaded=!0,this.fetchData()):this.$router.push("/unauthorized")},methods:{fetchData:function(){this.loaded=!1;var t=D+"getUsers?isMaster="+this.$store.getters.isMasterAdmin,e=this;d.a.get(t).then(function(t){e.data=JSON.parse(t.data)}).catch(function(t){console.log(t),this.$emit("error",!0)}),e.loaded=!0},handleSelectionChange:function(t){this.selectedRow=t},getDate:function(t){var e=new Date(t);return e.getMonth()+1+"-"+e.getDate()+"-"+e.getFullYear()},getBool:function(t){return t?"True":"False"},reloadAuthentication:function(){var t=this;this.$store.dispatch("loadRoles").then(function(){t.$store.getters.isMasterAdmin||t.$store.getters.isAdmin?(t.isLoaded=!0,t.fetchData()):t.$router.push("/unauthorized")})}}},vt=ft,gt=(a("07f0"),Object(v["a"])(vt,ht,pt,!1,null,"488af095",null)),bt=gt.exports,At=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},yt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wrapper",attrs:{id:"unauthorized"}},[a("p",{staticClass:"centerText"},[t._v("You do not have permission to view this page.")])])}],_t={name:"unauthorized"},Dt=_t,wt=Object(v["a"])(Dt,At,yt,!1,null,"2a9d9cd9",null),It=wt.exports,kt=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},$t=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"DashboardHome"}},[a("p",[t._v("This is the home dashboard")])])}],St={name:"DashboardHome",created:function(){this.$store.getters.isLoggedIn?this.reloadAuthentication():this.$store.getters.isMasterAdmin||this.$store.getters.isAdmin?this.isLoaded=!0:this.$router.push("/unauthorized")},methods:{reloadAuthentication:function(){var t=this;this.$store.dispatch("loadRoles").then(function(){t.$store.getters.isMasterAdmin||t.$store.getters.isAdmin?t.isLoaded=!0:t.$router.push("/unauthorized")})}}},Ct=St,Nt=Object(v["a"])(Ct,kt,$t,!1,null,"31f3b7be",null),Ft=Nt.exports,Tt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"UserProfile"}},[t.submitted?a("div",{class:t.isError?"errorMsg":"successMsg"},[a("p",{staticStyle:{"font-weight":"bold"}},[t._v(t._s(t.msg))]),a("button",{staticClass:"close",on:{click:t.closeNotification}},[t._v("x")])]):t._e(),a("button",{staticClass:"btn-button",attrs:{type:"button"},on:{click:t.goBack}},[t._v("Go Back")]),a("button",{staticClass:"btn-button",attrs:{type:"submit"}},[t._v("Save")]),a("div",{staticClass:"panel"},[t._m(0),a("div",{staticClass:"panel-body"},[a("h4",{staticClass:"sectionHeading"},[t._v(t._s(t.userData.FirstName)+" "+t._s(t.userData.LastName))]),a("hr"),a("form",{on:{submit:t.formSubmit}},[a("label",{attrs:{for:"userName"}},[t._v("Username:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.userData.Username,expression:"userData.Username"}],attrs:{type:"text",id:"userName",name:"userName",disabled:""},domProps:{value:t.userData.Username},on:{input:function(e){e.target.composing||t.$set(t.userData,"Username",e.target.value)}}}),a("label",{attrs:{for:"firstName"}},[t._v("First Name:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.userData.FirstName,expression:"userData.FirstName"}],attrs:{type:"text",id:"firstName",name:"firstName"},domProps:{value:t.userData.FirstName},on:{input:function(e){e.target.composing||t.$set(t.userData,"FirstName",e.target.value)}}}),a("label",{attrs:{for:"lastName"}},[t._v("Last Name:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.userData.LastName,expression:"userData.LastName"}],attrs:{type:"text",id:"lastName",name:"lastName"},domProps:{value:t.userData.LastName},on:{input:function(e){e.target.composing||t.$set(t.userData,"LastName",e.target.value)}}}),a("label",{attrs:{for:"createDate"}},[t._v("Date Created:")]),a("input",{attrs:{type:"text",id:"createDate",name:"createDate",disabled:""},domProps:{value:t.getDate(t.userData.CreateDate)}}),t.isAdmin?a("div",[a("div",[a("hr"),a("h4",{staticClass:"sectionHeading"},[t._v("Admin Options")]),a("div",[a("label",{attrs:{for:"isActive"}},[t._v("Is User Active:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.userData.IsActive,expression:"userData.IsActive"}],attrs:{type:"checkbox",id:"isActive",name:"isActive"},domProps:{checked:Array.isArray(t.userData.IsActive)?t._i(t.userData.IsActive,null)>-1:t.userData.IsActive},on:{change:function(e){var a=t.userData.IsActive,o=e.target,s=!!o.checked;if(Array.isArray(a)){var i=null,r=t._i(a,i);o.checked?r<0&&t.$set(t.userData,"IsActive",a.concat([i])):r>-1&&t.$set(t.userData,"IsActive",a.slice(0,r).concat(a.slice(r+1)))}else t.$set(t.userData,"IsActive",s)}}})]),a("div",[a("label",{attrs:{for:"isLocked"}},[t._v("Is User Locked:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.userData.IsLocked,expression:"userData.IsLocked"}],attrs:{type:"checkbox",id:"isLocked",name:"isLocked"},domProps:{checked:Array.isArray(t.userData.IsLocked)?t._i(t.userData.IsLocked,null)>-1:t.userData.IsLocked},on:{change:function(e){var a=t.userData.IsLocked,o=e.target,s=!!o.checked;if(Array.isArray(a)){var i=null,r=t._i(a,i);o.checked?r<0&&t.$set(t.userData,"IsLocked",a.concat([i])):r>-1&&t.$set(t.userData,"IsLocked",a.slice(0,r).concat(a.slice(r+1)))}else t.$set(t.userData,"IsLocked",s)}}})])]),a("div",[a("hr"),a("h4",{staticClass:"sectionHeading"},[t._v("Permissions")]),a("div",t._l(t.roles,function(e){return a("div",{key:e.Role},[a("label",{attrs:{for:"item.Role"}},[t._v(t._s(e.RoleName))]),a("input",{attrs:{type:"checkbox",name:e.Role},domProps:{value:e.Role,checked:e.Role==t.selectedRole},on:{change:t.updateSelectedRole}})])}))])]):t._e()])])])])},xt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"panel-heading"},[a("h4",[t._v("User Profile")])])}],Mt={name:"UserProfile",props:{userId:{type:String,required:!0}},data:function(){return{isAdmin:!1,userData:[],oldUserData:[],roles:[],selectedRole:"",msg:"",isError:!0,submitted:!1,success:!1,prevRoute:{}}},watch:{submitted:function(){this.submitted&&setTimeout(this.closeNotification,5e3)}},beforeRouteEnter:function(t,e,a){a(function(t){t.prevRoute=e})},mounted:function(){this.getData()},created:function(){this.$store.getters.isLoggedIn?this.reloadAuthentication():this.$store.getters.isMasterAdmin||this.$store.getters.isAdmin?this.getData():this.$router.push("/unauthorized")},methods:{getDate:function(t){var e=new Date(t);return e.getMonth()+1+"-"+e.getDate()+"-"+e.getFullYear()},updateSelectedRole:function(t){this.selectedRole="",t.target.checked&&(this.selectedRole=t.target.value)},formSubmit:function(){if(event.preventDefault(),this.objectsAreSame(this.userData,this.oldUserData))this.setNotification(!1);else{var t=D+"getUser",e=[],a=this;this.selectedRole!=this.userData.r[0].Role&&(this.userData.r[0].Role=this.selectedRole),e.push(this.userData),d.a.post(t,e).then(function(t){var e=t.data;"Success"==e.Message.toString()?(a.success=!0,a.setNotification(a.success),a.getData()):(a.success=!1,a.setNotification(a.success),a.getData())})}},closeNotification:function(){this.msg="",this.submitted=!1,this.isError=!1},setNotification:function(t){t?(this.submitted=!0,this.isError=!1,this.msg="Successfully updated the user!"):(this.submitted=!0,this.isError=!0,this.msg="There was an error updating the user. Please try again.")},getData:function(){var t=D+"getUser?userId="+this.userId,e=D+"getRoles",a=this;d.a.get(t).then(function(t){var e=t.data[0];a.userData=JSON.parse(e),a.userData=a.userData[0],a.oldUserData=JSON.parse(e),a.oldUserData=a.oldUserData[0],a.selectedRole=a.userData.r[0].Role}).catch(function(t){console.log(t)}),d.a.get(e).then(function(t){a.roles=JSON.parse(t.data)}).catch(function(t){console.log(t)})},objectsAreSame:function(t,e){var a=!0;for(var o in t)"r"==o?t[o][0].Role!=e[o][0].Role&&(a=!1):t[o]!=e[o]&&(a=!1);return a},reloadAuthentication:function(){var t=this;this.$store.dispatch("loadRoles").then(function(){t.$store.getters.isMasterAdmin||t.$store.getters.isAdmin?(t.$store.getters.isMasterAdmin||t.$store.getters.isAdmin)&&(t.isAdmin=!0):t.$router.push("/unauthorized")})},goBack:function(){this.$router.push(this.prevRoute.path)}}},Lt=Mt,Ot=Object(v["a"])(Lt,Tt,xt,!1,null,"6ce2048e",null),Et=Ot.exports,Rt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.loaded?t._e():a("VueLoading"),a("Modal",{directives:[{name:"show",rawName:"v-show",value:t.isModalVisible,expression:"isModalVisible"}],attrs:{modalDisplayTypeId:t.modalDisplayTypeId,lookupId:t.lookupId},on:{close:t.closeModal}}),t.loaded?a("div",[a("div",{staticStyle:{"margin-bottom":"10px"}},[a("el-row",[a("el-col",{attrs:{span:6}},[a("el-input",{attrs:{placeholder:"Filter Item Type"},model:{value:t.filters[0].value,callback:function(e){t.$set(t.filters[0],"value",e)},expression:"filters[0].value"}})],1)],1)],1),a("data-tables",{attrs:{data:t.data,"action-col":t.actionCol,filters:t.filters},on:{"selection-change":t.handleSelectionChange}},[t._l(t.titles,function(t){return a("el-table-column",{key:t.prop,attrs:{prop:t.prop,label:t.label,sortable:"custom"}})}),a("el-table-column",{attrs:{prop:"CreateDate",label:"Date Created"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[t._v(t._s(t.getDate(e.row.CreateDate)))])]}}])})],2)],1):t._e()],1)},Kt=[],jt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"Modal"}},[a("transition",{attrs:{name:"modal-fade"}},[t.isLoaded?t._e():a("VueLoading"),t.isLoaded?a("div",{staticClass:"modal-backdrop"},[1==t.modalDisplayTypeId?a("div",[a("div",{staticClass:"modal",attrs:{role:"dialog","aria-labelledby":"modalTitle","aria-describedby":"modalDescription"}},[a("div",[a("button",{staticClass:"btn-close topright",attrs:{type:"button","aria-label":"Close modal"},on:{click:t.close}},[t._v("x")])]),a("header",{staticClass:"modal-header",attrs:{id:"modalTitle"}},[a("div",[a("h4",[t._v(t._s(t.lookupData[0].Title))])])]),a("section",{staticClass:"modal-body",attrs:{id:"modalDescription"}},[t._t("body",[a("label",{attrs:{for:"itemType"}},[t._v("Suggestion Type:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.lookupData[0].ItemType,expression:"lookupData[0].ItemType"}],attrs:{type:"text",id:"itemType",disabled:""},domProps:{value:t.lookupData[0].ItemType},on:{input:function(e){e.target.composing||t.$set(t.lookupData[0],"ItemType",e.target.value)}}}),a("label",{attrs:{for:"itemText"}},[t._v("Content:")]),a("br"),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.lookupData[0].ItemText,expression:"lookupData[0].ItemText"}],attrs:{id:"itemText",disabled:""},domProps:{value:t.lookupData[0].ItemText},on:{input:function(e){e.target.composing||t.$set(t.lookupData[0],"ItemText",e.target.value)}}}),a("br"),a("hr"),a("label",{attrs:{for:"dateCreated"}},[t._v("Date Submitted:")]),a("input",{attrs:{type:"text",id:"dateCreated",disabled:""},domProps:{value:t.getDate(t.lookupData[0].CreateDate)}}),a("label",{attrs:{for:"submitterEmail"}},[t._v("Submitted By:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.lookupData[0].SubmitterEmail,expression:"lookupData[0].SubmitterEmail"}],attrs:{type:"email",id:"submitterEmail",disabled:""},domProps:{value:t.lookupData[0].SubmitterEmail},on:{input:function(e){e.target.composing||t.$set(t.lookupData[0],"SubmitterEmail",e.target.value)}}})])],2),a("footer",{staticClass:"modal-footer"},[a("div",[t._t("footer",[a("button",{staticClass:"btn-button approve",attrs:{type:"button"},on:{click:t.approveSuggestion}},[t._v("\n                                    Approve\n                                ")]),a("button",{staticClass:"btn-button reject",attrs:{type:"button"},on:{click:t.rejectSuggestion}},[t._v("\n                                    Reject\n                                ")])])],2)])])]):t._e(),2==t.modalDisplayTypeId||3==t.modalDisplayTypeId?a("div",[a("div",{staticClass:"modal",attrs:{role:"dialog","aria-labelledby":"modalTitle","aria-describedby":"modalDescription"}},[a("div",[a("button",{staticClass:"btn-close topright",attrs:{type:"button","aria-label":"Close modal"},on:{click:t.close}},[t._v("x")])]),a("header",{staticClass:"modal-header",attrs:{id:"modalTitle"}},[a("div",[2==t.modalDisplayTypeId?a("h4",[t._v("Manage Story")]):t._e(),3==t.modalDisplayTypeId?a("h4",[t._v("Manage Wisdom")]):t._e()])]),a("section",{staticClass:"modal-body",attrs:{id:"modalDescription"}},[t._t("body",[a("div",[a("label",{attrs:{for:"title"}},[t._v("Title:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.lookupData[0].Title,expression:"lookupData[0].Title"}],attrs:{type:"text",id:"title"},domProps:{value:t.lookupData[0].Title},on:{input:function(e){e.target.composing||t.$set(t.lookupData[0],"Title",e.target.value)}}}),a("label",{attrs:{for:"itemText"}},[t._v("Content:")]),a("br"),2==t.modalDisplayTypeId?a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.lookupData[0].Story,expression:"lookupData[0].Story"}],attrs:{id:"itemText"},domProps:{value:t.lookupData[0].Story},on:{input:function(e){e.target.composing||t.$set(t.lookupData[0],"Story",e.target.value)}}}):t._e(),3==t.modalDisplayTypeId?a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.lookupData[0].Wisdom,expression:"lookupData[0].Wisdom"}],attrs:{id:"itemText"},domProps:{value:t.lookupData[0].Wisdom},on:{input:function(e){e.target.composing||t.$set(t.lookupData[0],"Wisdom",e.target.value)}}}):t._e(),a("br"),a("label",{attrs:{for:"isActive"}},[t._v("Is Active:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.lookupData[0].IsActive,expression:"lookupData[0].IsActive"}],attrs:{type:"checkbox",id:"isActive"},domProps:{checked:Array.isArray(t.lookupData[0].IsActive)?t._i(t.lookupData[0].IsActive,null)>-1:t.lookupData[0].IsActive},on:{change:function(e){var a=t.lookupData[0].IsActive,o=e.target,s=!!o.checked;if(Array.isArray(a)){var i=null,r=t._i(a,i);o.checked?r<0&&t.$set(t.lookupData[0],"IsActive",a.concat([i])):r>-1&&t.$set(t.lookupData[0],"IsActive",a.slice(0,r).concat(a.slice(r+1)))}else t.$set(t.lookupData[0],"IsActive",s)}}})])])],2),a("footer",{staticClass:"modal-footer"},[a("div",[t._t("footer",[a("button",{staticClass:"btn-button approve",attrs:{type:"button"},on:{click:t.saveItem}},[t._v("\n                                    Save\n                                ")]),a("button",{staticClass:"btn-button",attrs:{type:"button"},on:{click:t.close}},[t._v("\n                                    Close\n                                ")])])],2)])])]):t._e()]):t._e()],1)],1)},Pt=[],Ut=(a("c5f6"),{name:"Modal",components:{VueLoading:b},props:{modalDisplayTypeId:{type:Number,required:!1},lookupId:{type:Number,required:!1}},data:function(){return{isLoaded:!1,lookupData:{}}},watch:{lookupId:function(){if(0!=this.lookupId&&null!=this.lookupId){var t=this.modalDisplayTypeId;switch(t){case 1:var e=D+"submititem?id="+this.lookupId,a=this;d.a.get(e).then(function(t){a.lookupData=JSON.parse(t.data),a.lookupData[0].ItemType=a.lookupData[0].luIT[0].ItemType,a.isLoaded=!0}).catch(function(t){console.log(t),a.$message("There was an error getting the suggestion data")});case 2:var o=D+"story?id="+this.lookupId;a=this;d.a.get(o).then(function(t){a.lookupData=JSON.parse(t.data),a.isLoaded=!0}).catch(function(t){console.log(t),a.$message("There was an error getting the story data")});case 3:var s=D+"wisdom?id="+this.lookupId;a=this;d.a.get(s).then(function(t){a.lookupData=JSON.parse(t.data),a.isLoaded=!0}).catch(function(t){console.log(t),a.$message("There was an error getting the wisdom data")})}}}},methods:{close:function(){this.$emit("close")},getDate:function(t){var e=new Date(t);return e.getMonth()+1+"-"+e.getDate()+"-"+e.getFullYear()},approveSuggestion:function(){var t=D+"submittedItems",e={IsApproved:1,Id:this.lookupId,UserId:this.$store.getters.userId},a=this;d.a.post(t,e).then(function(t){var e=t.data;"Success"==e.Message.toString()?(a.$message("Successfully updated submitted item!"),setTimeout(function(){a.close()},2e3)):a.$message("Error updating submitted item!")})},rejectSuggestion:function(){var t=D+"submittedItems",e={IsApproved:0,Id:this.lookupId,UserId:this.$store.getters.userId},a=this;d.a.post(t,e).then(function(t){var e=t.data;"Success"==e.Message.toString()?(a.$message("Successfully updated submitted item!"),setTimeout(function(){a.close()},2e3)):a.$message("Error updating submitted item!")})},saveItem:function(){var t=this;switch(this.modalDisplayTypeId){case 2:var e=D+"story";d.a.post(e,this.lookupData).then(function(e){var a=e.data;"Success"==a.Message.toString()?(t.$message("Successfully updated story!"),setTimeout(function(){t.close()},2e3)):t.$message("Error updating story!")});case 3:var a=D+"wisdom";d.a.post(a,this.lookupData).then(function(e){var a=e.data;"Success"==a.Message.toString()?(t.$message("Successfully updated wisdom!"),setTimeout(function(){t.close()},2e3)):t.$message("Error updating wisdom!")})}}}}),Bt=Ut,Jt=Object(v["a"])(Bt,jt,Pt,!1,null,"1cf27820",null),Vt=Jt.exports,zt={name:"PendingItems",components:{VueLoading:b,Modal:Vt},data:function(){var t=this;return{modalDisplayTypeId:1,lookupId:0,loaded:!1,isModalVisible:!1,data:[],titles:[{prop:"Id",label:"Submitted Item Id"},{prop:"ItemType",label:"Submitted Item Type"},{prop:"Title",label:"Title"}],filters:[{prop:"ItemType",value:""}],actionCol:{props:{label:"Actions"},buttons:[{props:{type:"primary"},handler:function(e){t.lookupId=e.Id,t.showModal()},label:"View"}]},selectedRow:[]}},mounted:function(){this.$store.getters.isLoggedIn?this.reloadAuthentication():this.$store.getters.isMasterAdmin||this.$store.getters.isAdmin?(this.isLoaded=!0,this.getData()):this.$router.push("/unauthorized")},created:function(){this.$store.getters.isLoggedIn?this.reloadAuthentication():this.$store.getters.isMasterAdmin||this.$store.getters.isAdmin?(this.isLoaded=!0,this.getData()):this.$router.push("/unauthorized")},methods:{getData:function(){this.loaded=!1;var t=D+"submittedItems",e=this;d.a.get(t).then(function(t){if(t.data.length>0){e.data=JSON.parse(t.data);for(var a=0;a<e.data.length;a++)e.data[a].ItemType=e.data[a].luIT[0].ActualItemType}}).catch(function(t){console.log(t),e.$message("There was an error getting the submitted items")}),e.loaded=!0},handleSelectionChange:function(t){this.selectedRow=t},getDate:function(t){var e=new Date(t);return e.getMonth()+1+"-"+e.getDate()+"-"+e.getFullYear()},showModal:function(){this.isModalVisible=!0},closeModal:function(){this.isModalVisible=!1,this.lookupId=0,this.getData()},reloadAuthentication:function(){var t=this;this.$store.dispatch("loadRoles").then(function(){t.$store.getters.isMasterAdmin||t.$store.getters.isAdmin?(t.isLoaded=!0,t.getData()):t.$router.push("/unauthorized")})}}},Ht=zt,Qt=Object(v["a"])(Ht,Rt,Kt,!1,null,null,null),Gt=Qt.exports,Yt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"ManageStories"}},[t.loaded?t._e():a("VueLoading"),a("Modal",{directives:[{name:"show",rawName:"v-show",value:t.isModalVisible,expression:"isModalVisible"}],attrs:{modalDisplayTypeId:t.modalDisplayTypeId,lookupId:t.lookupId},on:{close:t.closeModal}}),t.loaded?a("div",[a("div",{staticStyle:{"margin-bottom":"10px"}},[a("el-row",[a("el-col",{attrs:{span:6}},[a("el-input",{attrs:{placeholder:"Title..."},model:{value:t.filters[0].value,callback:function(e){t.$set(t.filters[0],"value",e)},expression:"filters[0].value"}})],1)],1)],1),a("data-tables",{attrs:{data:t.data,"action-col":t.actionCol,filters:t.filters},on:{"selection-change":t.handleSelectionChange}},[t._l(t.titles,function(t){return a("el-table-column",{key:t.prop,attrs:{prop:t.prop,label:t.label,sortable:"custom"}})}),a("el-table-column",{attrs:{prop:"IsActive",label:"Is Active"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[t._v(t._s(t.getBool(e.row.IsActive)))])]}}])})],2)],1):t._e()],1)},Wt=[],qt={name:"ManageStories",components:{VueLoading:b,Modal:Vt},data:function(){var t=this;return{modalDisplayTypeId:2,lookupId:0,loaded:!1,isModalVisible:!1,data:[],titles:[{prop:"Id",label:"Story Id"},{prop:"Title",label:"Story Title"}],filters:[{prop:"Title",value:""}],actionCol:{props:{label:"Actions"},buttons:[{props:{type:"primary"},handler:function(e){t.lookupId=e.Id,t.showModal()},label:"View"}]},selectedRow:[]}},mounted:function(){this.getData()},created:function(){this.$store.getters.isLoggedIn?this.reloadAuthentication():this.$store.getters.isMasterAdmin||this.$store.getters.isAdmin?this.isLoaded=!0:this.$router.push("/unauthorized")},methods:{getData:function(){this.loaded=!1;var t=D+"getStories",e=this;d.a.get(t).then(function(t){t.data.length>0&&(e.data=JSON.parse(t.data))}).catch(function(t){console.log(t),e.$message("There was an error getting the submitted items")}),e.loaded=!0},handleSelectionChange:function(t){this.selectedRow=t},getBool:function(t){return t?"True":"False"},showModal:function(){this.isModalVisible=!0},closeModal:function(){this.isModalVisible=!1,this.lookupId=0,this.getData()},reloadAuthentication:function(){var t=this;this.$store.dispatch("loadRoles").then(function(){t.$store.getters.isMasterAdmin||t.$store.getters.isAdmin?(t.isLoaded=!0,t.getData()):t.$router.push("/unauthorized")})}}},Zt=qt,Xt=Object(v["a"])(Zt,Yt,Wt,!1,null,"3f5fdba3",null),te=Xt.exports,ee=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"ManageWisdoms"}},[t.loaded?t._e():a("VueLoading"),a("Modal",{directives:[{name:"show",rawName:"v-show",value:t.isModalVisible,expression:"isModalVisible"}],attrs:{modalDisplayTypeId:t.modalDisplayTypeId,lookupId:t.lookupId},on:{close:t.closeModal}}),t.loaded?a("div",[a("div",{staticStyle:{"margin-bottom":"10px"}},[a("el-row",[a("el-col",{attrs:{span:6}},[a("el-input",{attrs:{placeholder:"Title..."},model:{value:t.filters[0].value,callback:function(e){t.$set(t.filters[0],"value",e)},expression:"filters[0].value"}})],1)],1)],1),a("data-tables",{attrs:{data:t.data,"action-col":t.actionCol,filters:t.filters},on:{"selection-change":t.handleSelectionChange}},[t._l(t.titles,function(t){return a("el-table-column",{key:t.prop,attrs:{prop:t.prop,label:t.label,sortable:"custom"}})}),a("el-table-column",{attrs:{prop:"IsActive",label:"Is Active"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[t._v(t._s(t.getBool(e.row.IsActive)))])]}}])})],2)],1):t._e()],1)},ae=[],oe={name:"ManageWisdoms",components:{VueLoading:b,Modal:Vt},data:function(){var t=this;return{modalDisplayTypeId:3,lookupId:0,loaded:!1,isModalVisible:!1,data:[],titles:[{prop:"Id",label:"Wisdom Id"},{prop:"Title",label:"Wisdom Title"}],filters:[{prop:"Title",value:""}],actionCol:{props:{label:"Actions"},buttons:[{props:{type:"primary"},handler:function(e){t.lookupId=e.Id,t.showModal()},label:"View"}]},selectedRow:[]}},mounted:function(){this.$store.getters.isLoggedIn?this.reloadAuthentication():this.$store.getters.isMasterAdmin||this.$store.getters.isAdmin?(this.isLoaded=!0,this.getData()):this.$router.push("/unauthorized")},created:function(){this.$store.getters.isLoggedIn?this.reloadAuthentication():this.$store.getters.isMasterAdmin||this.$store.getters.isAdmin?(this.isLoaded=!0,this.getData()):this.$router.push("/unauthorized")},methods:{getData:function(){this.loaded=!1;var t=D+"getWisdoms",e=this;d.a.get(t).then(function(t){t.data.length>0&&(e.data=JSON.parse(t.data))}).catch(function(t){console.log(t),e.$message("There was an error getting the submitted items")}),e.loaded=!0},handleSelectionChange:function(t){this.selectedRow=t},getBool:function(t){return t?"True":"False"},showModal:function(){this.isModalVisible=!0},closeModal:function(){this.isModalVisible=!1,this.lookupId=0,this.getData()},reloadAuthentication:function(){var t=this;this.$store.dispatch("loadRoles").then(function(){t.$store.getters.isMasterAdmin||t.$store.getters.isAdmin?(t.isLoaded=!0,t.getData()):t.$router.push("/unauthorized")})}}},se=oe,ie=Object(v["a"])(se,ee,ae,!1,null,"09a5ed58",null),re=ie.exports,ne=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"ManageForms"}},[t.loaded?t._e():a("VueLoading"),t.loaded?a("div",[a("div",{staticStyle:{"margin-bottom":"10px"}},[a("el-row",[a("el-col",{attrs:{span:6}},[a("el-input",{attrs:{placeholder:"Form Name..."},model:{value:t.filters[0].value,callback:function(e){t.$set(t.filters[0],"value",e)},expression:"filters[0].value"}}),a("button",{attrs:{type:"button"},on:{click:t.newForm}},[t._v("New Form")])],1)],1)],1),a("data-tables",{attrs:{data:t.data,"action-col":t.actionCol,filters:t.filters},on:{"selection-change":t.handleSelectionChange}},[t._l(t.titles,function(t){return a("el-table-column",{key:t.prop,attrs:{prop:t.prop,label:t.label,sortable:"custom"}})}),a("el-table-column",{attrs:{prop:"IsActive",label:"Is Active"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[t._v(t._s(t.getBool(e.row.IsActive)))])]}}])})],2)],1):t._e()],1)},le=[],ce={name:"ManageForms",components:{VueLoading:b},data:function(){var t=this;return{loaded:!1,data:[],titles:[{prop:"FormKey",label:"Form Key"},{prop:"FormName",label:"Form Name"}],filters:[{prop:"FormName",value:""}],actionCol:{props:{label:"Actions"},buttons:[{props:{type:"primary"},handler:function(e){t.$router.push("/modifyform/"+e.FormKey)},label:"View"}]},selectedRow:[]}},mounted:function(){this.fetchData()},created:function(){this.$store.getters.isLoggedIn?this.reloadAuthentication():this.$store.getters.isMasterAdmin||this.$store.getters.isAdmin?this.fetchData():this.$router.push("/unauthorized")},methods:{fetchData:function(){var t=this;return this.$store.dispatch("fetchAllForms").then(function(){t.getData()})},getData:function(){this.data=this.$store.getters.allForms,this.loaded=!0},handleSelectionChange:function(t){this.selectedRow=t},getBool:function(t){return t?"True":"False"},newForm:function(){this.$router.push("/modifyform")},reloadAuthentication:function(){var t=this;this.$store.dispatch("loadRoles").then(function(){t.$store.getters.isMasterAdmin||t.$store.getters.isAdmin?t.fetchData():t.$router.push("/unauthorized")})}}},ue=ce,de=Object(v["a"])(ue,ne,le,!1,null,"3c4d2308",null),me=de.exports,he=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},pe=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"GitHub"}},[a("iframe",{attrs:{src:"https://www.w3schools.com"}})])}],fe={name:"GitHub"},ve=fe,ge=Object(v["a"])(ve,he,pe,!1,null,"65ac858a",null),be=(ge.exports,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"ModifyForm"}},[t.modalVisible?a("div",[a("transition",{attrs:{name:"modal-fade"}},[a("div",{staticClass:"modal-backdrop"},[a("div",[a("div",{staticClass:"modal",attrs:{role:"dialog","aria-labelledby":"modalTitle","aria-describedby":"modalDescription"}},[a("div",[a("button",{staticClass:"btn-close topright",attrs:{type:"button","aria-label":"Close modal"},on:{click:t.close}},[t._v("x")])]),a("header",{staticClass:"modal-header",attrs:{id:"modalTitle"}},[a("div",[a("h4",[t._v("Confirm Submit")])])]),a("section",{staticClass:"modal-body",attrs:{id:"modalDescription"}},[t._t("body",[a("p",[t._v("Are you sure you want to submit?")])])],2),a("footer",{staticClass:"modal-footer"},[a("div",[t._t("footer",[a("button",{staticClass:"btn-button",attrs:{type:"button"},on:{click:t.formSubmit}},[t._v("\n                                        Yes\n                                    ")]),a("button",{staticClass:"btn-button",attrs:{type:"button"},on:{click:t.close}},[t._v("\n                                        No\n                                    ")])])],2)])])])])])],1):t._e(),a("div",{staticClass:"panel"},[t._m(0),a("div",{staticClass:"panel-body"},[a("h4",{staticClass:"sectionHeading"},[t._v(t._s(t.formName)+" Form")]),a("hr"),a("form",{on:{submit:t.showModal}},[a("label",{attrs:{for:"formName"}},[t._v("Form Name:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.formName,expression:"formName"}],attrs:{type:"text",id:"formName",name:"formName",required:""},domProps:{value:t.formName},on:{input:function(e){e.target.composing||(t.formName=e.target.value)}}}),a("label",{attrs:{for:"formKey"}},[t._v("Form Key:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.FormKey,expression:"formData.FormKey"}],attrs:{type:"text",id:"formKey",name:"formKey",disabled:null!=t.formKey,required:""},domProps:{value:t.formData.FormKey},on:{input:function(e){e.target.composing||t.$set(t.formData,"FormKey",e.target.value)}}}),a("label",{attrs:{for:"actionLink"}},[t._v("Action Link:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.ActionLink,expression:"formData.ActionLink"}],attrs:{type:"text",id:"actionLink",name:"actionLink",required:""},domProps:{value:t.formData.ActionLink},on:{input:function(e){e.target.composing||t.$set(t.formData,"ActionLink",e.target.value)}}}),a("label",{attrs:{for:"isActive"}},[t._v("Is Active")]),a("br"),a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.IsActive,expression:"formData.IsActive"}],attrs:{type:"checkbox",id:"isActive",name:"isActive",disabled:null==t.formKey},domProps:{checked:Array.isArray(t.formData.IsActive)?t._i(t.formData.IsActive,null)>-1:t.formData.IsActive},on:{change:function(e){var a=t.formData.IsActive,o=e.target,s=!!o.checked;if(Array.isArray(a)){var i=null,r=t._i(a,i);o.checked?r<0&&t.$set(t.formData,"IsActive",a.concat([i])):r>-1&&t.$set(t.formData,"IsActive",a.slice(0,r).concat(a.slice(r+1)))}else t.$set(t.formData,"IsActive",s)}}}),a("br"),a("label",{attrs:{for:"formSchema"}},[t._v("Field Schema")]),a("br"),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.formData.FieldSchema,expression:"formData.FieldSchema"}],attrs:{id:"formSchema",required:""},domProps:{value:t.formData.FieldSchema},on:{input:function(e){e.target.composing||t.$set(t.formData,"FieldSchema",e.target.value)}}}),a("button",{staticClass:"btn-button",attrs:{type:"button"},on:{click:t.updateFieldSchema}},[t._v("Refresh Form")]),a("br"),a("button",{staticClass:"btn-button",attrs:{type:"submit"}},[t._v("Submit")])]),a("hr"),a("h4",{staticClass:"sectionHeading"},[t._v("Form View")]),t.loaded?a("vue-form-generator",{attrs:{schema:t.schema,model:t.model}}):t._e()],1)])])}),Ae=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"panel-heading"},[a("h4",[t._v("Modify Form")])])}],ye={name:"ModifyForm",props:{formKey:{type:String,required:!1}},data:function(){return{loaded:!1,formName:"",isNewForm:!1,modalVisible:!1,formData:[],schema:[],model:{}}},mounted:function(){this.$store.getters.isMasterAdmin||this.$store.getters.isAdmin?null!=this.formKey&&""!=this.formKey?this.fetchData():(this.loaded=!0,this.isNewForm=!0):this.$router.push("/unauthorized")},created:function(){null!=this.formKey&&""!=this.formKey?this.fetchData():(this.loaded=!0,this.isNewForm=!0)},methods:{fetchData:function(){var t=this;if(null!=this.formKey&&""!=this.formKey)return this.$store.dispatch("fetchFormByFormKey",this.formKey).then(function(){t.getData()})},getData:function(){this.formData=this.$store.getters.getForm,this.formData=this.formData[0],this.formData.FieldSchema=JSON.parse(this.formData.FieldSchema),this.schema=this.formData.FieldSchema,this.formName=this.formData.luVF[0].FormName,this.prettyJSON(),this.loaded=!0},prettyJSON:function(){var t=document.getElementById("formSchema"),e=null;if(null!=t&&(e=t.innerHTML),e)e=JSON.stringify(e,void 0,4),this.formData.FieldSchema=e;else{e=this.formData.FieldSchema;e=JSON.stringify(e,void 0,4),this.formData.FieldSchema=e}},clearWhitespace:function(){var t=document.getElementById("formSchema").value;if(console.log(t),t)t=JSON.parse(t),this.formData.FieldSchema=t,console.log(this.formData.FieldSchema),this.schema=t,console.log(this.schema);else{var e=document.getElementById("formSchema").value;this.formData.FieldSchema=JSON.parse(e),this.schema=JSON.parse(e)}},updateFieldSchema:function(){this.clearWhitespace(),this.prettyJSON()},formSubmit:function(){var t=this;this.modalVisible=!1,this.formData.FieldSchema=this.schema;var e=this.formData,a=this.$store.getters.userId,o=this.isNewForm,s=this.formName;if(this.isNewForm){var i=document.getElementById("formKey").value,r=document.getElementById("actionLink").value;e={FormKey:i,FieldSchema:this.schema,ActionLink:r,IsActive:!1}}this.$store.dispatch("updateForm",{data:e,userId:a,isNew:o,formName:s}).then(function(e){"OK"==e.statusText?t.$message("Success"):t.$message("Error"),t.fetchData()}).catch(function(t){return console.log(t)}),event.preventDefault()},showModal:function(){this.modalVisible=!0,event.preventDefault()},close:function(){this.modalVisible=!1}}},_e=ye,De=Object(v["a"])(_e,be,Ae,!1,null,"46c4cf62",null),we=De.exports,Ie=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"AccountProfile"}},[t.submitted?a("div",{class:t.isError?"errorMsg":"successMsg"},[a("p",{staticStyle:{"font-weight":"bold"}},[t._v(t._s(t.msg))]),a("button",{staticClass:"close",on:{click:t.closeNotification}},[t._v("x")])]):t._e(),a("tabs",[a("tab",{attrs:{title:"Account Information"}},[a("div",{staticClass:"panel"},[a("div",{staticClass:"panel-heading"},[a("h4",[t._v("Account Profile")])]),a("div",{staticClass:"panel-body"},[a("h4",{staticClass:"sectionHeading"},[t._v(t._s(t.accountData.AccountName))]),a("hr"),a("form",{on:{submit:t.formSubmit}},[a("label",{attrs:{for:"accountName"}},[t._v("Account Name:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.accountData.AccountName,expression:"accountData.AccountName"}],attrs:{type:"text",id:"accountName",name:"accountName"},domProps:{value:t.accountData.AccountName},on:{input:function(e){e.target.composing||t.$set(t.accountData,"AccountName",e.target.value)}}}),a("label",{attrs:{for:"createDate"}},[t._v("Date Created:")]),a("input",{attrs:{type:"text",id:"createDate",name:"createDate",disabled:""},domProps:{value:t.getDate(t.accountData.CreateDate)}}),a("label",{attrs:{for:"isActive"}},[t._v("Is Active:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.accountData.IsActive,expression:"accountData.IsActive"}],attrs:{type:"checkbox",id:"isActive",name:"isActive"},domProps:{checked:Array.isArray(t.accountData.IsActive)?t._i(t.accountData.IsActive,null)>-1:t.accountData.IsActive},on:{change:function(e){var a=t.accountData.IsActive,o=e.target,s=!!o.checked;if(Array.isArray(a)){var i=null,r=t._i(a,i);o.checked?r<0&&t.$set(t.accountData,"IsActive",a.concat([i])):r>-1&&t.$set(t.accountData,"IsActive",a.slice(0,r).concat(a.slice(r+1)))}else t.$set(t.accountData,"IsActive",s)}}}),a("br"),a("button",{staticClass:"btn-button",attrs:{type:"submit"}},[t._v("Save")])])])])]),a("tab",{attrs:{title:"Users"}},[a("div",{staticStyle:{"margin-bottom":"10px"}},[a("el-row",[a("el-col",{attrs:{span:6}},[a("el-input",{attrs:{placeholder:"Search Username"},model:{value:t.filters[0].value,callback:function(e){t.$set(t.filters[0],"value",e)},expression:"filters[0].value"}})],1)],1)],1),a("data-tables",{attrs:{data:t.accountUsers,"action-col":t.actionCol,filters:t.filters},on:{"selection-change":t.handleSelectionChange}},[t._l(t.titles,function(t){return a("el-table-column",{key:t.prop,attrs:{prop:t.prop,label:t.label,sortable:"custom"}})}),a("el-table-column",{attrs:{prop:"IsActive",label:"User Active"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[t._v(t._s(t.getBool(e.row.IsActive)))])]}}])}),a("el-table-column",{attrs:{prop:"CreateDate",label:"Date Created"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[t._v(t._s(t.getDate(e.row.CreateDate)))])]}}])})],2)],1)],1)],1)},ke=[],$e={name:"AccountProfile",props:{accountId:{type:String,required:!0}},data:function(){var t=this;return{accountData:[],accountUsers:[],prevRoute:{},msg:"",isError:!0,submitted:!1,success:!1,masterAdmin:!1,admin:!1,titles:[{prop:"Id",label:"User Id"},{prop:"Username",label:"Username"},{prop:"FirstName",label:"First Name"},{prop:"LastName",label:"Last Name"}],filters:[{prop:"Username",value:""}],actionCol:{props:{label:"Actions"},buttons:[{props:{type:"primary"},handler:function(e){t.userId=e.Id,t.$router.push("/userprofile/"+t.userId)},label:"Edit"}]},selectedRow:[]}},watch:{submitted:function(){this.submitted&&setTimeout(this.closeNotification,5e3)}},beforeRouteEnter:function(t,e,a){a(function(t){t.prevRoute=e})},mounted:function(){this.getData()},created:function(){this.$store.getters.isLoggedIn?this.reloadAuthentication():this.$store.getters.isMasterAdmin||this.$store.getters.isAdmin||this.$store.getters.isClientAdmin?this.getData():this.$router.push("/unauthorized")},methods:{getDate:function(t){var e=new Date(t);return e.getMonth()+1+"-"+e.getDate()+"-"+e.getFullYear()},formSubmit:function(){if(event.preventDefault(),this.objectsAreSame(this.accountData,this.$store.getters.accountInformation))this.setNotification(!1);else{var t=this;this.$store.dispatch("updateAccountInformation",this.accountData).then(function(){t.success=!0,t.setNotification(t.success),t.getData()}).catch(function(e){t.success=!1,t.setNotification(t.success),t.getData(),console.log(e)})}},setNotification:function(t){t?(this.submitted=!0,this.isError=!1,this.msg="Successfully updated the account!"):(this.submitted=!0,this.isError=!0,this.msg="There was an error updating the account. Please try again.")},closeNotification:function(){this.msg="",this.submitted=!1,this.isError=!1},getData:function(){var t=this,e=this;this.$store.dispatch("getAccountInformation",this.accountId).then(function(){e.accountData=Object(c["a"])({},t.$store.getters.accountInformation),e.accountUsers=t.$store.getters.accountUsers}).catch(function(t){e.$message("Error loading account data!"),console.log(t)})},objectsAreSame:function(t,e){var a=!0;for(var o in t)t[o]!=e[o]&&(a=!1);return a},goBack:function(){this.$router.push(this.prevRoute.path)},reloadAuthentication:function(){var t=this;this.$store.dispatch("loadRoles").then(function(){t.$store.getters.isMasterAdmin?(t.masterAdmin=!0,t.admin=!0):t.$store.getters.isAdmin&&(t.admin=!0)})},handleSelectionChange:function(t){this.selectedRow=t},getBool:function(t){return t?"True":"False"}}},Se=$e,Ce=Object(v["a"])(Se,Ie,ke,!1,null,"2d88db10",null),Ne=Ce.exports;o["default"].use(s["a"]);var Fe=new s["a"]({mode:"history",routes:[{path:"/home",name:"home",component:B},{path:"/login",name:"login",component:F},{path:"/register",name:"register",component:E},{path:"/about",component:G},{path:"/suggestions",component:rt},{path:"/dashboard",component:mt,redirect:"/dashboardhome",children:[{path:"/dashboardhome",name:"dashboardhome",component:Ft},{path:"/manageusers",name:"manageusers",component:bt},{path:"/pendingitems",name:"pendingitems",component:Gt},{path:"/managestories",name:"managestories",component:te},{path:"/managewisdoms",name:"managewisdoms",component:re},{path:"/manageforms",name:"manageforms",component:me},{path:"/github",name:"github",beforeEnter:function(){window.open("https://github.com/The1CABAL/SkaldBot/projects/1","_blank")}},{path:"/modifyform",name:"modifyform",component:we},{path:"/modifyform/:formKey",name:"modifyform",component:we,props:!0}]},{path:"/userprofile/:userId",name:"userprofile",component:Et,props:!0},{path:"/accountprofile/:accountId",name:"accountprofile",component:Ne,props:!0},{path:"/unauthorized",component:It},{path:"*",redirect:"/home"}],linkExactActiveClass:"activeLink"}),Te=(a("96cf"),a("1da1")),xe={forms:[],form:[]},Me={allForms:function(t){return t.forms},getForm:function(t){return t.form}},Le={fetchAllForms:function(){var t=Object(Te["a"])(regeneratorRuntime.mark(function t(e){var a,o;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a=e.commit,t.next=3,d.a.get(D+"getForms");case 3:o=t.sent,a("setForms",JSON.parse(o.data));case 5:case"end":return t.stop()}},t)}));function e(e){return t.apply(this,arguments)}return e}(),fetchAllFormsByPageId:function(){var t=Object(Te["a"])(regeneratorRuntime.mark(function t(e,a){var o,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return o=e.commit,t.next=3,d.a.get(D+"getFormByPageId?pageId=".concat(a));case 3:s=t.sent,o("setForms",JSON.parse(s.data));case 5:case"end":return t.stop()}},t)}));function e(e,a){return t.apply(this,arguments)}return e}(),fetchFormByFormKey:function(){var t=Object(Te["a"])(regeneratorRuntime.mark(function t(e,a){var o,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return o=e.commit,t.next=3,d.a.get(D+"form?formKey=".concat(a));case 3:s=t.sent,o("setForm",JSON.parse(s.data));case 5:case"end":return t.stop()}},t)}));function e(e,a){return t.apply(this,arguments)}return e}(),updateForm:function(){var t=Object(Te["a"])(regeneratorRuntime.mark(function t(e,a){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e.commit,console.log(a),t.abrupt("return",new Promise(function(t,e){var o=D+"form";d.a.post(o,a).then(function(e){t(e)}).catch(function(t){e(t)})}));case 3:case"end":return t.stop()}},t)}));function e(e,a){return t.apply(this,arguments)}return e}()},Oe={setForms:function(t,e){return t.forms=e},setForm:function(t,e){return t.form=e}},Ee={state:xe,getters:Me,actions:Le,mutations:Oe};o["default"].prototype.$http=d.a;var Re=localStorage.getItem("token");Re&&(o["default"].prototype.$http.defaults.headers.common["Authorization"]=Re);var Ke={token:localStorage.getItem("token")||"",accountId:localStorage.getItem("accountId")||"",status:"",isMasterAdmin:!1,isAdmin:!1,isClientAdmin:!1,isClientUser:!1,isUser:!0,role:"",user:{}},je={userId:function(t){return t.token},accountId:function(t){return t.accountId},isLoggedIn:function(t){return""!=t.token},authStatus:function(t){return t.status},isMasterAdmin:function(t){return"MasterAdmin"==t.role},isAdmin:function(t){return"Admin"==t.role},isClientAdmin:function(t){return"ClientAdmin"==t.Role},isClientUser:function(t){return t.role=!0},isUser:function(t){return t.isUser},user:function(t){return t.user}},Pe={login:function(){var t=Object(Te["a"])(regeneratorRuntime.mark(function t(e,a){var o;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return o=e.commit,t.abrupt("return",new Promise(function(t,e){o("auth_request");var s=D+"login";d.a.post(s,a).then(function(a){var s=JSON.parse(a.data)[0].Id,i=JSON.parse(a.data)[0].AccountId,r=JSON.parse(a.data)[0].Username,n={accountId:i,username:r};localStorage.setItem("token",s),localStorage.setItem("accountId",i),console.log(localStorage.getItem("accountId")),d.a.defaults.headers.common["Authorization"]=s,o("auth_success",s,n);var l=D+"roles?id="+s;d.a.get(l).then(function(e){var a=JSON.parse(e.data);o("user_roles",a[0].Role),t(e)}).catch(function(t){o("auth_error"),localStorage.removeItem("token"),localStorage.removeItem("accountId"),e(t)}),t(a)}).catch(function(t){o("auth_error"),localStorage.removeItem("token"),localStorage.removeItem("accountId"),e(t)})}));case 2:case"end":return t.stop()}},t)}));function e(e,a){return t.apply(this,arguments)}return e}(),register:function(){var t=Object(Te["a"])(regeneratorRuntime.mark(function t(e,a){var o;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return o=e.commit,t.abrupt("return",new Promise(function(t,e){o("auth_request");var s=D+"register";d.a.post(s,a).then(function(e){t(e)}).catch(function(t){o("auth_error"),e(t)})}));case 2:case"end":return t.stop()}},t)}));function e(e,a){return t.apply(this,arguments)}return e}(),loadRoles:function(){var t=Object(Te["a"])(regeneratorRuntime.mark(function t(e){var a,o,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a=e.commit,o=this.getters.userId,s=D+"roles?id="+o,t.abrupt("return",new Promise(function(t,e){d.a.get(s).then(function(e){var o=JSON.parse(e.data);a("user_roles",o[0].Role),t(e)}).catch(function(t){a("auth_error"),localStorage.removeItem("token"),e(t)})}));case 4:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),logout:function(t){var e=t.commit;return new Promise(function(t,a){e("logout"),localStorage.removeItem("token"),localStorage.removeItem("accountId"),delete d.a.defaults.headers.common["Authorization"],t()})}},Ue={auth_request:function(t){t.status="loading"},auth_success:function(t,e,a){t.status="success",t.token=e,t.user=a},user_roles:function(t,e){t.role=e},auth_error:function(t){t.status="error"},logout:function(t){t.status="",t.token="",localStorage.removeItem("token"),localStorage.removeItem("accountId"),t.isMasterAdmin=!1,t.isAdmin=!1,t.isClientAdmin=!1,t.isClientUser=!1,t.isUser=!0}},Be={state:Ke,getters:je,actions:Pe,mutations:Ue},Je={accountInformation:[],users:[]},Ve={accountInformation:function(t){return t.accountInformation},accountUsers:function(t){return t.users}},ze={getAccountInformation:function(){var t=Object(Te["a"])(regeneratorRuntime.mark(function t(e,a){var o;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return o=e.commit,t.abrupt("return",new Promise(function(t,e){var s=D+"account?accountId="+a;d.a.get(s).then(function(e){o("set_account_information",e.data),t(e)}).catch(function(t){o("auth_error"),e(t)})}));case 2:case"end":return t.stop()}},t)}));function e(e,a){return t.apply(this,arguments)}return e}(),updateAccountInformation:function(){var t=Object(Te["a"])(regeneratorRuntime.mark(function t(e,a){var o;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return o=e.commit,t.abrupt("return",new Promise(function(t,e){var s=D+"account";d.a.post(s,a).then(function(e){o("set_account_information",e.data),t(e)}).catch(function(t){o("auth_error"),e(t)})}));case 2:case"end":return t.stop()}},t)}));function e(e,a){return t.apply(this,arguments)}return e}()},He={set_account_information:function(t,e){t.accountInformation=JSON.parse(e[0])[0],t.users=JSON.parse(e[1])},auth_error:function(t){t.accountInformation=[],t.users=[]}},Qe={state:Je,getters:Ve,actions:ze,mutations:He};o["default"].use(_["a"]);var Ge=new _["a"].Store({modules:{authentication:Be,forms:Ee,account:Qe}}),Ye=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("div",{staticClass:"container-nav"},[a("div",{staticClass:"logo"},[a("img",{staticStyle:{height:"60px"},attrs:{src:t.logoImage}})]),a("div",{staticClass:"navbar"},[a("div",{staticClass:"icon-bar",on:{click:function(e){t.Show()}}},[a("i"),a("i"),a("i")]),a("ul",{attrs:{id:"nav-lists"}},[a("li",{staticClass:"close"},[a("span",{on:{click:function(e){t.Hide()}}},[t._v("×")])]),a("li",[a("router-link",{attrs:{to:"/"}},[t._v("Home")])],1),a("li",[a("router-link",{attrs:{to:"/about"}},[t._v("About")])],1),a("li",[a("router-link",{attrs:{to:"/suggestions"}},[t._v("Submit Ideas")])],1),a("li",[t.authenticated&&(t.admin||t.masterAdmin)?a("router-link",{attrs:{to:"/dashboard"}},[t._v("Dashboard")]):t._e()],1),a("li",[t.authenticated&&t.clientAdmin?a("router-link",{attrs:{to:"/accountprofile"},nativeOn:{click:function(e){t.account()}}},[t._v("Account Profile")]):t._e()],1),a("li",[t.authenticated?a("router-link",{attrs:{to:"/userprofile"},nativeOn:{click:function(e){t.profile()}}},[t._v("User Profile")]):t._e()],1),a("li",[t.authenticated?a("router-link",{attrs:{to:"/"},nativeOn:{click:function(e){t.logout()}}},[t._v("Logout")]):t._e()],1),a("li",[t.authenticated?t._e():a("router-link",{attrs:{to:"login"}},[t._v("Login")])],1)])])]),a("router-view",{on:{authenticated:t.setAuthenticated}})],1)},We=[],qe={name:"app",data:function(){return{authenticated:!1,logoImage:a("cf05"),background:a("749f"),masterAdmin:!1,clientAdmin:!1,admin:!1,user:!0,userActivityThrottlerTimeout:null,userActivityTimeout:null}},beforeMount:function(){this.activateActivityTracker()},beforeDestroy:function(){window.removeEventListener("mousemove",this.userActivityThrottler),window.removeEventListener("scroll",this.userActivityThrottler),window.removeEventListener("keydown",this.userActivityThrottler),window.removeEventListener("resize",this.userActivityThrottler),clearTimeout(this.userActivityTimeout),clearTimeout(this.userActivityThrottlerTimeout)},mounted:function(){this.$store.getters.isLoggedIn&&this.reloadAuthentication()},watch:{},computed:Object(c["a"])({},Object(_["c"])(["isLoggedIn","isAdmin","isMasterAdmin","isUser"])),created:function(){this.$http.interceptors.response.use(void 0,function(t){return new Promise(function(e,a){throw 401==t.status&&t.config&&!t.config__isRetryRequest&&this.$store.dispatch(logout),t})}),this.$store.getters.isLoggedIn&&this.reloadAuthentication()},methods:{Show:function(){document.getElementById("nav-lists").classList.add("_Menus-show")},Hide:function(){document.getElementById("nav-lists").classList.remove("_Menus-show")},setAuthenticated:function(){var t=this,e=this.$route.path;"/login"==e||"/register"==e?(this.$router.push("/"),this.$store.dispatch("loadRoles").then(function(){t.$store.getters.isMasterAdmin?(t.masterAdmin=!0,t.admin=!0,t.clientAdmin=!0):t.$store.getters.isAdmin?(t.admin=!0,t.clientAdmin=!0):t.$store.getters.isClientAdmin&&(t.clientAdmin=!0),t.authenticated=!0,t.$message("Successfully Signed In!")}).catch(function(t){return console.log(t)})):this.$store.dispatch("loadRoles").then(function(){t.$store.getters.isMasterAdmin?(t.masterAdmin=!0,t.admin=!0,t.clientAdmin=!0):t.$store.getters.isAdmin?(t.admin=!0,t.clientAdmin=!0):t.$store.getters.isClientAdmin&&(t.clientAdmin=!0),t.authenticated=!0})},logout:function(){var t=this;this.$store.dispatch("logout").then(function(){t.authenticated=!1,t.masterAdmin=!1,t.admin=!1,t.clientAdmin=!1,t.$message("Logged out!")})},activateActivityTracker:function(){window.addEventListener("mousemove",this.userActivityThrottler),window.addEventListener("mousemove",this.resetUserActivityTimeout),window.addEventListener("scroll",this.resetUserActivityTimeout),window.addEventListener("keydown",this.resetUserActivityTimeout),window.addEventListener("resize",this.resetUserActivityTimeout)},resetUserActivityTimeout:function(){var t=this;clearTimeout(this.userActivityTimeout),this.userActivityTimeout=setTimeout(function(){t.inactiveUserAction()},18e5)},userActivityThrottler:function(){var t=this;this.userActivityThrottlerTimeout||(this.userActivityThrottlerTimeout=setTimeout(function(){t.resetUserActivityTimeout(),clearTimeout(t.userActivityThrottlerTimeout),t.userActivityThrottlerTimeout=null},18e5))},inactiveUserAction:function(){this.authenticated&&(this.$store.dispatch("logout"),location.reload())},reloadAuthentication:function(){var t=this;this.$store.dispatch("loadRoles").then(function(){t.$store.getters.isMasterAdmin?(t.masterAdmin=!0,t.admin=!0,t.clientAdmin=!0):t.$store.getters.isAdmin?(t.admin=!0,t.clientAdmin=!0):t.$store.getters.isClientAdmin&&(t.clientAdmin=!0),t.authenticated=!0})},profile:function(){this.$router.push("/userprofile/"+this.$store.getters.userId)},account:function(){this.$router.push("/accountprofile/"+this.$store.getters.accountId)}}},Ze=qe,Xe=(a("c0b9"),Object(v["a"])(Ze,Ye,We,!1,null,null,null)),ta=Xe.exports,ea=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",["checkbox"===t.passwordFieldType?a("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"value"}],staticClass:"form-control",attrs:{disabled:t.schema.disabled,maxlength:t.schema.max,placeholder:t.schema.placeholder,readonly:t.schema.readonly,validators:t.schema.validators,showButton:t.schema.showButton,type:"checkbox"},domProps:{checked:Array.isArray(t.value)?t._i(t.value,null)>-1:t.value},on:{change:function(e){var a=t.value,o=e.target,s=!!o.checked;if(Array.isArray(a)){var i=null,r=t._i(a,i);o.checked?r<0&&(t.value=a.concat([i])):r>-1&&(t.value=a.slice(0,r).concat(a.slice(r+1)))}else t.value=s}}}):"radio"===t.passwordFieldType?a("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"value"}],staticClass:"form-control",attrs:{disabled:t.schema.disabled,maxlength:t.schema.max,placeholder:t.schema.placeholder,readonly:t.schema.readonly,validators:t.schema.validators,showButton:t.schema.showButton,type:"radio"},domProps:{checked:t._q(t.value,null)},on:{change:function(e){t.value=null}}}):a("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"value"}],staticClass:"form-control",attrs:{disabled:t.schema.disabled,maxlength:t.schema.max,placeholder:t.schema.placeholder,readonly:t.schema.readonly,validators:t.schema.validators,showButton:t.schema.showButton,type:t.passwordFieldType},domProps:{value:t.value},on:{input:function(e){e.target.composing||(t.value=e.target.value)}}}),t.showButton?a("input",{attrs:{type:"checkbox",id:"togglePassword"},on:{click:t.showPassword}}):t._e(),t.showButton?a("label",{attrs:{for:"togglePassword"}},[t._v("Show Password")]):t._e()])},aa=[],oa={name:"passwordField",mixins:[A["abstractField"]],data:function(){return{showButton:!1,passwordFieldType:"password"}},mounted:function(){this.showButton=this.schema.showButton},watch:{showButton:function(t,e){t!=e&&(this.showButton=t)}},methods:{showPassword:function(){"password"==this.passwordFieldType?this.passwordFieldType="text":this.passwordFieldType="password"}}},sa=oa,ia=(a("09e8"),Object(v["a"])(sa,ea,aa,!1,null,"4e8a6ce6",null)),ra=ia.exports,na=a("5c96"),la=a.n(na),ca=(a("26af"),a("b2d6")),ua=a.n(ca),da=a("4897"),ma=a.n(da),ha=a("e391"),pa=a.n(ha),fa=a("0652");o["default"].use(y.a),o["default"].component("fieldPassword",ra),o["default"].use(la.a),ma.a.use(ua.a),o["default"].use(pa.a),o["default"].use(fa),new o["default"]({el:"#app",router:Fe,store:Ge,render:function(t){return t(ta)}})},"585b":function(t,e,a){},6293:function(t,e,a){},"749f":function(t,e,a){t.exports=a.p+"img/SbBackground.0eea793b.jpg"},7931:function(t,e,a){},"7ee2":function(t,e,a){},b98d:function(t,e,a){"use strict";var o=a("7931"),s=a.n(o);s.a},c0b9:function(t,e,a){"use strict";var o=a("6293"),s=a.n(o);s.a},c123:function(t,e,a){"use strict";var o=a("1af1"),s=a.n(o);s.a},cf05:function(t,e,a){t.exports=a.p+"img/logo.589e42b4.png"},cf1c:function(t,e){t.exports="data:image/gif;base64,R0lGODlhEAAQAPIAACjGw9ns8FHOzKrh49ns8JTc3n3Y2HLV1iH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA=="}});
//# sourceMappingURL=app.802abd4e.js.map