(function(e){function t(t){for(var s,n,i=t[0],c=t[1],u=t[2],d=0,m=[];d<i.length;d++)n=i[d],Object.prototype.hasOwnProperty.call(r,n)&&r[n]&&m.push(r[n][0]),r[n]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(e[s]=c[s]);l&&l(t);while(m.length)m.shift()();return o.push.apply(o,u||[]),a()}function a(){for(var e,t=0;t<o.length;t++){for(var a=o[t],s=!0,i=1;i<a.length;i++){var c=a[i];0!==r[c]&&(s=!1)}s&&(o.splice(t--,1),e=n(n.s=a[0]))}return e}var s={},r={app:0},o=[];function n(t){if(s[t])return s[t].exports;var a=s[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=s,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)n.d(a,s,function(t){return e[t]}.bind(null,s));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=t,i=i.slice();for(var u=0;u<i.length;u++)t(i[u]);var l=c;o.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"034f":function(e,t,a){"use strict";var s=a("e773"),r=a.n(s);r.a},"09e8":function(e,t,a){"use strict";var s=a("585b"),r=a.n(s);r.a},"1af1":function(e,t,a){},2616:function(e,t,a){"use strict";var s=a("553e"),r=a.n(s);r.a},"35d5":function(e,t,a){"use strict";var s=a("3d80"),r=a.n(s);r.a},"3d80":function(e,t,a){},"553e":function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t);var s=a("2b0e"),r=a("8c4f"),o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"login"}},[a("div",[""!=e.formKey?a("Form",{attrs:{formKey:e.formKey},on:{LoginSuccess:e.login}}):e._e(),a("router-link",{staticClass:"link",attrs:{to:"/register"}},[e._v("Register")])],1)])},n=[],i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form"},[e.loaded?e._e():a("div",[a("VueLoading")],1),e.submitted?a("div",{class:[{isError:"errorMsg"},"successMsg"]},[a("p",{staticStyle:{"font-weight":"bold"}},[e._v(e._s(e.msg))]),a("button",{staticClass:"close",on:{click:e.closeNotification}},[e._v("x")])]):e._e(),e.loaded?a("div",{staticClass:"panel"},[a("div",{staticClass:"panel-heading"},[e._v(e._s(e.formName))]),a("hr"),a("div",{staticClass:"panel-body"},[a("form",{attrs:{action:""},on:{submit:e.formSubmit}},[e.loaded?a("vue-form-generator",{attrs:{schema:e.schema,model:e.model,options:e.formOptions},on:{validated:e.validateForm}}):e._e()],1)])]):e._e(),e.admin?a("div",[a("input",{attrs:{type:"checkbox",id:"cbShowFormDetails",name:"cbShowFormDetails"},on:{change:e.showFormDetails}}),a("label",{attrs:{for:"cbShowFormDetails"}},[e._v("Show Form Information")])]):e._e(),e.showFormExtras?a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"panel-heading"},[e._v("Model")]),a("div",{staticClass:"panel-body"},[e.model?a("pre",{domProps:{innerHTML:e._s(e.prettyJSON(e.model))}}):e._e()])]):e._e(),e.showFormExtras?a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"panel-heading"},[e._v("Schema")]),a("div",{staticClass:"panel-body"},[e.model?a("pre",{domProps:{innerHTML:e._s(e.prettyJSON(e.schema))}}):e._e()])]):e._e()])},c=[],u=(a("6b54"),a("a481"),a("5530")),l=a("bc3a"),d=a.n(l),m=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("img",{staticClass:"loadingImg",attrs:{src:e.loader,alt:"loadingGif"}})])},h=[],f={name:"vue-loading",data:function(){return{loader:a("cf1c")}}},v=f,p=(a("b98d"),a("2877")),g=Object(p["a"])(v,m,h,!1,null,"176b3d38",null),A=g.exports,b=a("4309"),y=a.n(b),w=(a("92bd"),a("2f62")),_="http://127.0.0.1:5000/api/";y.a.validators.emailValidation=function(e,t,a){var s=a.email,r=e;return s!=r?["Emails do not match!"]:[]},y.a.validators.passwordValidation=function(e,t,a){var s=a.password,r=e;return s!=r?["Passwords do not match!"]:[]};var I={name:"Form",components:{VueLoading:A},props:{formKey:{type:String,required:!0}},mounted:function(){this.loaded=!1;var e=_+"getFormSchema?formKey="+this.formKey,t=_+"getActionLink?formKey="+this.formKey,a=_+"getFormName?formKey="+this.formKey,s=this;d.a.get(e).then(function(e){s.schema=JSON.parse(e.data)}).catch(function(e){console.log(e),this.$emit("error",!0)}),d.a.get(t).then(function(e){var t=JSON.parse(e.data),a=t[0];s.action=baseUrl+a.ActionLink}).catch(function(e){console.log(e)}),d.a.get(a).then(function(e){var t=JSON.parse(e.data),a=t[0].FormName;s.formName=a,s.loaded=!0}).catch(function(e){console.log(e)})},watch:{formKey:function(){this.loaded=!1;var e="http://127.0.0.1:5000",t=_+"getFormSchema?formKey="+this.formKey,a=e+"getActionLink?formKey="+this.formKey,s=_+"getFormName?formKey="+this.formKey,r=this;d.a.get(t).then(function(e){r.schema=JSON.parse(e.data)}).catch(function(e){console.log(e),this.$emit("error",!0)}),d.a.get(a).then(function(t){var a=JSON.parse(t.data),s=a[0];r.action=e+s.ActionLink}).catch(function(e){console.log(e)}),d.a.get(s).then(function(e){var t=JSON.parse(e.data),a=t[0].FormName;r.formName=a,r.loaded=!0}).catch(function(e){console.log(e)})},loaded:function(){this.loaded&&this.newModel()},submitted:function(){this.submitted&&setTimeout(this.closeNotification,5e3)}},data:function(){return{action:"",model:{},schema:null,options:{validatedAfterLoad:!1,validatedAfterChange:!0},loaded:!1,msg:"",isError:!1,submitted:!1,admin:!1,formName:"Test",showFormExtras:!1,isValid:!1,formOptions:{validateAfterLoad:!1,validateAfterChanged:!0}}},created:function(){console.log(this.$store.getters.isAdmin),console.log(this.$store.getters.isMasterAdmin),(this.$store.getters.isAdmin||this.$store.getters.isMasterAdmin)&&(this.admin=!0)},methods:Object(u["a"])(Object(u["a"])({},Object(w["b"])(["fetchFormData"])),{},{prettyJSON:function(e){if(e)return e=JSON.stringify(e,void 0,4),e=e.replace(/&/g,"&").replace(/</g,"<").replace(/>/g,">"),e.replace(/("(\\u[a-zA-Z0-9]{4}|\\[^u]|[^\\"])*"(\s*:)?|\b(true|false|null)\b|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)/g,function(e){var t="number";return/^"/.test(e)?t=/:$/.test(e)?"key":"string":/true|false/.test(e)?t="boolean":/null/.test(e)&&(t="null"),'<span class="'+t+'">'+e+"</span>"})},newModel:function(){"LoginForm"!=this.formKey&&(this.model=y.a.schema.createDefaultObject(this.schema))},validateForm:function(e){this.isValid=e},formSubmit:function(){var e=this;if(this.isValid){var t=this.action,a=this;if("LoginForm"==this.formKey||"RegisterForm"==this.formKey){var s=this.model.username,r=this.model.password;"LoginForm"==this.formKey?this.$store.dispatch("login",{username:s,password:r}).then(function(){return e.$emit("LoginSuccess",!0)}).catch(function(e){return console.log(e)}):this.$store.dispatch("register",{username:s,password:r}).then(function(){return e.$emit("RegisterSuccess",!0)}).catch(function(e){return console.log(e)})}else d.a.post(t,this.model).then(function(e){var t=e.data;"Success"==t.Message.toString()?a.setNotification(!0):a.setNotification(!1)})}event.preventDefault()},setNotification:function(e){e?(this.submitted=!0,this.msg="Successfully submitted the suggestion!"):(this.submitted=!0,this.isError=!0,this.msg="There was an error submitting the suggestion. Please try again.")},closeNotification:function(){this.msg="",this.submitted=!1},showFormDetails:function(){this.showFormExtras?this.showFormExtras=!1:this.showFormExtras=!0}}),computed:Object(u["a"])({},Object(w["c"])(["formSchema","isAdmin","isMasterAdmin","isUser"]))},k=I,D=(a("8910"),Object(p["a"])(k,i,c,!1,null,"91dc1b30",null)),F=D.exports,S={name:"Login",components:{Form:F},data:function(){return{formKey:"LoginForm"}},methods:{login:function(){console.log("Logging in..."),this.$emit("authenticated",!0)}}},C=S,x=(a("2616"),Object(p["a"])(C,o,n,!1,null,"3fb9a190",null)),L=x.exports,E=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"login"}},[""!=e.formKey?a("Form",{attrs:{formKey:e.formKey},on:{RegisterSuccess:e.login}}):e._e(),a("router-link",{staticClass:"link",attrs:{to:"/login"}},[e._v("Login")])],1)},O=[],N={name:"Register",components:{Form:F},data:function(){return{formKey:"RegisterForm"}},methods:{login:function(){console.log("Logging in..."),this.$emit("authenticated",!0)}}},$=N,K=(a("c123"),Object(p["a"])($,E,O,!1,null,"1a7bca44",null)),M=K.exports,T=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},j=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"image"})])}],U={name:"HomePage"},P=U,B=(a("8ad9"),Object(p["a"])(P,T,j,!1,null,"a8013690",null)),R=B.exports,J=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},Q=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"about"},[a("h1",[e._v("About")]),a("hr"),a("p",[e._v("About the SkaldBot")])])}],H={},G=Object(p["a"])(H,J,Q,!1,null,null,null),z=G.exports,Y=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"suggestions"},[a("SelectForm",{attrs:{pageId:e.pageId},on:{formKey:e.onChildChange}}),""!=e.formKey?a("Form",{attrs:{formKey:e.formKey},on:{error:e.error}}):e._e()],1)},V=[],q=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"selectsuggestion"},[a("div",[a("select",{staticClass:"select-css",on:{change:function(t){e.setKey(t)}}},[a("option",{attrs:{value:"select"}},[e._v("Select")]),e._l(e.allForms,function(t){return a("option",{key:t.FormKey,domProps:{value:t.FormKey}},[e._v(e._s(t.FormName))])})],2)])])},W=[],Z={name:"SelectForm",props:["pageId"],data:function(){return{formKey:"",thePageId:Object(u["a"])({},this.pageId)}},methods:Object(u["a"])(Object(u["a"])({},Object(w["b"])(["fetchAllForms","fetchAllFormsByPageId"])),{},{setKey:function(e){var t=e.target.options[e.target.options.selectedIndex].value;"select"==t?(this.formKey=t,this.$emit("formKey","")):(this.formKey=t,this.$emit("formKey",t))}}),computed:Object(w["c"])(["allForms"]),created:function(){0==this.pageId||void 0==this.pageId?this.fetchAllForms():(console.log(this.pageId),this.fetchAllFormsByPageId(this.pageId))}},X=Z,ee=(a("ee26"),Object(p["a"])(X,q,W,!1,null,"ab3fd65a",null)),te=ee.exports,ae={name:"Suggestions",components:{SelectForm:te,Form:F},data:function(){return{formKey:"",pageId:"1"}},methods:{onChildChange:function(e){""!=this.formKey&&(this.formKey=""),this.formKey=e},error:function(e){1==e&&(this.formKey="")}}},se=ae,re=Object(p["a"])(se,Y,V,!1,null,"710d7b04",null),oe=re.exports,ne=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"dashboard"}},[a("div",{staticClass:"sidenav"},[a("ul",[a("li",[a("router-link",{attrs:{to:"/dashboardhome"}},[e._v("Dashboard Home")])],1),a("li",[a("router-link",{attrs:{to:"/manageusers"}},[e._v("Users")])],1),a("li",[a("router-link",{attrs:{to:"/manageforms"}},[e._v("Manage Forms")])],1),a("li",[a("router-link",{attrs:{to:"/managestories"}},[e._v("Manage Stories")])],1),a("li",[a("router-link",{attrs:{to:"/managewisdoms"}},[e._v("Manage Wisdoms")])],1)])]),a("div",{staticClass:"dashboardContainer"},[a("router-view")],1)])},ie=[],ce={name:"Dashboard",data:function(){return{isLoaded:!1}}},ue=ce,le=(a("e2c3"),Object(p["a"])(ue,ne,ie,!1,null,"72653794",null)),de=le.exports,me=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.loaded?e._e():a("VueLoading"),e.loaded?a("div",[a("div",{staticStyle:{"margin-bottom":"10px"}},[a("el-row",[a("el-col",{attrs:{span:6}},[a("el-input",{attrs:{placeholder:"Search Username"},model:{value:e.filters[0].value,callback:function(t){e.$set(e.filters[0],"value",t)},expression:"filters[0].value"}})],1)],1)],1),a("data-tables",{attrs:{data:e.data,"action-col":e.actionCol,filters:e.filters},on:{"selection-change":e.handleSelectionChange}},[e._l(e.titles,function(e){return a("el-table-column",{key:e.prop,attrs:{prop:e.prop,label:e.label,sortable:"custom"}})}),a("el-table-column",{attrs:{prop:"IsActive",label:"User Active"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[e._v(e._s(e.getBool(t.row.IsActive)))])]}}])}),a("el-table-column",{attrs:{prop:"CreateDate",label:"Date Created"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[e._v(e._s(e.getDate(t.row.CreateDate)))])]}}])})],2)],1):e._e()],1)},he=[],fe={name:"ManageUsers",components:{VueLoading:A},data:function(){var e=this;return{userId:"",loaded:!1,data:[],titles:[{prop:"Id",label:"User Id"},{prop:"Username",label:"Username"},{prop:"FirstName",label:"First Name"},{prop:"LastName",label:"Last Name"}],filters:[{prop:"Username",value:""}],actionCol:{props:{label:"Actions"},buttons:[{props:{type:"primary"},handler:function(t){e.userId=t.Id,e.$router.push("/userprofile/"+e.userId)},label:"Edit"}]},selectedRow:[]}},mounted:function(){this.loaded=!1;var e=_+"getUsers?isMaster="+this.$store.getters.isMasterAdmin,t=this;d.a.get(e).then(function(e){t.data=JSON.parse(e.data)}).catch(function(e){console.log(e),this.$emit("error",!0)}),t.loaded=!0},methods:{handleSelectionChange:function(e){this.selectedRow=e},getDate:function(e){var t=new Date(e);return t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate()},getBool:function(e){return e?"True":"False"}}},ve=fe,pe=Object(p["a"])(ve,me,he,!1,null,null,null),ge=pe.exports,Ae=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},be=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"wrapper",attrs:{id:"unauthorized"}},[a("p",{staticClass:"centerText"},[e._v("You do not have permission to view this page.")])])}],ye={name:"unauthorized"},we=ye,_e=(a("35d5"),Object(p["a"])(we,Ae,be,!1,null,"58576fd2",null)),Ie=_e.exports,ke=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},De=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"DashboardHome"}},[a("p",[e._v("This is the home dashboard")])])}],Fe={name:"DashboardHome",created:function(){this.$store.getters.isMasterAdmin||this.$store.getters.isAdmin?(this.isLoaded=!0,this.$router.push("/dashboardhome")):this.$router.push("/unauthorized")}},Se=Fe,Ce=Object(p["a"])(Se,ke,De,!1,null,"18af8d56",null),xe=Ce.exports,Le=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"UserProfile"}},[a("div",{staticClass:"panel"},[e._m(0),a("div",{staticClass:"panel-body"},[a("h4",{staticClass:"sectionHeading"},[e._v(e._s(e.userData.FirstName)+" "+e._s(e.userData.LastName))]),a("hr"),a("label",{attrs:{for:"userName"}},[e._v("Username:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.userData.Username,expression:"userData.Username"}],attrs:{type:"text",id:"userName",name:"userName"},domProps:{value:e.userData.Username},on:{input:function(t){t.target.composing||e.$set(e.userData,"Username",t.target.value)}}}),a("label",{attrs:{for:"firstName"}},[e._v("First Name:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.userData.FirstName,expression:"userData.FirstName"}],attrs:{type:"text",id:"firstName",name:"firstName"},domProps:{value:e.userData.FirstName},on:{input:function(t){t.target.composing||e.$set(e.userData,"FirstName",t.target.value)}}}),a("label",{attrs:{for:"lastName"}},[e._v("Last Name:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.userData.LastName,expression:"userData.LastName"}],attrs:{type:"text",id:"lastName",name:"lastName"},domProps:{value:e.userData.LastName},on:{input:function(t){t.target.composing||e.$set(e.userData,"LastName",t.target.value)}}}),a("label",{attrs:{for:"createDate"}},[e._v("Date Created:")]),a("input",{attrs:{type:"text",id:"createDate",name:"createDate",disabled:""},domProps:{value:e.getDate(e.userData.CreateDate)}}),e.isAdmin?a("div",[a("div",[a("hr"),a("h4",{staticClass:"sectionHeading"},[e._v("Admin Options")]),a("div",[a("label",{attrs:{for:"isActive"}},[e._v("Is User Active:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.userData.IsActive,expression:"userData.IsActive"}],attrs:{type:"checkbox",id:"isActive",name:"isActive"},domProps:{checked:Array.isArray(e.userData.IsActive)?e._i(e.userData.IsActive,null)>-1:e.userData.IsActive},on:{change:function(t){var a=e.userData.IsActive,s=t.target,r=!!s.checked;if(Array.isArray(a)){var o=null,n=e._i(a,o);s.checked?n<0&&e.$set(e.userData,"IsActive",a.concat([o])):n>-1&&e.$set(e.userData,"IsActive",a.slice(0,n).concat(a.slice(n+1)))}else e.$set(e.userData,"IsActive",r)}}})]),a("div",[a("label",{attrs:{for:"isLocked"}},[e._v("Is User Locked:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.userData.IsLocked,expression:"userData.IsLocked"}],attrs:{type:"checkbox",id:"isLocked",name:"isLocked"},domProps:{checked:Array.isArray(e.userData.IsLocked)?e._i(e.userData.IsLocked,null)>-1:e.userData.IsLocked},on:{change:function(t){var a=e.userData.IsLocked,s=t.target,r=!!s.checked;if(Array.isArray(a)){var o=null,n=e._i(a,o);s.checked?n<0&&e.$set(e.userData,"IsLocked",a.concat([o])):n>-1&&e.$set(e.userData,"IsLocked",a.slice(0,n).concat(a.slice(n+1)))}else e.$set(e.userData,"IsLocked",r)}}})])]),e._m(1)]):e._e()])])])},Ee=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"panel-heading"},[a("h4",[e._v("User Profile")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("hr"),a("h4",{staticClass:"sectionHeading"},[e._v("Permissions")]),a("div")])}],Oe={name:"UserProfile",props:{userId:{type:String,required:!0}},data:function(){return{isAdmin:!1,userData:[],roles:[]}},mounted:function(){var e=_+"getUser?userId="+this.userId,t=_+"getRoles",a=this;d.a.get(e).then(function(e){console.log(e.data),a.userData=JSON.parse(e.data[0]),a.userData=a.userData[0],console.log(a.userData)}).catch(function(e){console.log(e)}),d.a.get(t).then(function(e){console.log(e.data)}).catch(function(e){console.log(e)}),(this.$store.getters.isAdmin||this.$store.getters.isMasterAdmin)&&(this.isAdmin=!0)},methods:{getDate:function(e){var t=new Date(e);return t.getMonth()+1+"-"+t.getDate()+"-"+t.getFullYear()}}},Ne=Oe,$e=(a("80f2"),Object(p["a"])(Ne,Le,Ee,!1,null,"04dc2c50",null)),Ke=$e.exports;s["default"].use(r["a"]);var Me=new r["a"]({mode:"history",routes:[{path:"/home",name:"home",component:R},{path:"/login",name:"login",component:L},{path:"/register",name:"register",component:M},{path:"/about",component:z},{path:"/suggestions",component:oe},{path:"/dashboard",component:de,redirect:"/dashboardhome",children:[{path:"/dashboardhome",name:"dashboardhome",component:xe},{path:"/manageusers",name:"manageusers",component:ge}]},{path:"/userprofile/:userId",component:Ke,props:!0},{path:"/unauthorized",component:Ie},{path:"*",redirect:"/home"}],linkExactActiveClass:"activeLink"}),Te=(a("96cf"),a("1da1")),je={forms:[]},Ue={allForms:function(e){return e.forms},formSchema:function(e){return e.formSchema}},Pe={fetchAllForms:function(){var e=Object(Te["a"])(regeneratorRuntime.mark(function e(t){var a,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a=t.commit,e.next=3,d.a.get("http://127.0.0.1:5000/api/getForms");case 3:s=e.sent,a("setForms",JSON.parse(s.data));case 5:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}(),fetchAllFormsByPageId:function(){var e=Object(Te["a"])(regeneratorRuntime.mark(function e(t,a){var s,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return s=t.commit,e.next=3,d.a.get("http://127.0.0.1:5000/api/getFormByPageId?pageId=".concat(a));case 3:r=e.sent,s("setForms",JSON.parse(r.data));case 5:case"end":return e.stop()}},e)}));function t(t,a){return e.apply(this,arguments)}return t}()},Be={setForms:function(e,t){return e.forms=t}},Re={state:je,getters:Ue,actions:Pe,mutations:Be};s["default"].prototype.$http=d.a;var Je=localStorage.getItem("token");Je&&(s["default"].prototype.$http.defaults.headers.common["Authorization"]=Je);var Qe={token:localStorage.getItem("token")||"",status:"",user:[],isMasterAdmin:localStorage.getItem("isMasterAdmin")||!1,isAdmin:localStorage.getItem("isAdmin")||!1,isUser:!0},He={isLoggedIn:function(e){return!!e.token},authStatus:function(e){return e.status},isMasterAdmin:function(e){return e.isMasterAdmin},isAdmin:function(e){return e.isAdmin},isUser:function(e){return e.isUser}},Ge={login:function(){var e=Object(Te["a"])(regeneratorRuntime.mark(function e(t,a){var s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return s=t.commit,e.abrupt("return",new Promise(function(e,t){s("auth_request");var r=_+"login";d.a.post(r,a).then(function(t){var a=t.data.token,r=t.data.user;localStorage.setItem("token",a),d.a.defaults.headers.common["Authorization"]=a,s("auth_success",a,r),e(t)}).catch(function(e){s("auth_error"),localStorage.removeItem("token"),t(e)});var o=_+"roles?username="+a.username;d.a.get(o).then(function(t){var a=JSON.parse(t.data);s("user_roles",a[0].Role),e(t)}).catch(function(e){t(e)})}));case 2:case"end":return e.stop()}},e)}));function t(t,a){return e.apply(this,arguments)}return t}(),register:function(){var e=Object(Te["a"])(regeneratorRuntime.mark(function e(t,a){var s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return s=t.commit,e.abrupt("return",new Promise(function(e,t){s("auth_request");var r=_+"register";d.a.post(r,a).then(function(t){var a=t.data.token,r=t.data.user;localStorage.setItem("token",a),d.a.defaults.headers.common["Authorization"]=a,s("auth_success",a,r),e(t)}).catch(function(e){s("auth_error"),localStorage.removeItem("token"),t(e)})}));case 2:case"end":return e.stop()}},e)}));function t(t,a){return e.apply(this,arguments)}return t}(),logout:function(e){var t=e.commit;return new Promise(function(e,a){t("logout"),localStorage.removeItem("token"),delete d.a.defaults.headers.common["Authorization"],e()})}},ze={auth_request:function(e){e.status="loading"},auth_success:function(e,t,a){e.status="success",e.token=t,e.user=a},user_roles:function(e,t){"MasterAdmin"==t&&(e.isMasterAdmin=!0,localStorage.setItem("isMasterAdmin",!0)),"Admin"==t&&(e.isAdmin=!0,localStorage.setItem("isAdmin",!0))},auth_error:function(e){e.status="error"},logout:function(e){e.status="",e.token="",e.isMasterAdmin=!1,localStorage.removeItem("isMasterAdmin"),e.isAdmin=!1,localStorage.removeItem("isAdmin"),e.isUser=!0}},Ye={state:Qe,getters:He,actions:Ge,mutations:ze};s["default"].use(w["a"]);var Ve=new w["a"].Store({modules:{authentication:Ye,forms:Re}}),qe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("div",{staticClass:"container"},[a("div",{staticClass:"logo"},[a("img",{staticStyle:{height:"60px"},attrs:{src:e.logoImage}})]),a("div",{staticClass:"navbar"},[a("div",{staticClass:"icon-bar",on:{click:function(t){e.Show()}}},[a("i"),a("i"),a("i")]),a("ul",{attrs:{id:"nav-lists"}},[a("li",{staticClass:"close"},[a("span",{on:{click:function(t){e.Hide()}}},[e._v("×")])]),a("li",[a("router-link",{attrs:{to:"/"}},[e._v("Home")])],1),a("li",[a("router-link",{attrs:{to:"/about"}},[e._v("About")])],1),a("li",[a("router-link",{attrs:{to:"/suggestions"}},[e._v("Submit Ideas")])],1),a("li",[e.authenticated&&(e.admin||e.masterAdmin)?a("router-link",{attrs:{to:"/dashboard"}},[e._v("Dashboard")]):e._e()],1),a("li",[e.authenticated?a("router-link",{attrs:{to:"/"},nativeOn:{click:function(t){e.logout()}}},[e._v("Logout")]):e._e()],1),a("li",[e.authenticated?e._e():a("router-link",{attrs:{to:"/login"}},[e._v("Login")])],1)])])]),a("router-view",{on:{authenticated:e.setAuthenticated}})],1)},We=[],Ze={name:"app",data:function(){return{authenticated:!1,logoImage:a("cf05"),background:a("749f"),masterAdmin:!1,admin:!1,user:!0,isInactive:!1,userActivityThrottlerTimeout:null,userActivityTimeout:null}},beforeMount:function(){this.activateActivityTracker()},beforeDestroy:function(){window.removeEventListener("mousemove",this.userActivityThrottler),window.removeEventListener("scroll",this.userActivityThrottler),window.removeEventListener("keydown",this.userActivityThrottler),window.removeEventListener("resize",this.userActivityThrottler),clearTimeout(this.userActivityTimeout),clearTimeout(this.userActivityThrottlerTimeout)},mounted:function(){this.isLoggedIn?this.authenticated||(this.authenticated=!0):this.authenticated&&(this.authenticated=!1)},watch:{isLoggedIn:function(){this.isLoggedIn&&!this.authenticated?this.setAuthenticated:!this.isLoggedIn&&this.authenticated&&this.setAuthenticated}},computed:Object(u["a"])({},Object(w["c"])(["isLoggedIn","isAdmin","isMasterAdmin","isUser"])),created:function(){this.$http.interceptors.response.use(void 0,function(e){return new Promise(function(t,a){throw 401==e.status&&e.config&&!e.config__isRetryRequest&&this.$store.dispatch(logout),e})}),this.$store.getters.isMasterAdmin?(this.masterAdmin=!0,this.admin=!0):this.$store.getters.isAdmin&&(this.admin=!0)},methods:{Show:function(){document.getElementById("nav-lists").classList.add("_Menus-show")},Hide:function(){document.getElementById("nav-lists").classList.remove("_Menus-show")},setAuthenticated:function(){console.log("Setting authentication"),this.authenticated=!0,this.authenticated&&this.$router.push("/")},logout:function(){var e=this;this.$store.dispatch("logout").then(function(){e.authenticated=!1})},activateActivityTracker:function(){window.addEventListener("mousemove",this.userActivityThrottler),window.addEventListener("mousemove",this.resetUserActivityTimeout),window.addEventListener("scroll",this.resetUserActivityTimeout),window.addEventListener("keydown",this.resetUserActivityTimeout),window.addEventListener("resize",this.resetUserActivityTimeout),window.addEventListener("beforeunload",function(){console.log("Unloading"),this.inactiveUserAction()})},resetUserActivityTimeout:function(){var e=this;clearTimeout(this.userActivityTimeout),this.userActivityTimeout=setTimeout(function(){e.inactiveUserAction()},18e5)},userActivityThrottler:function(){var e=this;this.userActivityThrottlerTimeout||(this.userActivityThrottlerTimeout=setTimeout(function(){e.resetUserActivityTimeout(),clearTimeout(e.userActivityThrottlerTimeout),e.userActivityThrottlerTimeout=null},18e5))},inactiveUserAction:function(){this.authenticated&&(this.$store.dispatch("logout"),location.reload())}}},Xe=Ze,et=(a("034f"),Object(p["a"])(Xe,qe,We,!1,null,null,null)),tt=et.exports,at=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",["checkbox"===e.passwordFieldType?a("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"}],staticClass:"form-control",attrs:{disabled:e.schema.disabled,maxlength:e.schema.max,placeholder:e.schema.placeholder,readonly:e.schema.readonly,validators:e.schema.validators,showButton:e.schema.showButton,type:"checkbox"},domProps:{checked:Array.isArray(e.value)?e._i(e.value,null)>-1:e.value},on:{change:function(t){var a=e.value,s=t.target,r=!!s.checked;if(Array.isArray(a)){var o=null,n=e._i(a,o);s.checked?n<0&&(e.value=a.concat([o])):n>-1&&(e.value=a.slice(0,n).concat(a.slice(n+1)))}else e.value=r}}}):"radio"===e.passwordFieldType?a("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"}],staticClass:"form-control",attrs:{disabled:e.schema.disabled,maxlength:e.schema.max,placeholder:e.schema.placeholder,readonly:e.schema.readonly,validators:e.schema.validators,showButton:e.schema.showButton,type:"radio"},domProps:{checked:e._q(e.value,null)},on:{change:function(t){e.value=null}}}):a("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"}],staticClass:"form-control",attrs:{disabled:e.schema.disabled,maxlength:e.schema.max,placeholder:e.schema.placeholder,readonly:e.schema.readonly,validators:e.schema.validators,showButton:e.schema.showButton,type:e.passwordFieldType},domProps:{value:e.value},on:{input:function(t){t.target.composing||(e.value=t.target.value)}}}),e.showButton?a("input",{attrs:{type:"checkbox",id:"togglePassword"},on:{click:e.showPassword}}):e._e(),e.showButton?a("label",{attrs:{for:"togglePassword"}},[e._v("Show Password")]):e._e()])},st=[],rt={name:"passwordField",mixins:[b["abstractField"]],data:function(){return{showButton:!1,passwordFieldType:"password"}},mounted:function(){this.showButton=this.schema.showButton},watch:{showButton:function(e,t){e!=t&&(this.showButton=e)}},methods:{showPassword:function(){"password"==this.passwordFieldType?this.passwordFieldType="text":this.passwordFieldType="password"}}},ot=rt,nt=(a("09e8"),Object(p["a"])(ot,at,st,!1,null,"4e8a6ce6",null)),it=nt.exports,ct=a("5c96"),ut=a.n(ct),lt=(a("0fae"),a("b2d6")),dt=a.n(lt),mt=a("4897"),ht=a.n(mt),ft=a("e391"),vt=a.n(ft);ht.a.use(dt.a),s["default"].component("fieldPassword",it),s["default"].use(ut.a),s["default"].use(y.a),s["default"].use(vt.a),new s["default"]({el:"#app",router:Me,store:Ve,render:function(e){return e(tt)}})},"585b":function(e,t,a){},"637f":function(e,t,a){},"749f":function(e,t,a){e.exports=a.p+"img/SbBackground.0eea793b.jpg"},7931:function(e,t,a){},"80f2":function(e,t,a){"use strict";var s=a("637f"),r=a.n(s);r.a},8910:function(e,t,a){"use strict";var s=a("ae94"),r=a.n(s);r.a},"89c8":function(e,t,a){},"8ad9":function(e,t,a){"use strict";var s=a("ff3a"),r=a.n(s);r.a},ae94:function(e,t,a){},b98d:function(e,t,a){"use strict";var s=a("7931"),r=a.n(s);r.a},c123:function(e,t,a){"use strict";var s=a("1af1"),r=a.n(s);r.a},cf05:function(e,t,a){e.exports=a.p+"img/logo.589e42b4.png"},cf1c:function(e,t){e.exports="data:image/gif;base64,R0lGODlhEAAQAPIAACjGw9ns8FHOzKrh49ns8JTc3n3Y2HLV1iH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA=="},e2c3:function(e,t,a){"use strict";var s=a("ed2a"),r=a.n(s);r.a},e773:function(e,t,a){},ed2a:function(e,t,a){},ee26:function(e,t,a){"use strict";var s=a("89c8"),r=a.n(s);r.a},ff3a:function(e,t,a){}});
//# sourceMappingURL=app.e98a06a5.js.map