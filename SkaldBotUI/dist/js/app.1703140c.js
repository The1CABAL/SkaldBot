(function(t){function e(e){for(var o,n,r=e[0],c=e[1],l=e[2],d=0,m=[];d<r.length;d++)n=r[d],Object.prototype.hasOwnProperty.call(s,n)&&s[n]&&m.push(s[n][0]),s[n]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(t[o]=c[o]);u&&u(e);while(m.length)m.shift()();return i.push.apply(i,l||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],o=!0,r=1;r<a.length;r++){var c=a[r];0!==s[c]&&(o=!1)}o&&(i.splice(e--,1),t=n(n.s=a[0]))}return t}var o={},s={app:0},i=[];function n(e){if(o[e])return o[e].exports;var a=o[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=t,n.c=o,n.d=function(t,e,a){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(a,o,function(e){return t[e]}.bind(null,o));return a},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=e,r=r.slice();for(var l=0;l<r.length;l++)e(r[l]);var u=c;i.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"07f0":function(t,e,a){"use strict";var o=a("7ee2"),s=a.n(o);s.a},"0822":function(t,e,a){},"0891":function(t,e,a){"use strict";var o=a("0822"),s=a.n(o);s.a},"09e8":function(t,e,a){"use strict";var o=a("585b"),s=a.n(o);s.a},1260:function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);var o=a("2b0e"),s=a("8c4f"),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"login"}},[a("div",[""!=t.formKey?a("Form",{attrs:{formKey:t.formKey},on:{LoginSuccess:t.login}}):t._e(),a("router-link",{staticClass:"link",attrs:{to:"/register"}},[t._v("Register")])],1)])},n=[],r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"form"},[t.loaded?t._e():a("div",[a("VueLoading")],1),t.submitted?a("div",{class:t.isError?"errorMsg":"successMsg"},[a("p",{staticStyle:{"font-weight":"bold"}},[t._v(t._s(t.msg))]),a("button",{staticClass:"close",on:{click:t.closeNotification}},[t._v("x")])]):t._e(),t.loaded?a("div",{staticClass:"panel"},[a("div",{staticClass:"panel-heading"},[t._v(t._s(t.formName))]),a("hr"),a("div",{staticClass:"panel-body"},[a("form",{attrs:{action:""},on:{submit:t.formSubmit}},[t.loaded?a("vue-form-generator",{attrs:{schema:t.schema,model:t.model,options:t.formOptions},on:{validated:t.validateForm}}):t._e()],1)])]):t._e(),t.admin?a("div",[a("input",{attrs:{type:"checkbox",id:"cbShowFormDetails",name:"cbShowFormDetails"},on:{change:t.showFormDetails}}),a("label",{attrs:{for:"cbShowFormDetails"}},[t._v("Show Form Information")])]):t._e(),t.showFormExtras?a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"panel-heading"},[t._v("Model")]),a("div",{staticClass:"panel-body"},[t.model?a("pre",{domProps:{innerHTML:t._s(t.prettyJSON(t.model))}}):t._e()])]):t._e(),t.showFormExtras?a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"panel-heading"},[t._v("Schema")]),a("div",{staticClass:"panel-body"},[t.model?a("pre",{domProps:{innerHTML:t._s(t.prettyJSON(t.schema))}}):t._e()])]):t._e()])},c=[],l=(a("6b54"),a("a481"),a("5530")),u=a("bc3a"),d=a.n(u),m=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("img",{staticClass:"loadingImg",attrs:{src:t.loader,alt:"loadingGif"}})])},h=[],p={name:"vue-loading",data:function(){return{loader:a("cf1c")}}},f=p,v=(a("b98d"),a("2877")),g=Object(v["a"])(f,m,h,!1,null,"176b3d38",null),b=g.exports,A=a("4309"),y=a.n(A),_=(a("92bd"),a("2f62")),w="http://127.0.0.1:5000/api/";y.a.validators.emailValidation=function(t,e,a){var o=a.email,s=t;return o!=s?["Emails do not match!"]:[]},y.a.validators.passwordValidation=function(t,e,a){var o=a.password,s=t;return o!=s?["Passwords do not match!"]:[]};var D={name:"Form",components:{VueLoading:b},props:{formKey:{type:String,required:!0},accountId:{type:String,required:!1}},mounted:function(){this.loaded=!1;var t=w+"getFormSchema?formKey="+this.formKey,e=w+"getActionLink?formKey="+this.formKey,a=w+"getFormName?formKey="+this.formKey,o=this;d.a.get(t).then(function(t){o.schema=JSON.parse(t.data)}).catch(function(t){o.$message("Error loading form")}),d.a.get(e).then(function(t){var e=JSON.parse(t.data),a=e[0];o.action=w+a.ActionLink}).catch(function(t){console.log(t)}),d.a.get(a).then(function(t){var e=JSON.parse(t.data),a=e[0].FormName;o.formName=a,o.loaded=!0}).catch(function(t){console.log(t)})},watch:{formKey:function(){this.loaded=!1;var t=w+"getFormSchema?formKey="+this.formKey,e=w+"getActionLink?formKey="+this.formKey,a=w+"getFormName?formKey="+this.formKey,o=this;d.a.get(t).then(function(t){o.schema=JSON.parse(t.data)}).catch(function(t){console.log(t),o.$message("Error loading form")}),d.a.get(e).then(function(t){var e=JSON.parse(t.data),a=e[0];o.action=w+a.ActionLink}).catch(function(t){console.log(t)}),d.a.get(a).then(function(t){var e=JSON.parse(t.data),a=e[0].FormName;o.formName=a,o.loaded=!0}).catch(function(t){console.log(t)})},loaded:function(){this.loaded&&this.newModel()},submitted:function(){this.submitted&&setTimeout(this.closeNotification,5e3)}},data:function(){return{action:"",model:{},schema:null,options:{validatedAfterLoad:!1,validatedAfterChange:!0},loaded:!1,msg:"",isError:!1,submitted:!1,admin:!1,formName:"Test",showFormExtras:!1,isValid:!1,formOptions:{validateAfterLoad:!1,validateAfterChanged:!0}}},created:function(){(this.$store.getters.isAdmin||this.$store.getters.isMasterAdmin)&&(this.admin=!0)},methods:Object(l["a"])(Object(l["a"])({},Object(_["b"])(["fetchFormData"])),{},{prettyJSON:function(t){if(t)return t=JSON.stringify(t,void 0,4),t=t.replace(/&/g,"&").replace(/</g,"<").replace(/>/g,">"),t.replace(/("(\\u[a-zA-Z0-9]{4}|\\[^u]|[^\\"])*"(\s*:)?|\b(true|false|null)\b|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)/g,function(t){var e="number";return/^"/.test(t)?e=/:$/.test(t)?"key":"string":/true|false/.test(t)?e="boolean":/null/.test(t)&&(e="null"),'<span class="'+e+'">'+t+"</span>"})},newModel:function(){"LoginForm"!=this.formKey&&(this.model=y.a.schema.createDefaultObject(this.schema))},validateForm:function(t){this.isValid=t},formSubmit:function(){var t=this;if(this.isValid){var e=this.action,a=this;if("LoginForm"==this.formKey||"RegisterForm"==this.formKey||"RegisterUserForm"==this.formKey){var o=this.model.username,s=this.model.password;if("LoginForm"==this.formKey)this.$store.dispatch("login",{username:o,password:s}).then(function(e){return"OK"==e.statusText?t.$emit("LoginSuccess",!0):t.$emit("LoginSuccess",!1)}).catch(function(t){return console.log(t)});else if("RegisterForm"==this.formKey){var i=this.model.firstname,n=this.model.lastname,r=this.model.accountName,c=this.model.discordUserId;this.$store.dispatch("register",{accountname:r,username:o,firstname:i,lastname:n,discorduserid:c,password:s}).then(function(){return t.$store.dispatch("login",{username:o,password:s}).then(function(e){return"OK"==e.statusText?t.$emit("LoginSuccess",!0):t.$emit("LoginSuccess",!1)}).catch(function(t){return console.log(t)})}).catch(function(t){return console.log(t)})}else if("RegisterUserForm"==this.formKey){i=this.model.firstname,n=this.model.lastname;var l=this.accountId;c=this.model.discordUserId;this.$store.dispatch("registeruser",{accountid:l,username:o,firstname:i,lastname:n,discorduserid:c,password:s}).then(function(){return t.$message("User created!")}).catch(function(t){return console.log(t)})}}else d.a.post(e,this.model).then(function(t){var e=t.data;"Success"==e.Message.toString()?a.setNotification(!0):a.setNotification(!1)})}event.preventDefault()},setNotification:function(t){t?(this.submitted=!0,this.msg="Successfully submitted the suggestion!"):(this.submitted=!0,this.isError=!0,this.msg="There was an error submitting the suggestion. Please try again.")},closeNotification:function(){this.msg="",this.submitted=!1},showFormDetails:function(){this.showFormExtras?this.showFormExtras=!1:this.showFormExtras=!0}}),computed:Object(l["a"])({},Object(_["c"])(["formSchema","isAdmin","isMasterAdmin","isUser"]))},I=D,k=Object(v["a"])(I,r,c,!1,null,"542f07ae",null),$=k.exports,S={name:"Login",components:{Form:$},data:function(){return{formKey:"LoginForm"}},methods:{login:function(){this.$emit("authenticated",!0)}}},C=S,T=(a("0891"),Object(v["a"])(C,i,n,!1,null,"2ea899ab",null)),N=T.exports,F=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"Register"}},[""!=t.formKey?a("Form",{attrs:{formKey:t.formKey},on:{RegisterSuccess:t.login}}):t._e(),a("router-link",{staticClass:"link",attrs:{to:"/login"}},[t._v("Login")]),a("button",{staticClass:"btn-button",attrs:{type:"button"},on:{click:t.openHelp}},[t._v("Help")]),t.showHelp?a("HelpDocumentation",{attrs:{HelpContentKey:t.helpContentKey},on:{close:t.closeHelp}}):t._e()],1)},x=[],L=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"HelpDocumentation"}},[a("transition",{attrs:{name:"modal-fade"}},[a("div",{staticClass:"modal-backdrop"},[a("div",{staticClass:"modal",attrs:{role:"dialog","aria-labelledby":"modalTitle","aria-describedby":"modalDescription"}},[a("div",[a("button",{staticClass:"btn-close topright",attrs:{type:"button","aria-label":"Close modal"},on:{click:t.close}},[t._v("x")])]),a("header",{staticClass:"modal-header",attrs:{id:"modalTitle"}},[a("div",[t.isLoaded?t._e():a("h4"),a("br"),t.isLoaded&&!t.isAdmin||t.isLoaded&&t.isAdmin&&t.userView?a("h4",[t._v(t._s(t.helpTitle))]):t._e(),t.isAdmin&&!t.userView?a("label",{attrs:{for:"helpTitle"}},[t._v("Title:")]):t._e(),t.isAdmin&&!t.userView?a("input",{directives:[{name:"model",rawName:"v-model",value:t.helpTitle,expression:"helpTitle"}],attrs:{type:"text",name:"helpTitle"},domProps:{value:t.helpTitle},on:{input:function(e){e.target.composing||(t.helpTitle=e.target.value)}}}):t._e()])]),a("section",{staticClass:"modal-body",attrs:{id:"modalDescription"}},[t.isAdmin?a("button",{staticClass:"btn-button",attrs:{type:"button"},on:{click:t.userDisplay}},[t._v("Toggle Edit")]):t._e(),t.isLoaded&&t.isAdmin&&!t.userView?a("vue-editor",{model:{value:t.helpContent,callback:function(e){t.helpContent=e},expression:"helpContent"}}):t._e(),t.isLoaded&&!t.isAdmin||t.isLoaded&&t.isAdmin&&t.userView?a("p",[a("span",{domProps:{innerHTML:t._s(t.helpContent)}})]):t._e(),t.isLoaded?t._e():a("VueLoading")],1),a("footer",{staticClass:"modal-footer"},[a("div",[t._t("footer",[t.isAdmin&&!t.userView?a("button",{staticClass:"btn-button approve",attrs:{type:"button"},on:{click:t.saveContent}},[t._v("\n                                Save\n                            ")]):t._e(),a("button",{staticClass:"btn-button",attrs:{type:"button"},on:{click:t.close}},[t._v("\n                                Close\n                            ")])])],2)])])])])],1)},M=[],O=a("5873"),E={name:"HelpDocumentation",components:{VueEditor:O["a"],VueLoading:b},props:{HelpContentKey:{type:String,required:!0}},data:function(){return{isLoaded:!1,isAdmin:!1,userView:!0,helpTitle:"",helpContent:"",isActive:!0}},created:function(){this.reloadAuthentication(),this.getData()},beforeDestroy:function(){},methods:{getData:function(){var t=this,e=this.HelpContentKey,a=this.isAdmin,o={HelpContentKey:e,IsAdmin:a};this.$store.dispatch("getDocumentation",o).then(function(){t.helpContent=t.$store.getters.helpContent,t.helpTitle=t.$store.getters.helpTitle,t.isActive=t.$store.getters.helpIsActive,t.isLoaded=!0}).catch(function(e){console.log(e),t.$message("Error getting documentation")})},close:function(){this.$emit("close")},saveContent:function(){var t=this;this.isLoaded=!1;var e=this.HelpContentKey,a=this.helpTitle,o=this.helpContent,s=this.isActive,i=this.$store.getters.userId,n=this.isAdmin;this.$store.dispatch("updateDocumentation",{helpContentKey:e,helpTitle:a,helpContent:o,isActive:s,userId:i,isAdmin:n}).then(function(){t.helpContent=t.$store.getters.helpContent,t.helpTitle=t.$store.getters.helpTitle,t.isActive=t.$store.getters.helpIsActive,t.isLoaded=!0,t.$message("Content updated")}).catch(function(e){console.log(e),t.$message("Error updating content")})},reloadAuthentication:function(){var t=this;this.$store.dispatch("loadRoles").then(function(){(t.$store.getters.isMasterAdmin||t.$store.getters.isAdmin)&&(t.isAdmin=!0,t.userView=!1)})},userDisplay:function(){this.userView?this.userView=!1:this.userView=!0}}},R=E,K=Object(v["a"])(R,L,M,!1,null,"e03ef79c",null),H=K.exports,U={name:"Register",components:{Form:$,HelpDocumentation:H},data:function(){return{formKey:"RegisterForm",helpContentKey:"RegisterHelp",showHelp:!1}},methods:{login:function(){console.log("Logging in..."),this.$emit("authenticated",!0)},openHelp:function(){this.showHelp=!0},closeHelp:function(){this.showHelp=!1}}},P=U,j=(a("eef8"),Object(v["a"])(P,F,x,!1,null,"7b945acb",null)),B=j.exports,V=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},J=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"home-image"})])}],z={name:"HomePage"},Q=z,G=Object(v["a"])(Q,V,J,!1,null,"6c5536ea",null),Y=G.exports,q=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},W=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"about"},[a("div",[a("h1",[t._v("About The SkaldBot")]),a("hr"),a("p",[t._v("\n            The SkaldBot began as a half drunken joke by the original creator who wanted to immortalize his loss in Elite: Dangerous on the Discord server he and his friends used while playing. "),a("br"),a("br"),t._v("\n            He later realized that with the help of some friends, it could become something much, much more annoying. And potentially even useful! \n        ")]),a("p",[t._v("\n            This is how we ended up with the fun little SkaldBot you have been enjoying."),a("br"),a("br"),t._v("\n            This site is intended to be the user interface where non-developers can submit their own things for the bot to say (pending approval of course). \n        ")])]),a("div",[a("h2",[t._v("About the Developers")]),a("p",[t._v("They are all idiots. Idk we can fill this out later.")])])])}],Z={name:"About"},X=Z,tt=Object(v["a"])(X,q,W,!1,null,null,null),et=tt.exports,at=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"suggestions"},[a("SelectForm",{attrs:{pageId:t.pageId},on:{formKey:t.onChildChange}}),""!=t.formKey?a("Form",{attrs:{formKey:t.formKey},on:{error:t.error}}):t._e()],1)},ot=[],st=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"selectsuggestion"},[a("div",[a("select",{staticClass:"select-css",on:{change:function(e){t.setKey(e)}}},[a("option",{attrs:{value:"select"}},[t._v("Select")]),t._l(t.allForms,function(e){return a("option",{key:e.FormKey,domProps:{value:e.FormKey}},[t._v(t._s(e.FormName))])})],2)])])},it=[],nt={name:"SelectForm",props:["pageId"],data:function(){return{formKey:"",thePageId:Object(l["a"])({},this.pageId)}},methods:Object(l["a"])(Object(l["a"])({},Object(_["b"])(["fetchAllForms","fetchAllFormsByPageId"])),{},{setKey:function(t){var e=t.target.options[t.target.options.selectedIndex].value;"select"==e?(this.formKey=e,this.$emit("formKey","")):(this.formKey=e,this.$emit("formKey",e))}}),computed:Object(_["c"])(["allForms"]),created:function(){0==this.pageId||void 0==this.pageId?this.fetchAllForms():(console.log(this.pageId),this.fetchAllFormsByPageId(this.pageId))}},rt=nt,ct=Object(v["a"])(rt,st,it,!1,null,"66760f68",null),lt=ct.exports,ut={name:"Suggestions",components:{SelectForm:lt,Form:$},data:function(){return{formKey:"",pageId:"1"}},methods:{onChildChange:function(t){""!=this.formKey&&(this.formKey=""),this.formKey=t},error:function(t){1==t&&(this.formKey="")}}},dt=ut,mt=Object(v["a"])(dt,at,ot,!1,null,"710d7b04",null),ht=mt.exports,pt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"dashboard"}},[a("div",{staticClass:"sidenav"},[a("ul",[a("li",[a("router-link",{attrs:{to:"/dashboardhome"}},[t._v("Dashboard Home")])],1),a("li",[a("router-link",{attrs:{to:"/manageusers"}},[t._v("Users")])],1),a("li",[a("router-link",{attrs:{to:"/pendingitems"}},[t._v("Pending Items")])],1),a("li",[a("router-link",{attrs:{to:"/manageforms"}},[t._v("Manage Forms")])],1),a("li",[a("router-link",{attrs:{to:"/managestories"}},[t._v("Manage Stories")])],1),a("li",[a("router-link",{attrs:{to:"/managewisdoms"}},[t._v("Manage Wisdoms")])],1),a("li",[a("router-link",{attrs:{to:"/github"}},[t._v("GitHub Project")])],1)])]),a("div",{staticClass:"dashboardContainer"},[a("router-view")],1)])},ft=[],vt={name:"Dashboard",data:function(){return{isLoaded:!1}}},gt=vt,bt=Object(v["a"])(gt,pt,ft,!1,null,"161e2c38",null),At=bt.exports,yt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.loaded?t._e():a("VueLoading"),t.loaded?a("div",[a("div",{staticStyle:{"margin-bottom":"10px"}},[a("el-row",[a("el-col",{attrs:{span:6}},[a("el-input",{attrs:{placeholder:"Search Username"},model:{value:t.filters[0].value,callback:function(e){t.$set(t.filters[0],"value",e)},expression:"filters[0].value"}})],1)],1)],1),a("data-tables",{attrs:{data:t.data,"action-col":t.actionCol,filters:t.filters},on:{"selection-change":t.handleSelectionChange}},[t._l(t.titles,function(t){return a("el-table-column",{key:t.prop,attrs:{prop:t.prop,label:t.label,sortable:"custom"}})}),a("el-table-column",{attrs:{prop:"IsActive",label:"User Active"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[t._v(t._s(t.getBool(e.row.IsActive)))])]}}])}),a("el-table-column",{attrs:{prop:"CreateDate",label:"Date Created"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[t._v(t._s(t.getDate(e.row.CreateDate)))])]}}])})],2)],1):t._e()],1)},_t=[],wt={name:"ManageUsers",components:{VueLoading:b},data:function(){var t=this;return{userId:"",loaded:!1,data:[],titles:[{prop:"Id",label:"User Id"},{prop:"Username",label:"Username"},{prop:"FirstName",label:"First Name"},{prop:"LastName",label:"Last Name"}],filters:[{prop:"Username",value:""}],actionCol:{props:{label:"Actions"},buttons:[{props:{type:"primary"},handler:function(e){t.userId=e.Id,t.$router.push("/userprofile/"+t.userId)},label:"Edit"}]},selectedRow:[]}},created:function(){this.$store.getters.isLoggedIn?this.reloadAuthentication():this.$store.getters.isMasterAdmin||this.$store.getters.isAdmin?(this.isLoaded=!0,this.fetchData()):this.$router.push("/unauthorized")},mounted:function(){this.$store.getters.isLoggedIn?this.reloadAuthentication():this.$store.getters.isMasterAdmin||this.$store.getters.isAdmin?(this.isLoaded=!0,this.fetchData()):this.$router.push("/unauthorized")},methods:{fetchData:function(){this.loaded=!1;var t=w+"getUsers?isMaster="+this.$store.getters.isMasterAdmin,e=this;d.a.get(t).then(function(t){e.data=JSON.parse(t.data)}).catch(function(t){console.log(t),this.$emit("error",!0)}),e.loaded=!0},handleSelectionChange:function(t){this.selectedRow=t},getDate:function(t){var e=new Date(t);return e.getMonth()+1+"-"+e.getDate()+"-"+e.getFullYear()},getBool:function(t){return t?"True":"False"},reloadAuthentication:function(){var t=this;this.$store.dispatch("loadRoles").then(function(){t.$store.getters.isMasterAdmin||t.$store.getters.isAdmin?(t.isLoaded=!0,t.fetchData()):t.$router.push("/unauthorized")})}}},Dt=wt,It=(a("07f0"),Object(v["a"])(Dt,yt,_t,!1,null,"488af095",null)),kt=It.exports,$t=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},St=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wrapper",attrs:{id:"unauthorized"}},[a("p",{staticClass:"centerText"},[t._v("You do not have permission to view this page.")])])}],Ct={name:"unauthorized"},Tt=Ct,Nt=Object(v["a"])(Tt,$t,St,!1,null,"2a9d9cd9",null),Ft=Nt.exports,xt=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},Lt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"DashboardHome"}},[a("p",[t._v("This is the home dashboard")])])}],Mt={name:"DashboardHome",created:function(){this.$store.getters.isLoggedIn?this.reloadAuthentication():this.$store.getters.isMasterAdmin||this.$store.getters.isAdmin?this.isLoaded=!0:this.$router.push("/unauthorized")},methods:{reloadAuthentication:function(){var t=this;this.$store.dispatch("loadRoles").then(function(){t.$store.getters.isMasterAdmin||t.$store.getters.isAdmin?t.isLoaded=!0:t.$router.push("/unauthorized")})}}},Ot=Mt,Et=Object(v["a"])(Ot,xt,Lt,!1,null,"31f3b7be",null),Rt=Et.exports,Kt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"UserProfile"}},[t.submitted?a("div",{class:t.isError?"errorMsg":"successMsg"},[a("p",{staticStyle:{"font-weight":"bold"}},[t._v(t._s(t.msg))]),a("button",{staticClass:"close",on:{click:t.closeNotification}},[t._v("x")])]):t._e(),a("button",{staticClass:"btn-button",attrs:{type:"button"},on:{click:t.goBack}},[t._v("Go Back")]),a("div",{staticClass:"panel"},[t._m(0),a("div",{staticClass:"panel-body"},[a("h4",{staticClass:"sectionHeading"},[t._v(t._s(t.userData.FirstName)+" "+t._s(t.userData.LastName))]),a("hr"),a("form",{on:{submit:t.formSubmit}},[a("label",{attrs:{for:"userName"}},[t._v("Username:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.userData.Username,expression:"userData.Username"}],attrs:{type:"text",id:"userName",name:"userName",disabled:""},domProps:{value:t.userData.Username},on:{input:function(e){e.target.composing||t.$set(t.userData,"Username",e.target.value)}}}),a("label",{attrs:{for:"firstName"}},[t._v("First Name:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.userData.FirstName,expression:"userData.FirstName"}],attrs:{type:"text",id:"firstName",name:"firstName"},domProps:{value:t.userData.FirstName},on:{input:function(e){e.target.composing||t.$set(t.userData,"FirstName",e.target.value)}}}),a("label",{attrs:{for:"lastName"}},[t._v("Last Name:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.userData.LastName,expression:"userData.LastName"}],attrs:{type:"text",id:"lastName",name:"lastName"},domProps:{value:t.userData.LastName},on:{input:function(e){e.target.composing||t.$set(t.userData,"LastName",e.target.value)}}}),a("label",{attrs:{for:"discordUserId"}},[t._v("Discord User ID:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.userData.DiscordUserId,expression:"userData.DiscordUserId"}],attrs:{type:"text",id:"discordUserId",name:"discordUserId"},domProps:{value:t.userData.DiscordUserId},on:{input:function(e){e.target.composing||t.$set(t.userData,"DiscordUserId",e.target.value)}}}),a("label",{attrs:{for:"createDate"}},[t._v("Date Created:")]),a("input",{attrs:{type:"text",id:"createDate",name:"createDate",disabled:""},domProps:{value:t.getDate(t.userData.CreateDate)}}),t.isAdmin?a("div",[a("div",[a("hr"),a("h4",{staticClass:"sectionHeading"},[t._v("Admin Options")]),a("div",[a("label",{attrs:{for:"isActive"}},[t._v("Is User Active:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.userData.IsActive,expression:"userData.IsActive"}],attrs:{type:"checkbox",id:"isActive",name:"isActive"},domProps:{checked:Array.isArray(t.userData.IsActive)?t._i(t.userData.IsActive,null)>-1:t.userData.IsActive},on:{change:function(e){var a=t.userData.IsActive,o=e.target,s=!!o.checked;if(Array.isArray(a)){var i=null,n=t._i(a,i);o.checked?n<0&&t.$set(t.userData,"IsActive",a.concat([i])):n>-1&&t.$set(t.userData,"IsActive",a.slice(0,n).concat(a.slice(n+1)))}else t.$set(t.userData,"IsActive",s)}}})]),a("div",[a("label",{attrs:{for:"isLocked"}},[t._v("Is User Locked:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.userData.IsLocked,expression:"userData.IsLocked"}],attrs:{type:"checkbox",id:"isLocked",name:"isLocked"},domProps:{checked:Array.isArray(t.userData.IsLocked)?t._i(t.userData.IsLocked,null)>-1:t.userData.IsLocked},on:{change:function(e){var a=t.userData.IsLocked,o=e.target,s=!!o.checked;if(Array.isArray(a)){var i=null,n=t._i(a,i);o.checked?n<0&&t.$set(t.userData,"IsLocked",a.concat([i])):n>-1&&t.$set(t.userData,"IsLocked",a.slice(0,n).concat(a.slice(n+1)))}else t.$set(t.userData,"IsLocked",s)}}})])]),a("div",[a("hr"),a("h4",{staticClass:"sectionHeading"},[t._v("Permissions")]),a("div",t._l(t.roles,function(e){return a("div",{key:e.Role},[a("label",{attrs:{for:"item.Role"}},[t._v(t._s(e.RoleName))]),a("input",{attrs:{type:"checkbox",name:e.Role},domProps:{value:e.Role,checked:e.Role==t.selectedRole},on:{change:t.updateSelectedRole}})])}))])]):t._e(),a("hr"),a("button",{staticClass:"btn-button",attrs:{type:"submit"}},[t._v("Save")]),a("button",{staticClass:"btn-button",attrs:{type:"button"},on:{click:t.openHelp}},[t._v("Help")]),t.showHelp?a("HelpDocumentation",{attrs:{HelpContentKey:t.helpContentKey},on:{close:t.closeHelp}}):t._e()],1)])])])},Ht=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"panel-heading"},[a("h4",[t._v("User Profile")])])}],Ut={name:"UserProfile",props:{userId:{type:String,required:!0}},components:{HelpDocumentation:H},data:function(){return{isAdmin:!1,userData:[],oldUserData:[],roles:[],selectedRole:"",msg:"",isError:!0,submitted:!1,success:!1,prevRoute:{},helpContentKey:"RegisterHelp",showHelp:!1}},watch:{submitted:function(){this.submitted&&setTimeout(this.closeNotification,5e3)}},beforeRouteEnter:function(t,e,a){a(function(t){t.prevRoute=e})},mounted:function(){this.getData()},created:function(){this.$store.getters.isLoggedIn?this.reloadAuthentication():this.$store.getters.isMasterAdmin||this.$store.getters.isAdmin?this.getData():this.$router.push("/unauthorized")},methods:{getDate:function(t){var e=new Date(t);return e.getMonth()+1+"-"+e.getDate()+"-"+e.getFullYear()},updateSelectedRole:function(t){this.selectedRole="",t.target.checked&&(this.selectedRole=t.target.value)},formSubmit:function(){if(event.preventDefault(),this.objectsAreSame(this.userData,this.oldUserData))this.setNotification(!1);else{var t=w+"getUser",e=[],a=this;this.selectedRole!=this.userData.r[0].Role&&(this.userData.r[0].Role=this.selectedRole),e.push(this.userData),d.a.post(t,e).then(function(t){var e=t.data;"Success"==e.Message.toString()?(a.success=!0,a.setNotification(a.success),a.getData()):(a.success=!1,a.setNotification(a.success),a.getData())})}},closeNotification:function(){this.msg="",this.submitted=!1,this.isError=!1},setNotification:function(t){t?(this.submitted=!0,this.isError=!1,this.msg="Successfully updated the user!"):(this.submitted=!0,this.isError=!0,this.msg="There was an error updating the user. Please try again.")},getData:function(){var t=w+"getUser?userId="+this.userId,e=w+"getRoles",a=this;d.a.get(t).then(function(t){var e=t.data[0];a.userData=JSON.parse(e),a.userData=a.userData[0],a.oldUserData=JSON.parse(e),a.oldUserData=a.oldUserData[0],a.selectedRole=a.userData.r[0].Role}).catch(function(t){console.log(t)}),d.a.get(e).then(function(t){a.roles=JSON.parse(t.data)}).catch(function(t){console.log(t)})},objectsAreSame:function(t,e){var a=!0;for(var o in t)"r"==o?t[o][0].Role!=e[o][0].Role&&(a=!1):t[o]!=e[o]&&(a=!1);return a},reloadAuthentication:function(){var t=this;this.$store.dispatch("loadRoles").then(function(){t.$store.getters.isMasterAdmin||t.$store.getters.isAdmin?(t.$store.getters.isMasterAdmin||t.$store.getters.isAdmin)&&(t.isAdmin=!0):t.$router.push("/unauthorized")})},goBack:function(){this.$router.push(this.prevRoute.path)},openHelp:function(){this.showHelp=!0},closeHelp:function(){this.showHelp=!1}}},Pt=Ut,jt=Object(v["a"])(Pt,Kt,Ht,!1,null,"9070a7e6",null),Bt=jt.exports,Vt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.loaded?t._e():a("VueLoading"),a("Modal",{directives:[{name:"show",rawName:"v-show",value:t.isModalVisible,expression:"isModalVisible"}],attrs:{modalDisplayTypeId:t.modalDisplayTypeId,lookupId:t.lookupId},on:{close:t.closeModal}}),t.loaded?a("div",[a("div",{staticStyle:{"margin-bottom":"10px"}},[a("el-row",[a("el-col",{attrs:{span:6}},[a("el-input",{attrs:{placeholder:"Filter Item Type"},model:{value:t.filters[0].value,callback:function(e){t.$set(t.filters[0],"value",e)},expression:"filters[0].value"}})],1)],1)],1),a("data-tables",{attrs:{data:t.data,"action-col":t.actionCol,filters:t.filters},on:{"selection-change":t.handleSelectionChange}},[t._l(t.titles,function(t){return a("el-table-column",{key:t.prop,attrs:{prop:t.prop,label:t.label,sortable:"custom"}})}),a("el-table-column",{attrs:{prop:"CreateDate",label:"Date Created"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[t._v(t._s(t.getDate(e.row.CreateDate)))])]}}])})],2)],1):t._e()],1)},Jt=[],zt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"Modal"}},[a("transition",{attrs:{name:"modal-fade"}},[t.isLoaded?t._e():a("VueLoading"),t.isLoaded?a("div",{staticClass:"modal-backdrop"},[1==t.modalDisplayTypeId?a("div",[a("div",{staticClass:"modal",attrs:{role:"dialog","aria-labelledby":"modalTitle","aria-describedby":"modalDescription"}},[a("div",[a("button",{staticClass:"btn-close topright",attrs:{type:"button","aria-label":"Close modal"},on:{click:t.close}},[t._v("x")])]),a("header",{staticClass:"modal-header",attrs:{id:"modalTitle"}},[a("div",[a("h4",[t._v(t._s(t.lookupData[0].Title))])])]),a("section",{staticClass:"modal-body",attrs:{id:"modalDescription"}},[t._t("body",[a("label",{attrs:{for:"itemType"}},[t._v("Suggestion Type:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.lookupData[0].ItemType,expression:"lookupData[0].ItemType"}],attrs:{type:"text",id:"itemType",disabled:""},domProps:{value:t.lookupData[0].ItemType},on:{input:function(e){e.target.composing||t.$set(t.lookupData[0],"ItemType",e.target.value)}}}),a("label",{attrs:{for:"itemText"}},[t._v("Content:")]),a("br"),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.lookupData[0].ItemText,expression:"lookupData[0].ItemText"}],attrs:{id:"itemText",disabled:""},domProps:{value:t.lookupData[0].ItemText},on:{input:function(e){e.target.composing||t.$set(t.lookupData[0],"ItemText",e.target.value)}}}),a("br"),a("hr"),a("label",{attrs:{for:"dateCreated"}},[t._v("Date Submitted:")]),a("input",{attrs:{type:"text",id:"dateCreated",disabled:""},domProps:{value:t.getDate(t.lookupData[0].CreateDate)}}),a("label",{attrs:{for:"submitterEmail"}},[t._v("Submitted By:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.lookupData[0].SubmitterEmail,expression:"lookupData[0].SubmitterEmail"}],attrs:{type:"email",id:"submitterEmail",disabled:""},domProps:{value:t.lookupData[0].SubmitterEmail},on:{input:function(e){e.target.composing||t.$set(t.lookupData[0],"SubmitterEmail",e.target.value)}}})])],2),a("footer",{staticClass:"modal-footer"},[a("div",[t._t("footer",[a("button",{staticClass:"btn-button approve",attrs:{type:"button"},on:{click:t.approveSuggestion}},[t._v("\n                                    Approve\n                                ")]),a("button",{staticClass:"btn-button reject",attrs:{type:"button"},on:{click:t.rejectSuggestion}},[t._v("\n                                    Reject\n                                ")])])],2)])])]):t._e(),2==t.modalDisplayTypeId||3==t.modalDisplayTypeId?a("div",[a("div",{staticClass:"modal",attrs:{role:"dialog","aria-labelledby":"modalTitle","aria-describedby":"modalDescription"}},[a("div",[a("button",{staticClass:"btn-close topright",attrs:{type:"button","aria-label":"Close modal"},on:{click:t.close}},[t._v("x")])]),a("header",{staticClass:"modal-header",attrs:{id:"modalTitle"}},[a("div",[2==t.modalDisplayTypeId?a("h4",[t._v("Manage Story")]):t._e(),3==t.modalDisplayTypeId?a("h4",[t._v("Manage Wisdom")]):t._e()])]),a("section",{staticClass:"modal-body",attrs:{id:"modalDescription"}},[t._t("body",[a("div",[a("label",{attrs:{for:"title"}},[t._v("Title:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.lookupData[0].Title,expression:"lookupData[0].Title"}],attrs:{type:"text",id:"title"},domProps:{value:t.lookupData[0].Title},on:{input:function(e){e.target.composing||t.$set(t.lookupData[0],"Title",e.target.value)}}}),a("label",{attrs:{for:"itemText"}},[t._v("Content:")]),a("br"),2==t.modalDisplayTypeId?a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.lookupData[0].Story,expression:"lookupData[0].Story"}],attrs:{id:"itemText"},domProps:{value:t.lookupData[0].Story},on:{input:function(e){e.target.composing||t.$set(t.lookupData[0],"Story",e.target.value)}}}):t._e(),3==t.modalDisplayTypeId?a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.lookupData[0].Wisdom,expression:"lookupData[0].Wisdom"}],attrs:{id:"itemText"},domProps:{value:t.lookupData[0].Wisdom},on:{input:function(e){e.target.composing||t.$set(t.lookupData[0],"Wisdom",e.target.value)}}}):t._e(),a("br"),a("label",{attrs:{for:"isActive"}},[t._v("Is Active:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.lookupData[0].IsActive,expression:"lookupData[0].IsActive"}],attrs:{type:"checkbox",id:"isActive"},domProps:{checked:Array.isArray(t.lookupData[0].IsActive)?t._i(t.lookupData[0].IsActive,null)>-1:t.lookupData[0].IsActive},on:{change:function(e){var a=t.lookupData[0].IsActive,o=e.target,s=!!o.checked;if(Array.isArray(a)){var i=null,n=t._i(a,i);o.checked?n<0&&t.$set(t.lookupData[0],"IsActive",a.concat([i])):n>-1&&t.$set(t.lookupData[0],"IsActive",a.slice(0,n).concat(a.slice(n+1)))}else t.$set(t.lookupData[0],"IsActive",s)}}})])])],2),a("footer",{staticClass:"modal-footer"},[a("div",[t._t("footer",[a("button",{staticClass:"btn-button approve",attrs:{type:"button"},on:{click:t.saveItem}},[t._v("\n                                    Save\n                                ")]),a("button",{staticClass:"btn-button",attrs:{type:"button"},on:{click:t.close}},[t._v("\n                                    Close\n                                ")])])],2)])])]):t._e()]):t._e()],1)],1)},Qt=[],Gt=(a("c5f6"),{name:"Modal",components:{VueLoading:b},props:{modalDisplayTypeId:{type:Number,required:!1},lookupId:{type:Number,required:!1}},data:function(){return{isLoaded:!1,lookupData:{}}},watch:{lookupId:function(){if(0!=this.lookupId&&null!=this.lookupId){var t=this.modalDisplayTypeId;switch(t){case 1:var e=w+"submititem?id="+this.lookupId,a=this;d.a.get(e).then(function(t){a.lookupData=JSON.parse(t.data),a.lookupData[0].ItemType=a.lookupData[0].luIT[0].ItemType,a.isLoaded=!0}).catch(function(t){console.log(t),a.$message("There was an error getting the suggestion data")});case 2:var o=w+"story?id="+this.lookupId;a=this;d.a.get(o).then(function(t){a.lookupData=JSON.parse(t.data),a.isLoaded=!0}).catch(function(t){console.log(t),a.$message("There was an error getting the story data")});case 3:var s=w+"wisdom?id="+this.lookupId;a=this;d.a.get(s).then(function(t){a.lookupData=JSON.parse(t.data),a.isLoaded=!0}).catch(function(t){console.log(t),a.$message("There was an error getting the wisdom data")})}}}},methods:{close:function(){this.$emit("close")},getDate:function(t){var e=new Date(t);return e.getMonth()+1+"-"+e.getDate()+"-"+e.getFullYear()},approveSuggestion:function(){var t=w+"submittedItems",e={IsApproved:1,Id:this.lookupId,UserId:this.$store.getters.userId},a=this;d.a.post(t,e).then(function(t){var e=t.data;"Success"==e.Message.toString()?(a.$message("Successfully updated submitted item!"),setTimeout(function(){a.close()},2e3)):a.$message("Error updating submitted item!")})},rejectSuggestion:function(){var t=w+"submittedItems",e={IsApproved:0,Id:this.lookupId,UserId:this.$store.getters.userId},a=this;d.a.post(t,e).then(function(t){var e=t.data;"Success"==e.Message.toString()?(a.$message("Successfully updated submitted item!"),setTimeout(function(){a.close()},2e3)):a.$message("Error updating submitted item!")})},saveItem:function(){var t=this;switch(this.modalDisplayTypeId){case 2:var e=w+"story";d.a.post(e,this.lookupData).then(function(e){var a=e.data;"Success"==a.Message.toString()?(t.$message("Successfully updated story!"),setTimeout(function(){t.close()},2e3)):t.$message("Error updating story!")});case 3:var a=w+"wisdom";d.a.post(a,this.lookupData).then(function(e){var a=e.data;"Success"==a.Message.toString()?(t.$message("Successfully updated wisdom!"),setTimeout(function(){t.close()},2e3)):t.$message("Error updating wisdom!")})}}}}),Yt=Gt,qt=Object(v["a"])(Yt,zt,Qt,!1,null,"1cf27820",null),Wt=qt.exports,Zt={name:"PendingItems",components:{VueLoading:b,Modal:Wt},data:function(){var t=this;return{modalDisplayTypeId:1,lookupId:0,loaded:!1,isModalVisible:!1,data:[],titles:[{prop:"Id",label:"Submitted Item Id"},{prop:"ItemType",label:"Submitted Item Type"},{prop:"Title",label:"Title"}],filters:[{prop:"ItemType",value:""}],actionCol:{props:{label:"Actions"},buttons:[{props:{type:"primary"},handler:function(e){t.lookupId=e.Id,t.showModal()},label:"View"}]},selectedRow:[]}},mounted:function(){this.$store.getters.isLoggedIn?this.reloadAuthentication():this.$store.getters.isMasterAdmin||this.$store.getters.isAdmin?(this.isLoaded=!0,this.getData()):this.$router.push("/unauthorized")},created:function(){this.$store.getters.isLoggedIn?this.reloadAuthentication():this.$store.getters.isMasterAdmin||this.$store.getters.isAdmin?(this.isLoaded=!0,this.getData()):this.$router.push("/unauthorized")},methods:{getData:function(){this.loaded=!1;var t=w+"submittedItems",e=this;d.a.get(t).then(function(t){if(t.data.length>0){e.data=JSON.parse(t.data);for(var a=0;a<e.data.length;a++)e.data[a].ItemType=e.data[a].luIT[0].ActualItemType}}).catch(function(t){console.log(t),e.$message("There was an error getting the submitted items")}),e.loaded=!0},handleSelectionChange:function(t){this.selectedRow=t},getDate:function(t){var e=new Date(t);return e.getMonth()+1+"-"+e.getDate()+"-"+e.getFullYear()},showModal:function(){this.isModalVisible=!0},closeModal:function(){this.isModalVisible=!1,this.lookupId=0,this.getData()},reloadAuthentication:function(){var t=this;this.$store.dispatch("loadRoles").then(function(){t.$store.getters.isMasterAdmin||t.$store.getters.isAdmin?(t.isLoaded=!0,t.getData()):t.$router.push("/unauthorized")})}}},Xt=Zt,te=Object(v["a"])(Xt,Vt,Jt,!1,null,null,null),ee=te.exports,ae=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"ManageStories"}},[t.loaded?t._e():a("VueLoading"),a("Modal",{directives:[{name:"show",rawName:"v-show",value:t.isModalVisible,expression:"isModalVisible"}],attrs:{modalDisplayTypeId:t.modalDisplayTypeId,lookupId:t.lookupId},on:{close:t.closeModal}}),t.loaded?a("div",[a("div",{staticStyle:{"margin-bottom":"10px"}},[a("el-row",[a("el-col",{attrs:{span:6}},[a("el-input",{attrs:{placeholder:"Title..."},model:{value:t.filters[0].value,callback:function(e){t.$set(t.filters[0],"value",e)},expression:"filters[0].value"}})],1)],1)],1),a("data-tables",{attrs:{data:t.data,"action-col":t.actionCol,filters:t.filters},on:{"selection-change":t.handleSelectionChange}},[t._l(t.titles,function(t){return a("el-table-column",{key:t.prop,attrs:{prop:t.prop,label:t.label,sortable:"custom"}})}),a("el-table-column",{attrs:{prop:"IsActive",label:"Is Active"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[t._v(t._s(t.getBool(e.row.IsActive)))])]}}])})],2)],1):t._e()],1)},oe=[],se={name:"ManageStories",components:{VueLoading:b,Modal:Wt},data:function(){var t=this;return{modalDisplayTypeId:2,lookupId:0,loaded:!1,isModalVisible:!1,data:[],titles:[{prop:"Id",label:"Story Id"},{prop:"Title",label:"Story Title"}],filters:[{prop:"Title",value:""}],actionCol:{props:{label:"Actions"},buttons:[{props:{type:"primary"},handler:function(e){t.lookupId=e.Id,t.showModal()},label:"View"}]},selectedRow:[]}},mounted:function(){this.getData()},created:function(){this.$store.getters.isLoggedIn?this.reloadAuthentication():this.$store.getters.isMasterAdmin||this.$store.getters.isAdmin?this.isLoaded=!0:this.$router.push("/unauthorized")},methods:{getData:function(){this.loaded=!1;var t=w+"getStories",e=this;d.a.get(t).then(function(t){t.data.length>0&&(e.data=JSON.parse(t.data))}).catch(function(t){console.log(t),e.$message("There was an error getting the submitted items")}),e.loaded=!0},handleSelectionChange:function(t){this.selectedRow=t},getBool:function(t){return t?"True":"False"},showModal:function(){this.isModalVisible=!0},closeModal:function(){this.isModalVisible=!1,this.lookupId=0,this.getData()},reloadAuthentication:function(){var t=this;this.$store.dispatch("loadRoles").then(function(){t.$store.getters.isMasterAdmin||t.$store.getters.isAdmin?(t.isLoaded=!0,t.getData()):t.$router.push("/unauthorized")})}}},ie=se,ne=Object(v["a"])(ie,ae,oe,!1,null,"3f5fdba3",null),re=ne.exports,ce=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"ManageWisdoms"}},[t.loaded?t._e():a("VueLoading"),a("Modal",{directives:[{name:"show",rawName:"v-show",value:t.isModalVisible,expression:"isModalVisible"}],attrs:{modalDisplayTypeId:t.modalDisplayTypeId,lookupId:t.lookupId},on:{close:t.closeModal}}),t.loaded?a("div",[a("div",{staticStyle:{"margin-bottom":"10px"}},[a("el-row",[a("el-col",{attrs:{span:6}},[a("el-input",{attrs:{placeholder:"Title..."},model:{value:t.filters[0].value,callback:function(e){t.$set(t.filters[0],"value",e)},expression:"filters[0].value"}})],1)],1)],1),a("data-tables",{attrs:{data:t.data,"action-col":t.actionCol,filters:t.filters},on:{"selection-change":t.handleSelectionChange}},[t._l(t.titles,function(t){return a("el-table-column",{key:t.prop,attrs:{prop:t.prop,label:t.label,sortable:"custom"}})}),a("el-table-column",{attrs:{prop:"IsActive",label:"Is Active"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[t._v(t._s(t.getBool(e.row.IsActive)))])]}}])})],2)],1):t._e()],1)},le=[],ue={name:"ManageWisdoms",components:{VueLoading:b,Modal:Wt},data:function(){var t=this;return{modalDisplayTypeId:3,lookupId:0,loaded:!1,isModalVisible:!1,data:[],titles:[{prop:"Id",label:"Wisdom Id"},{prop:"Title",label:"Wisdom Title"}],filters:[{prop:"Title",value:""}],actionCol:{props:{label:"Actions"},buttons:[{props:{type:"primary"},handler:function(e){t.lookupId=e.Id,t.showModal()},label:"View"}]},selectedRow:[]}},mounted:function(){this.$store.getters.isLoggedIn?this.reloadAuthentication():this.$store.getters.isMasterAdmin||this.$store.getters.isAdmin?(this.isLoaded=!0,this.getData()):this.$router.push("/unauthorized")},created:function(){this.$store.getters.isLoggedIn?this.reloadAuthentication():this.$store.getters.isMasterAdmin||this.$store.getters.isAdmin?(this.isLoaded=!0,this.getData()):this.$router.push("/unauthorized")},methods:{getData:function(){this.loaded=!1;var t=w+"getWisdoms",e=this;d.a.get(t).then(function(t){t.data.length>0&&(e.data=JSON.parse(t.data))}).catch(function(t){console.log(t),e.$message("There was an error getting the submitted items")}),e.loaded=!0},handleSelectionChange:function(t){this.selectedRow=t},getBool:function(t){return t?"True":"False"},showModal:function(){this.isModalVisible=!0},closeModal:function(){this.isModalVisible=!1,this.lookupId=0,this.getData()},reloadAuthentication:function(){var t=this;this.$store.dispatch("loadRoles").then(function(){t.$store.getters.isMasterAdmin||t.$store.getters.isAdmin?(t.isLoaded=!0,t.getData()):t.$router.push("/unauthorized")})}}},de=ue,me=Object(v["a"])(de,ce,le,!1,null,"09a5ed58",null),he=me.exports,pe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"ManageForms"}},[t.loaded?t._e():a("VueLoading"),t.loaded?a("div",[a("div",{staticStyle:{"margin-bottom":"10px"}},[a("el-row",[a("el-col",{attrs:{span:6}},[a("el-input",{attrs:{placeholder:"Form Name..."},model:{value:t.filters[0].value,callback:function(e){t.$set(t.filters[0],"value",e)},expression:"filters[0].value"}}),a("button",{attrs:{type:"button"},on:{click:t.newForm}},[t._v("New Form")])],1)],1)],1),a("data-tables",{attrs:{data:t.data,"action-col":t.actionCol,filters:t.filters},on:{"selection-change":t.handleSelectionChange}},[t._l(t.titles,function(t){return a("el-table-column",{key:t.prop,attrs:{prop:t.prop,label:t.label,sortable:"custom"}})}),a("el-table-column",{attrs:{prop:"IsActive",label:"Is Active"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[t._v(t._s(t.getBool(e.row.IsActive)))])]}}])})],2)],1):t._e()],1)},fe=[],ve={name:"ManageForms",components:{VueLoading:b},data:function(){var t=this;return{loaded:!1,data:[],titles:[{prop:"FormKey",label:"Form Key"},{prop:"FormName",label:"Form Name"}],filters:[{prop:"FormName",value:""}],actionCol:{props:{label:"Actions"},buttons:[{props:{type:"primary"},handler:function(e){t.$router.push("/modifyform/"+e.FormKey)},label:"View"}]},selectedRow:[]}},mounted:function(){this.fetchData()},created:function(){this.$store.getters.isLoggedIn?this.reloadAuthentication():this.$store.getters.isMasterAdmin||this.$store.getters.isAdmin?this.fetchData():this.$router.push("/unauthorized")},methods:{fetchData:function(){var t=this;return this.$store.dispatch("fetchAllForms").then(function(){t.getData()})},getData:function(){this.data=this.$store.getters.allForms,this.loaded=!0},handleSelectionChange:function(t){this.selectedRow=t},getBool:function(t){return t?"True":"False"},newForm:function(){this.$router.push("/modifyform")},reloadAuthentication:function(){var t=this;this.$store.dispatch("loadRoles").then(function(){t.$store.getters.isMasterAdmin||t.$store.getters.isAdmin?t.fetchData():t.$router.push("/unauthorized")})}}},ge=ve,be=Object(v["a"])(ge,pe,fe,!1,null,"3c4d2308",null),Ae=be.exports,ye=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},_e=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"GitHub"}},[a("iframe",{attrs:{src:"https://www.w3schools.com"}})])}],we={name:"GitHub"},De=we,Ie=Object(v["a"])(De,ye,_e,!1,null,"65ac858a",null),ke=(Ie.exports,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"ModifyForm"}},[t.modalVisible?a("div",[a("transition",{attrs:{name:"modal-fade"}},[a("div",{staticClass:"modal-backdrop"},[a("div",[a("div",{staticClass:"modal",attrs:{role:"dialog","aria-labelledby":"modalTitle","aria-describedby":"modalDescription"}},[a("div",[a("button",{staticClass:"btn-close topright",attrs:{type:"button","aria-label":"Close modal"},on:{click:t.close}},[t._v("x")])]),a("header",{staticClass:"modal-header",attrs:{id:"modalTitle"}},[a("div",[a("h4",[t._v("Confirm Submit")])])]),a("section",{staticClass:"modal-body",attrs:{id:"modalDescription"}},[t._t("body",[a("p",[t._v("Are you sure you want to submit?")])])],2),a("footer",{staticClass:"modal-footer"},[a("div",[t._t("footer",[a("button",{staticClass:"btn-button",attrs:{type:"button"},on:{click:t.formSubmit}},[t._v("\n                                        Yes\n                                    ")]),a("button",{staticClass:"btn-button",attrs:{type:"button"},on:{click:t.close}},[t._v("\n                                        No\n                                    ")])])],2)])])])])])],1):t._e(),a("div",{staticClass:"panel"},[t._m(0),a("div",{staticClass:"panel-body"},[a("h4",{staticClass:"sectionHeading"},[t._v(t._s(t.formName)+" Form")]),a("hr"),a("form",{on:{submit:t.showModal}},[a("label",{attrs:{for:"formName"}},[t._v("Form Name:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.formName,expression:"formName"}],attrs:{type:"text",id:"formName",name:"formName",required:""},domProps:{value:t.formName},on:{input:function(e){e.target.composing||(t.formName=e.target.value)}}}),a("label",{attrs:{for:"formKey"}},[t._v("Form Key:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.FormKey,expression:"formData.FormKey"}],attrs:{type:"text",id:"formKey",name:"formKey",disabled:null!=t.formKey,required:""},domProps:{value:t.formData.FormKey},on:{input:function(e){e.target.composing||t.$set(t.formData,"FormKey",e.target.value)}}}),a("label",{attrs:{for:"actionLink"}},[t._v("Action Link:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.ActionLink,expression:"formData.ActionLink"}],attrs:{type:"text",id:"actionLink",name:"actionLink",required:""},domProps:{value:t.formData.ActionLink},on:{input:function(e){e.target.composing||t.$set(t.formData,"ActionLink",e.target.value)}}}),a("label",{attrs:{for:"isActive"}},[t._v("Is Active")]),a("br"),a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.IsActive,expression:"formData.IsActive"}],attrs:{type:"checkbox",id:"isActive",name:"isActive",disabled:null==t.formKey},domProps:{checked:Array.isArray(t.formData.IsActive)?t._i(t.formData.IsActive,null)>-1:t.formData.IsActive},on:{change:function(e){var a=t.formData.IsActive,o=e.target,s=!!o.checked;if(Array.isArray(a)){var i=null,n=t._i(a,i);o.checked?n<0&&t.$set(t.formData,"IsActive",a.concat([i])):n>-1&&t.$set(t.formData,"IsActive",a.slice(0,n).concat(a.slice(n+1)))}else t.$set(t.formData,"IsActive",s)}}}),a("br"),a("label",{attrs:{for:"formSchema"}},[t._v("Field Schema")]),a("br"),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.formData.FieldSchema,expression:"formData.FieldSchema"}],attrs:{id:"formSchema",required:""},domProps:{value:t.formData.FieldSchema},on:{input:function(e){e.target.composing||t.$set(t.formData,"FieldSchema",e.target.value)}}}),a("button",{staticClass:"btn-button",attrs:{type:"button"},on:{click:t.updateFieldSchema}},[t._v("Refresh Form")]),a("br"),a("button",{staticClass:"btn-button",attrs:{type:"submit"}},[t._v("Submit")])]),a("hr"),a("h4",{staticClass:"sectionHeading"},[t._v("Form View")]),t.loaded?a("vue-form-generator",{attrs:{schema:t.schema,model:t.model}}):t._e()],1)])])}),$e=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"panel-heading"},[a("h4",[t._v("Modify Form")])])}],Se={name:"ModifyForm",props:{formKey:{type:String,required:!1}},data:function(){return{loaded:!1,formName:"",isNewForm:!1,modalVisible:!1,formData:[],schema:[],model:{}}},mounted:function(){this.$store.getters.isMasterAdmin||this.$store.getters.isAdmin?null!=this.formKey&&""!=this.formKey?this.fetchData():(this.loaded=!0,this.isNewForm=!0):this.$router.push("/unauthorized")},created:function(){null!=this.formKey&&""!=this.formKey?this.fetchData():(this.loaded=!0,this.isNewForm=!0)},methods:{fetchData:function(){var t=this;if(null!=this.formKey&&""!=this.formKey)return this.$store.dispatch("fetchFormByFormKey",this.formKey).then(function(){t.getData()})},getData:function(){this.formData=this.$store.getters.getForm,this.formData=this.formData[0],this.formData.FieldSchema=JSON.parse(this.formData.FieldSchema),this.schema=this.formData.FieldSchema,this.formName=this.formData.luVF[0].FormName,this.prettyJSON(),this.loaded=!0},prettyJSON:function(){var t=document.getElementById("formSchema"),e=null;if(null!=t&&(e=t.innerHTML),e)e=JSON.stringify(e,void 0,4),this.formData.FieldSchema=e;else{e=this.formData.FieldSchema;e=JSON.stringify(e,void 0,4),this.formData.FieldSchema=e}},clearWhitespace:function(){var t=document.getElementById("formSchema").value;if(console.log(t),t)t=JSON.parse(t),this.formData.FieldSchema=t,console.log(this.formData.FieldSchema),this.schema=t,console.log(this.schema);else{var e=document.getElementById("formSchema").value;this.formData.FieldSchema=JSON.parse(e),this.schema=JSON.parse(e)}},updateFieldSchema:function(){this.clearWhitespace(),this.prettyJSON()},formSubmit:function(){var t=this;this.modalVisible=!1,this.formData.FieldSchema=this.schema;var e=this.formData,a=this.$store.getters.userId,o=this.isNewForm,s=this.formName;if(this.isNewForm){var i=document.getElementById("formKey").value,n=document.getElementById("actionLink").value;e={FormKey:i,FieldSchema:this.schema,ActionLink:n,IsActive:!1}}this.$store.dispatch("updateForm",{data:e,userId:a,isNew:o,formName:s}).then(function(e){"OK"==e.statusText?t.$message("Success"):t.$message("Error"),t.fetchData()}).catch(function(t){return console.log(t)}),event.preventDefault()},showModal:function(){this.modalVisible=!0,event.preventDefault()},close:function(){this.modalVisible=!1}}},Ce=Se,Te=Object(v["a"])(Ce,ke,$e,!1,null,"46c4cf62",null),Ne=Te.exports,Fe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"AccountProfile"}},[t.submitted?a("div",{class:t.isError?"errorMsg":"successMsg"},[a("p",{staticStyle:{"font-weight":"bold"}},[t._v(t._s(t.msg))]),a("button",{staticClass:"close",on:{click:t.closeNotification}},[t._v("x")])]):t._e(),a("tabs",[a("tab",{attrs:{title:"Account Information"}},[a("div",{staticClass:"panel"},[a("div",{staticClass:"panel-heading"},[a("h4",[t._v("Account Profile")])]),a("div",{staticClass:"panel-body"},[a("h4",{staticClass:"sectionHeading"},[t._v(t._s(t.accountData.AccountName))]),a("hr"),a("form",{on:{submit:t.formSubmit}},[a("label",{attrs:{for:"accountName"}},[t._v("Account Name:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.accountData.AccountName,expression:"accountData.AccountName"}],attrs:{type:"text",id:"accountName",name:"accountName"},domProps:{value:t.accountData.AccountName},on:{input:function(e){e.target.composing||t.$set(t.accountData,"AccountName",e.target.value)}}}),a("label",{attrs:{for:"createDate"}},[t._v("Date Created:")]),a("input",{attrs:{type:"text",id:"createDate",name:"createDate",disabled:""},domProps:{value:t.getDate(t.accountData.CreateDate)}}),a("label",{attrs:{for:"isActive"}},[t._v("Is Active:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.accountData.IsActive,expression:"accountData.IsActive"}],attrs:{type:"checkbox",id:"isActive",name:"isActive"},domProps:{checked:Array.isArray(t.accountData.IsActive)?t._i(t.accountData.IsActive,null)>-1:t.accountData.IsActive},on:{change:function(e){var a=t.accountData.IsActive,o=e.target,s=!!o.checked;if(Array.isArray(a)){var i=null,n=t._i(a,i);o.checked?n<0&&t.$set(t.accountData,"IsActive",a.concat([i])):n>-1&&t.$set(t.accountData,"IsActive",a.slice(0,n).concat(a.slice(n+1)))}else t.$set(t.accountData,"IsActive",s)}}}),a("br"),a("button",{staticClass:"btn-button",attrs:{type:"submit"}},[t._v("Save")])])])])]),a("tab",{attrs:{title:"Users"}},[a("button",{staticClass:"btn-button",attrs:{type:"button"},on:{click:t.registerUser}},[t._v("Add User")]),a("div",{staticStyle:{"margin-bottom":"10px"}},[a("el-row",[a("el-col",{attrs:{span:6}},[a("el-input",{attrs:{placeholder:"Search Username"},model:{value:t.filters[0].value,callback:function(e){t.$set(t.filters[0],"value",e)},expression:"filters[0].value"}})],1)],1)],1),a("data-tables",{attrs:{data:t.accountUsers,"action-col":t.actionCol,filters:t.filters},on:{"selection-change":t.handleSelectionChange}},[t._l(t.titles,function(t){return a("el-table-column",{key:t.prop,attrs:{prop:t.prop,label:t.label,sortable:"custom"}})}),a("el-table-column",{attrs:{prop:"IsActive",label:"User Active"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[t._v(t._s(t.getBool(e.row.IsActive)))])]}}])}),a("el-table-column",{attrs:{prop:"CreateDate",label:"Date Created"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[t._v(t._s(t.getDate(e.row.CreateDate)))])]}}])})],2)],1)],1)],1)},xe=[],Le={name:"AccountProfile",props:{accountId:{type:String,required:!0}},data:function(){var t=this;return{accountData:[],accountUsers:[],prevRoute:{},msg:"",isError:!0,submitted:!1,success:!1,masterAdmin:!1,admin:!1,titles:[{prop:"Id",label:"User Id"},{prop:"Username",label:"Username"},{prop:"FirstName",label:"First Name"},{prop:"LastName",label:"Last Name"}],filters:[{prop:"Username",value:""}],actionCol:{props:{label:"Actions"},buttons:[{props:{type:"primary"},handler:function(e){t.userId=e.Id,t.$router.push("/userprofile/"+t.userId)},label:"Edit"}]},selectedRow:[]}},watch:{submitted:function(){this.submitted&&setTimeout(this.closeNotification,5e3)}},beforeRouteEnter:function(t,e,a){a(function(t){t.prevRoute=e})},mounted:function(){this.getData()},created:function(){this.$store.getters.isLoggedIn?this.reloadAuthentication():this.$store.getters.isMasterAdmin||this.$store.getters.isAdmin||this.$store.getters.isClientAdmin?this.getData():this.$router.push("/unauthorized")},methods:{getDate:function(t){var e=new Date(t);return e.getMonth()+1+"-"+e.getDate()+"-"+e.getFullYear()},formSubmit:function(){if(event.preventDefault(),this.objectsAreSame(this.accountData,this.$store.getters.accountInformation))this.setNotification(!1);else{var t=this;this.$store.dispatch("updateAccountInformation",this.accountData).then(function(){t.success=!0,t.setNotification(t.success),t.getData()}).catch(function(e){t.success=!1,t.setNotification(t.success),t.getData(),console.log(e)})}},setNotification:function(t){t?(this.submitted=!0,this.isError=!1,this.msg="Successfully updated the account!"):(this.submitted=!0,this.isError=!0,this.msg="There was an error updating the account. Please try again.")},closeNotification:function(){this.msg="",this.submitted=!1,this.isError=!1},getData:function(){var t=this,e=this;this.$store.dispatch("getAccountInformation",this.accountId).then(function(){e.accountData=Object(l["a"])({},t.$store.getters.accountInformation),e.accountUsers=t.$store.getters.accountUsers}).catch(function(t){e.$message("Error loading account data!"),console.log(t)})},objectsAreSame:function(t,e){var a=!0;for(var o in t)t[o]!=e[o]&&(a=!1);return a},goBack:function(){this.$router.push(this.prevRoute.path)},reloadAuthentication:function(){var t=this;this.$store.dispatch("loadRoles").then(function(){t.$store.getters.isMasterAdmin?(t.masterAdmin=!0,t.admin=!0):t.$store.getters.isAdmin&&(t.admin=!0)})},handleSelectionChange:function(t){this.selectedRow=t},getBool:function(t){return t?"True":"False"},registerUser:function(){this.$router.push("/registerUser/"+this.accountId)}}},Me=Le,Oe=Object(v["a"])(Me,Fe,xe,!1,null,"41d659ea",null),Ee=Oe.exports,Re=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"RegisterUser"}},[a("button",{staticClass:"btn-button",attrs:{type:"button"},on:{click:t.goBack}},[t._v("Go Back")]),a("Form",{attrs:{formKey:t.formKey,accountId:t.accountId},on:{RegisterSuccess:t.alert}}),a("button",{staticClass:"btn-button",attrs:{type:"button"},on:{click:t.openHelp}},[t._v("Help")]),t.showHelp?a("HelpDocumentation",{attrs:{HelpContentKey:t.helpContentKey},on:{close:t.closeHelp}}):t._e()],1)},Ke=[],He={name:"RegisterUser",props:{accountId:{type:String,required:!0}},components:{Form:$,HelpDocumentation:H},beforeRouteEnter:function(t,e,a){a(function(t){t.prevRoute=e})},data:function(){return{formKey:"RegisterUserForm",helpContentKey:"RegisterHelp",showHelp:!1}},methods:{alert:function(){this.$emit("registerUserSuccess",!0)},goBack:function(){this.$router.push(this.prevRoute.path)},openHelp:function(){this.showHelp=!0},closeHelp:function(){this.showHelp=!1}}},Ue=He,Pe=(a("b97a"),Object(v["a"])(Ue,Re,Ke,!1,null,"5bba5990",null)),je=Pe.exports;o["default"].use(s["a"]);var Be=new s["a"]({mode:"history",routes:[{path:"/home",name:"home",component:Y},{path:"/login",name:"login",component:N},{path:"/register",name:"register",component:B},{path:"/about",component:et},{path:"/suggestions",component:ht},{path:"/dashboard",component:At,redirect:"/dashboardhome",children:[{path:"/dashboardhome",name:"dashboardhome",component:Rt},{path:"/manageusers",name:"manageusers",component:kt},{path:"/pendingitems",name:"pendingitems",component:ee},{path:"/managestories",name:"managestories",component:re},{path:"/managewisdoms",name:"managewisdoms",component:he},{path:"/manageforms",name:"manageforms",component:Ae},{path:"/github",name:"github",beforeEnter:function(){window.open("https://github.com/The1CABAL/SkaldBot/projects/1","_blank")}},{path:"/modifyform",name:"modifyform",component:Ne},{path:"/modifyform/:formKey",name:"modifyform",component:Ne,props:!0}]},{path:"/userprofile/:userId",name:"userprofile",component:Bt,props:!0},{path:"/accountprofile/:accountId",name:"accountprofile",component:Ee,props:!0},{path:"/registerUser/:accountId",name:"registeraccountuser",component:je,props:!0},{path:"/unauthorized",component:Ft},{path:"*",redirect:"/home"}],linkExactActiveClass:"activeLink"}),Ve=(a("96cf"),a("1da1")),Je={forms:[],form:[]},ze={allForms:function(t){return t.forms},getForm:function(t){return t.form}},Qe={fetchAllForms:function(){var t=Object(Ve["a"])(regeneratorRuntime.mark(function t(e){var a,o;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a=e.commit,t.next=3,d.a.get(w+"getForms");case 3:o=t.sent,a("setForms",JSON.parse(o.data));case 5:case"end":return t.stop()}},t)}));function e(e){return t.apply(this,arguments)}return e}(),fetchAllFormsByPageId:function(){var t=Object(Ve["a"])(regeneratorRuntime.mark(function t(e,a){var o,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return o=e.commit,t.next=3,d.a.get(w+"getFormByPageId?pageId=".concat(a));case 3:s=t.sent,o("setForms",JSON.parse(s.data));case 5:case"end":return t.stop()}},t)}));function e(e,a){return t.apply(this,arguments)}return e}(),fetchFormByFormKey:function(){var t=Object(Ve["a"])(regeneratorRuntime.mark(function t(e,a){var o,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return o=e.commit,t.next=3,d.a.get(w+"form?formKey=".concat(a));case 3:s=t.sent,o("setForm",JSON.parse(s.data));case 5:case"end":return t.stop()}},t)}));function e(e,a){return t.apply(this,arguments)}return e}(),updateForm:function(){var t=Object(Ve["a"])(regeneratorRuntime.mark(function t(e,a){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e.commit,console.log(a),t.abrupt("return",new Promise(function(t,e){var o=w+"form";d.a.post(o,a).then(function(e){t(e)}).catch(function(t){e(t)})}));case 3:case"end":return t.stop()}},t)}));function e(e,a){return t.apply(this,arguments)}return e}()},Ge={setForms:function(t,e){return t.forms=e},setForm:function(t,e){return t.form=e}},Ye={state:Je,getters:ze,actions:Qe,mutations:Ge};o["default"].prototype.$http=d.a;var qe=localStorage.getItem("token");qe&&(o["default"].prototype.$http.defaults.headers.common["Authorization"]=qe);var We={token:localStorage.getItem("token")||"",accountId:localStorage.getItem("accountId")||"",status:"",isMasterAdmin:!1,isAdmin:!1,isClientAdmin:!1,isClientUser:!1,isUser:!0,role:"",user:{}},Ze={userId:function(t){return t.token},accountId:function(t){return t.accountId},isLoggedIn:function(t){return""!=t.token},authStatus:function(t){return t.status},isMasterAdmin:function(t){return"MasterAdmin"==t.role},isAdmin:function(t){return"Admin"==t.role},isClientAdmin:function(t){return"ClientAdmin"==t.Role},isClientUser:function(t){return t.role=!0},isUser:function(t){return t.isUser},user:function(t){return t.user}},Xe={login:function(){var t=Object(Ve["a"])(regeneratorRuntime.mark(function t(e,a){var o;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return o=e.commit,t.abrupt("return",new Promise(function(t,e){o("auth_request");var s=w+"login";d.a.post(s,a).then(function(a){var s=JSON.parse(a.data)[0].Id,i=JSON.parse(a.data)[0].AccountId,n=JSON.parse(a.data)[0].Username,r={accountId:i,username:n};localStorage.setItem("token",s),localStorage.setItem("accountId",i),console.log(localStorage.getItem("accountId")),d.a.defaults.headers.common["Authorization"]=s,o("auth_success",s,r);var c=w+"roles?id="+s;d.a.get(c).then(function(e){var a=JSON.parse(e.data);o("user_roles",a[0].Role),t(e)}).catch(function(t){o("auth_error"),localStorage.removeItem("token"),localStorage.removeItem("accountId"),e(t)}),t(a)}).catch(function(t){o("auth_error"),localStorage.removeItem("token"),localStorage.removeItem("accountId"),e(t)})}));case 2:case"end":return t.stop()}},t)}));function e(e,a){return t.apply(this,arguments)}return e}(),register:function(){var t=Object(Ve["a"])(regeneratorRuntime.mark(function t(e,a){var o;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return o=e.commit,t.abrupt("return",new Promise(function(t,e){o("auth_request");var s=w+"register";d.a.post(s,a).then(function(e){t(e)}).catch(function(t){o("auth_error"),e(t)})}));case 2:case"end":return t.stop()}},t)}));function e(e,a){return t.apply(this,arguments)}return e}(),registeruser:function(){var t=Object(Ve["a"])(regeneratorRuntime.mark(function t(e,a){var o;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return o=e.commit,t.abrupt("return",new Promise(function(t,e){o("auth_request");var s=w+"registeruser";d.a.post(s,a).then(function(e){t(e)}).catch(function(t){o("auth_error"),e(t)})}));case 2:case"end":return t.stop()}},t)}));function e(e,a){return t.apply(this,arguments)}return e}(),loadRoles:function(){var t=Object(Ve["a"])(regeneratorRuntime.mark(function t(e){var a,o,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a=e.commit,o=this.getters.userId,s=w+"roles?id="+o,t.abrupt("return",new Promise(function(t,e){d.a.get(s).then(function(e){var o=JSON.parse(e.data);a("user_roles",o[0].Role),t(e)}).catch(function(t){a("auth_error"),localStorage.removeItem("token"),e(t)})}));case 4:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),logout:function(t){var e=t.commit;return new Promise(function(t,a){e("logout"),delete d.a.defaults.headers.common["Authorization"],t()})}},ta={auth_request:function(t){t.status="loading"},auth_success:function(t,e,a){t.status="success",t.token=e,t.user=a},user_roles:function(t,e){t.role=e},auth_error:function(t){t.status="error"},logout:function(t){t.status="",t.token="",localStorage.removeItem("token"),localStorage.removeItem("accountId"),t.isMasterAdmin=!1,t.isAdmin=!1,t.isClientAdmin=!1,t.isClientUser=!1,t.isUser=!0}},ea={state:We,getters:Ze,actions:Xe,mutations:ta},aa={accountInformation:[],users:[]},oa={accountInformation:function(t){return t.accountInformation},accountUsers:function(t){return t.users}},sa={getAccountInformation:function(){var t=Object(Ve["a"])(regeneratorRuntime.mark(function t(e,a){var o;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return o=e.commit,t.abrupt("return",new Promise(function(t,e){var s=w+"account?accountId="+a;d.a.get(s).then(function(e){o("set_account_information",e.data),t(e)}).catch(function(t){o("auth_error"),e(t)})}));case 2:case"end":return t.stop()}},t)}));function e(e,a){return t.apply(this,arguments)}return e}(),updateAccountInformation:function(){var t=Object(Ve["a"])(regeneratorRuntime.mark(function t(e,a){var o;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return o=e.commit,t.abrupt("return",new Promise(function(t,e){var s=w+"account";d.a.post(s,a).then(function(e){o("set_account_information",e.data),t(e)}).catch(function(t){o("auth_error"),e(t)})}));case 2:case"end":return t.stop()}},t)}));function e(e,a){return t.apply(this,arguments)}return e}()},ia={set_account_information:function(t,e){t.accountInformation=JSON.parse(e[0])[0],t.users=JSON.parse(e[1])},auth_error:function(t){t.accountInformation=[],t.users=[]}},na={state:aa,getters:oa,actions:sa,mutations:ia},ra={helpTitle:"",helpContent:"",isActive:!0},ca={helpTitle:function(t){return t.helpTitle},helpContent:function(t){return t.helpContent},helpIsActive:function(t){return t.isActive}},la={getDocumentation:function(){var t=Object(Ve["a"])(regeneratorRuntime.mark(function t(e,a){var o;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return o=e.commit,t.abrupt("return",new Promise(function(t,e){var s=w+"documentation?helpContentKey="+a.HelpContentKey+"&isAdmin="+a.IsAdmin;d.a.get(s).then(function(e){o("set_documentation",e.data),t(e)}).catch(function(t){e(t)})}));case 2:case"end":return t.stop()}},t)}));function e(e,a){return t.apply(this,arguments)}return e}(),updateDocumentation:function(){var t=Object(Ve["a"])(regeneratorRuntime.mark(function t(e,a){var o;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return o=e.commit,t.abrupt("return",new Promise(function(t,e){var s=w+"documentation";d.a.post(s,a).then(function(e){o("set_documentation",e.data),t(e)}).catch(function(t){e(t)})}));case 2:case"end":return t.stop()}},t)}));function e(e,a){return t.apply(this,arguments)}return e}()},ua={set_documentation:function(t,e){var a=JSON.parse(e)[0];t.helpTitle=a.HelpTitle,t.helpContent=a.HelpContent,t.isActive=a.IsActive}},da={state:ra,getters:ca,actions:la,mutations:ua};o["default"].use(_["a"]);var ma=new _["a"].Store({modules:{authentication:ea,forms:Ye,account:na,documentation:da}}),ha=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("div",{staticClass:"container-nav"},[a("div",{staticClass:"logo"},[a("img",{staticStyle:{height:"60px"},attrs:{src:t.logoImage}})]),a("div",{staticClass:"navbar"},[a("div",{staticClass:"icon-bar",on:{click:function(e){t.Show()}}},[a("i"),a("i"),a("i")]),a("ul",{attrs:{id:"nav-lists"}},[a("li",{staticClass:"close"},[a("span",{on:{click:function(e){t.Hide()}}},[t._v("×")])]),a("li",[a("router-link",{attrs:{to:"/"},nativeOn:{click:function(e){t.Hide()}}},[t._v("Home")])],1),a("li",[a("router-link",{attrs:{to:"/about"},nativeOn:{click:function(e){t.Hide()}}},[t._v("About")])],1),a("li",[a("router-link",{attrs:{to:"/suggestions"},nativeOn:{click:function(e){t.Hide()}}},[t._v("Submit Ideas")])],1),a("li",[t.authenticated&&(t.admin||t.masterAdmin)?a("router-link",{attrs:{to:"/dashboard"},nativeOn:{click:function(e){t.Hide()}}},[t._v("Dashboard")]):t._e()],1),a("li",[t.authenticated&&t.clientAdmin?a("router-link",{attrs:{to:"/accountprofile"},nativeOn:{click:function(e){t.account(),t.Hide()}}},[t._v("Account Profile")]):t._e()],1),a("li",[t.authenticated?a("router-link",{attrs:{to:"/userprofile"},nativeOn:{click:function(e){t.profile(),t.Hide()}}},[t._v("User Profile")]):t._e()],1),a("li",[t.authenticated?a("router-link",{attrs:{to:"/"},nativeOn:{click:function(e){t.logout(),t.Hide()}}},[t._v("Logout")]):t._e()],1),a("li",[t.authenticated?t._e():a("router-link",{attrs:{to:"login"},nativeOn:{click:function(e){t.Hide()}}},[t._v("Login")])],1)])])]),a("router-view",{on:{authenticated:t.setAuthenticated}})],1)},pa=[],fa={name:"app",data:function(){return{authenticated:!1,logoImage:a("cf05"),background:a("749f"),masterAdmin:!1,clientAdmin:!1,admin:!1,user:!0,userActivityThrottlerTimeout:null,userActivityTimeout:null}},beforeMount:function(){this.activateActivityTracker()},beforeDestroy:function(){window.removeEventListener("mousemove",this.userActivityThrottler),window.removeEventListener("scroll",this.userActivityThrottler),window.removeEventListener("keydown",this.userActivityThrottler),window.removeEventListener("resize",this.userActivityThrottler),clearTimeout(this.userActivityTimeout),clearTimeout(this.userActivityThrottlerTimeout)},mounted:function(){this.$store.getters.isLoggedIn&&this.reloadAuthentication()},watch:{},computed:Object(l["a"])({},Object(_["c"])(["isLoggedIn","isAdmin","isMasterAdmin","isUser"])),created:function(){this.$http.interceptors.response.use(void 0,function(t){return new Promise(function(e,a){throw 401==t.status&&t.config&&!t.config__isRetryRequest&&this.$store.dispatch(logout),t})}),this.$store.getters.isLoggedIn&&this.reloadAuthentication()},methods:{Show:function(){document.getElementById("nav-lists").classList.add("_Menus-show")},Hide:function(){document.getElementById("nav-lists").classList.remove("_Menus-show")},setAuthenticated:function(){var t=this,e=this.$route.path;"/login"==e||"/register"==e?(this.$router.push("/"),this.$store.dispatch("loadRoles").then(function(){t.$store.getters.isMasterAdmin?(t.masterAdmin=!0,t.admin=!0,t.clientAdmin=!0):t.$store.getters.isAdmin?(t.admin=!0,t.clientAdmin=!0):t.$store.getters.isClientAdmin&&(t.clientAdmin=!0),t.authenticated=!0,t.$message("Successfully Signed In!")}).catch(function(t){return console.log(t)})):this.$store.dispatch("loadRoles").then(function(){t.$store.getters.isMasterAdmin?(t.masterAdmin=!0,t.admin=!0,t.clientAdmin=!0):t.$store.getters.isAdmin?(t.admin=!0,t.clientAdmin=!0):t.$store.getters.isClientAdmin&&(t.clientAdmin=!0),t.authenticated=!0})},logout:function(){var t=this;this.$store.dispatch("logout").then(function(){t.authenticated=!1,t.masterAdmin=!1,t.admin=!1,t.clientAdmin=!1,t.$message("Logged out!")})},activateActivityTracker:function(){window.addEventListener("mousemove",this.userActivityThrottler),window.addEventListener("mousemove",this.resetUserActivityTimeout),window.addEventListener("scroll",this.resetUserActivityTimeout),window.addEventListener("keydown",this.resetUserActivityTimeout),window.addEventListener("resize",this.resetUserActivityTimeout)},resetUserActivityTimeout:function(){var t=this;clearTimeout(this.userActivityTimeout),this.userActivityTimeout=setTimeout(function(){t.inactiveUserAction()},18e5)},userActivityThrottler:function(){var t=this;this.userActivityThrottlerTimeout||(this.userActivityThrottlerTimeout=setTimeout(function(){t.resetUserActivityTimeout(),clearTimeout(t.userActivityThrottlerTimeout),t.userActivityThrottlerTimeout=null},18e5))},inactiveUserAction:function(){this.authenticated&&(this.$store.dispatch("logout"),location.reload())},reloadAuthentication:function(){var t=this;this.$store.dispatch("loadRoles").then(function(){t.$store.getters.isMasterAdmin?(t.masterAdmin=!0,t.admin=!0,t.clientAdmin=!0):t.$store.getters.isAdmin?(t.admin=!0,t.clientAdmin=!0):t.$store.getters.isClientAdmin&&(t.clientAdmin=!0),t.authenticated=!0})},profile:function(){this.$router.push("/userprofile/"+this.$store.getters.userId)},account:function(){this.$router.push("/accountprofile/"+this.$store.getters.accountId)}}},va=fa,ga=(a("c0b9"),Object(v["a"])(va,ha,pa,!1,null,null,null)),ba=ga.exports,Aa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",["checkbox"===t.passwordFieldType?a("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"value"}],staticClass:"form-control",attrs:{disabled:t.schema.disabled,maxlength:t.schema.max,placeholder:t.schema.placeholder,readonly:t.schema.readonly,validators:t.schema.validators,showButton:t.schema.showButton,type:"checkbox"},domProps:{checked:Array.isArray(t.value)?t._i(t.value,null)>-1:t.value},on:{change:function(e){var a=t.value,o=e.target,s=!!o.checked;if(Array.isArray(a)){var i=null,n=t._i(a,i);o.checked?n<0&&(t.value=a.concat([i])):n>-1&&(t.value=a.slice(0,n).concat(a.slice(n+1)))}else t.value=s}}}):"radio"===t.passwordFieldType?a("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"value"}],staticClass:"form-control",attrs:{disabled:t.schema.disabled,maxlength:t.schema.max,placeholder:t.schema.placeholder,readonly:t.schema.readonly,validators:t.schema.validators,showButton:t.schema.showButton,type:"radio"},domProps:{checked:t._q(t.value,null)},on:{change:function(e){t.value=null}}}):a("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"value"}],staticClass:"form-control",attrs:{disabled:t.schema.disabled,maxlength:t.schema.max,placeholder:t.schema.placeholder,readonly:t.schema.readonly,validators:t.schema.validators,showButton:t.schema.showButton,type:t.passwordFieldType},domProps:{value:t.value},on:{input:function(e){e.target.composing||(t.value=e.target.value)}}}),t.showButton?a("input",{attrs:{type:"checkbox",id:"togglePassword"},on:{click:t.showPassword}}):t._e(),t.showButton?a("label",{attrs:{for:"togglePassword"}},[t._v("Show Password")]):t._e()])},ya=[],_a={name:"passwordField",mixins:[A["abstractField"]],data:function(){return{showButton:!1,passwordFieldType:"password"}},mounted:function(){this.showButton=this.schema.showButton},watch:{showButton:function(t,e){t!=e&&(this.showButton=t)}},methods:{showPassword:function(){"password"==this.passwordFieldType?this.passwordFieldType="text":this.passwordFieldType="password"}}},wa=_a,Da=(a("09e8"),Object(v["a"])(wa,Aa,ya,!1,null,"4e8a6ce6",null)),Ia=Da.exports,ka=a("5c96"),$a=a.n(ka),Sa=(a("26af"),a("b2d6")),Ca=a.n(Sa),Ta=a("4897"),Na=a.n(Ta),Fa=a("e391"),xa=a.n(Fa),La=a("0652");o["default"].use(y.a),o["default"].component("fieldPassword",Ia),o["default"].use($a.a),Na.a.use(Ca.a),o["default"].use(xa.a),o["default"].use(La),new o["default"]({el:"#app",router:Be,store:ma,render:function(t){return t(ba)}})},"585b":function(t,e,a){},6293:function(t,e,a){},"749f":function(t,e,a){t.exports=a.p+"img/SbBackground.0eea793b.jpg"},7931:function(t,e,a){},"7ee2":function(t,e,a){},b97a:function(t,e,a){"use strict";var o=a("e68a"),s=a.n(o);s.a},b98d:function(t,e,a){"use strict";var o=a("7931"),s=a.n(o);s.a},c0b9:function(t,e,a){"use strict";var o=a("6293"),s=a.n(o);s.a},cf05:function(t,e,a){t.exports=a.p+"img/logo.589e42b4.png"},cf1c:function(t,e){t.exports="data:image/gif;base64,R0lGODlhEAAQAPIAACjGw9ns8FHOzKrh49ns8JTc3n3Y2HLV1iH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA=="},e68a:function(t,e,a){},eef8:function(t,e,a){"use strict";var o=a("1260"),s=a.n(o);s.a}});
//# sourceMappingURL=app.1703140c.js.map