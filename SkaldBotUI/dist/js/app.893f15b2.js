(function(t){function e(e){for(var o,r,n=e[0],l=e[1],c=e[2],d=0,m=[];d<n.length;d++)r=n[d],Object.prototype.hasOwnProperty.call(s,r)&&s[r]&&m.push(s[r][0]),s[r]=0;for(o in l)Object.prototype.hasOwnProperty.call(l,o)&&(t[o]=l[o]);u&&u(e);while(m.length)m.shift()();return i.push.apply(i,c||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],o=!0,n=1;n<a.length;n++){var l=a[n];0!==s[l]&&(o=!1)}o&&(i.splice(e--,1),t=r(r.s=a[0]))}return t}var o={},s={app:0},i=[];function r(e){if(o[e])return o[e].exports;var a=o[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=t,r.c=o,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(a,o,function(e){return t[e]}.bind(null,o));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],l=n.push.bind(n);n.push=e,n=n.slice();for(var c=0;c<n.length;c++)e(n[c]);var u=l;i.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"034f":function(t,e,a){"use strict";var o=a("e773"),s=a.n(o);s.a},"0734":function(t,e,a){},"09e8":function(t,e,a){"use strict";var o=a("585b"),s=a.n(o);s.a},"0bcc":function(t,e,a){"use strict";var o=a("e097"),s=a.n(o);s.a},"1af1":function(t,e,a){},2616:function(t,e,a){"use strict";var o=a("553e"),s=a.n(o);s.a},"35d5":function(t,e,a){"use strict";var o=a("3d80"),s=a.n(o);s.a},"3d80":function(t,e,a){},"408b":function(t,e,a){},4861:function(t,e,a){"use strict";var o=a("0734"),s=a.n(o);s.a},"553e":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);var o=a("2b0e"),s=a("8c4f"),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"login"}},[a("div",[""!=t.formKey?a("Form",{attrs:{formKey:t.formKey},on:{LoginSuccess:t.login}}):t._e(),a("router-link",{staticClass:"link",attrs:{to:"/register"}},[t._v("Register")])],1)])},r=[],n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"form"},[t.loaded?t._e():a("div",[a("VueLoading")],1),t.submitted?a("div",{class:t.isError?"errorMsg":"successMsg"},[a("p",{staticStyle:{"font-weight":"bold"}},[t._v(t._s(t.msg))]),a("button",{staticClass:"close",on:{click:t.closeNotification}},[t._v("x")])]):t._e(),t.loaded?a("div",{staticClass:"panel"},[a("div",{staticClass:"panel-heading"},[t._v(t._s(t.formName))]),a("hr"),a("div",{staticClass:"panel-body"},[a("form",{attrs:{action:""},on:{submit:t.formSubmit}},[t.loaded?a("vue-form-generator",{attrs:{schema:t.schema,model:t.model,options:t.formOptions},on:{validated:t.validateForm}}):t._e()],1)])]):t._e(),t.admin?a("div",[a("input",{attrs:{type:"checkbox",id:"cbShowFormDetails",name:"cbShowFormDetails"},on:{change:t.showFormDetails}}),a("label",{attrs:{for:"cbShowFormDetails"}},[t._v("Show Form Information")])]):t._e(),t.showFormExtras?a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"panel-heading"},[t._v("Model")]),a("div",{staticClass:"panel-body"},[t.model?a("pre",{domProps:{innerHTML:t._s(t.prettyJSON(t.model))}}):t._e()])]):t._e(),t.showFormExtras?a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"panel-heading"},[t._v("Schema")]),a("div",{staticClass:"panel-body"},[t.model?a("pre",{domProps:{innerHTML:t._s(t.prettyJSON(t.schema))}}):t._e()])]):t._e()])},l=[],c=(a("6b54"),a("a481"),a("5530")),u=a("bc3a"),d=a.n(u),m=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("img",{staticClass:"loadingImg",attrs:{src:t.loader,alt:"loadingGif"}})])},h=[],p={name:"vue-loading",data:function(){return{loader:a("cf1c")}}},f=p,v=(a("b98d"),a("2877")),g=Object(v["a"])(f,m,h,!1,null,"176b3d38",null),b=g.exports,A=a("4309"),y=a.n(A),_=(a("92bd"),a("2f62")),w="http://127.0.0.1:5000/api/";y.a.validators.emailValidation=function(t,e,a){var o=a.email,s=t;return o!=s?["Emails do not match!"]:[]},y.a.validators.passwordValidation=function(t,e,a){var o=a.password,s=t;return o!=s?["Passwords do not match!"]:[]};var D={name:"Form",components:{VueLoading:b},props:{formKey:{type:String,required:!0}},mounted:function(){this.loaded=!1;var t=w+"getFormSchema?formKey="+this.formKey,e=w+"getActionLink?formKey="+this.formKey,a=w+"getFormName?formKey="+this.formKey,o=this;d.a.get(t).then(function(t){o.schema=JSON.parse(t.data)}).catch(function(t){console.log(t),this.$emit("error",!0)}),d.a.get(e).then(function(t){var e=JSON.parse(t.data),a=e[0];o.action=w+a.ActionLink}).catch(function(t){console.log(t)}),d.a.get(a).then(function(t){var e=JSON.parse(t.data),a=e[0].FormName;o.formName=a,o.loaded=!0}).catch(function(t){console.log(t)})},watch:{formKey:function(){this.loaded=!1;var t=w+"getFormSchema?formKey="+this.formKey,e=w+"getActionLink?formKey="+this.formKey,a=w+"getFormName?formKey="+this.formKey,o=this;d.a.get(t).then(function(t){o.schema=JSON.parse(t.data)}).catch(function(t){console.log(t),this.$emit("error",!0)}),d.a.get(e).then(function(t){var e=JSON.parse(t.data),a=e[0];o.action=w+a.ActionLink}).catch(function(t){console.log(t)}),d.a.get(a).then(function(t){var e=JSON.parse(t.data),a=e[0].FormName;o.formName=a,o.loaded=!0}).catch(function(t){console.log(t)})},loaded:function(){this.loaded&&this.newModel()},submitted:function(){this.submitted&&setTimeout(this.closeNotification,5e3)}},data:function(){return{action:"",model:{},schema:null,options:{validatedAfterLoad:!1,validatedAfterChange:!0},loaded:!1,msg:"",isError:!1,submitted:!1,admin:!1,formName:"Test",showFormExtras:!1,isValid:!1,formOptions:{validateAfterLoad:!1,validateAfterChanged:!0}}},created:function(){console.log(this.$store.getters.isAdmin),console.log(this.$store.getters.isMasterAdmin),(this.$store.getters.isAdmin||this.$store.getters.isMasterAdmin)&&(this.admin=!0)},methods:Object(c["a"])(Object(c["a"])({},Object(_["b"])(["fetchFormData"])),{},{prettyJSON:function(t){if(t)return t=JSON.stringify(t,void 0,4),t=t.replace(/&/g,"&").replace(/</g,"<").replace(/>/g,">"),t.replace(/("(\\u[a-zA-Z0-9]{4}|\\[^u]|[^\\"])*"(\s*:)?|\b(true|false|null)\b|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)/g,function(t){var e="number";return/^"/.test(t)?e=/:$/.test(t)?"key":"string":/true|false/.test(t)?e="boolean":/null/.test(t)&&(e="null"),'<span class="'+e+'">'+t+"</span>"})},newModel:function(){"LoginForm"!=this.formKey&&(this.model=y.a.schema.createDefaultObject(this.schema))},validateForm:function(t){this.isValid=t},formSubmit:function(){var t=this;if(this.isValid){var e=this.action,a=this;if("LoginForm"==this.formKey||"RegisterForm"==this.formKey){var o=this.model.username,s=this.model.password;if("LoginForm"==this.formKey)this.$store.dispatch("login",{username:o,password:s}).then(function(e){return"OK"==e.statusText?t.$emit("LoginSuccess",!0):t.$emit("LoginSuccess",!1)}).catch(function(t){return console.log(t)});else{var i=this.model.firstname,r=this.model.lastname;this.$store.dispatch("register",{username:o,firstname:i,lastname:r,password:s}).then(function(){return t.$emit("RegisterSuccess",!0)}).catch(function(t){return console.log(t)})}}else d.a.post(e,this.model).then(function(t){var e=t.data;"Success"==e.Message.toString()?a.setNotification(!0):a.setNotification(!1)})}event.preventDefault()},setNotification:function(t){t?(this.submitted=!0,this.msg="Successfully submitted the suggestion!"):(this.submitted=!0,this.isError=!0,this.msg="There was an error submitting the suggestion. Please try again.")},closeNotification:function(){this.msg="",this.submitted=!1},showFormDetails:function(){this.showFormExtras?this.showFormExtras=!1:this.showFormExtras=!0}}),computed:Object(c["a"])({},Object(_["c"])(["formSchema","isAdmin","isMasterAdmin","isUser"]))},k=D,I=(a("ba53"),Object(v["a"])(k,n,l,!1,null,"0719a93a",null)),S=I.exports,T={name:"Login",components:{Form:S},data:function(){return{formKey:"LoginForm"}},methods:{login:function(){console.log("Logging in..."),this.$emit("authenticated",!0)}}},F=T,C=(a("2616"),Object(v["a"])(F,i,r,!1,null,"3fb9a190",null)),$=C.exports,x=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"login"}},[""!=t.formKey?a("Form",{attrs:{formKey:t.formKey},on:{RegisterSuccess:t.login}}):t._e(),a("router-link",{staticClass:"link",attrs:{to:"/login"}},[t._v("Login")])],1)},N=[],M={name:"Register",components:{Form:S},data:function(){return{formKey:"RegisterForm"}},methods:{login:function(){console.log("Logging in..."),this.$emit("authenticated",!0)}}},L=M,O=(a("c123"),Object(v["a"])(L,x,N,!1,null,"1a7bca44",null)),E=O.exports,K=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},j=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"image"})])}],R={name:"HomePage"},P=R,B=(a("8ad9"),Object(v["a"])(P,K,j,!1,null,"a8013690",null)),U=B.exports,V=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},J=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"about"},[a("div",[a("h1",[t._v("About The SkaldBot")]),a("hr"),a("p",[t._v("\n            The SkaldBot began as a half drunken joke by the original creator who wanted to immortalize his loss in Elite: Dangerous on the Discord server he and his friends used while playing. "),a("br"),a("br"),t._v("\n            He later realized that with the help of some friends, it could become something much, much more annoying. And potentially even useful! \n        ")]),a("p",[t._v("\n            This is how we ended up with the fun little SkaldBot you have been enjoying."),a("br"),a("br"),t._v("\n            This site is intended to be the user interface where non-developers can submit their own things for the bot to say (pending approval of course). \n        ")])]),a("div",[a("h2",[t._v("About the Developers")]),a("p",[t._v("They are all idiots. Idk we can fill this out later.")])])])}],H={name:"About"},z=H,Q=Object(v["a"])(z,V,J,!1,null,null,null),G=Q.exports,W=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"suggestions"},[a("SelectForm",{attrs:{pageId:t.pageId},on:{formKey:t.onChildChange}}),""!=t.formKey?a("Form",{attrs:{formKey:t.formKey},on:{error:t.error}}):t._e()],1)},Y=[],q=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"selectsuggestion"},[a("div",[a("select",{staticClass:"select-css",on:{change:function(e){t.setKey(e)}}},[a("option",{attrs:{value:"select"}},[t._v("Select")]),t._l(t.allForms,function(e){return a("option",{key:e.FormKey,domProps:{value:e.FormKey}},[t._v(t._s(e.FormName))])})],2)])])},Z=[],X={name:"SelectForm",props:["pageId"],data:function(){return{formKey:"",thePageId:Object(c["a"])({},this.pageId)}},methods:Object(c["a"])(Object(c["a"])({},Object(_["b"])(["fetchAllForms","fetchAllFormsByPageId"])),{},{setKey:function(t){var e=t.target.options[t.target.options.selectedIndex].value;"select"==e?(this.formKey=e,this.$emit("formKey","")):(this.formKey=e,this.$emit("formKey",e))}}),computed:Object(_["c"])(["allForms"]),created:function(){0==this.pageId||void 0==this.pageId?this.fetchAllForms():(console.log(this.pageId),this.fetchAllFormsByPageId(this.pageId))}},tt=X,et=(a("ee26"),Object(v["a"])(tt,q,Z,!1,null,"ab3fd65a",null)),at=et.exports,ot={name:"Suggestions",components:{SelectForm:at,Form:S},data:function(){return{formKey:"",pageId:"1"}},methods:{onChildChange:function(t){""!=this.formKey&&(this.formKey=""),this.formKey=t},error:function(t){1==t&&(this.formKey="")}}},st=ot,it=Object(v["a"])(st,W,Y,!1,null,"710d7b04",null),rt=it.exports,nt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"dashboard"}},[a("div",{staticClass:"sidenav"},[a("ul",[a("li",[a("router-link",{attrs:{to:"/dashboardhome"}},[t._v("Dashboard Home")])],1),a("li",[a("router-link",{attrs:{to:"/manageusers"}},[t._v("Users")])],1),a("li",[a("router-link",{attrs:{to:"/pendingitems"}},[t._v("Pending Items")])],1),a("li",[a("router-link",{attrs:{to:"/manageforms"}},[t._v("Manage Forms")])],1),a("li",[a("router-link",{attrs:{to:"/managestories"}},[t._v("Manage Stories")])],1),a("li",[a("router-link",{attrs:{to:"/managewisdoms"}},[t._v("Manage Wisdoms")])],1),a("li",[a("router-link",{attrs:{to:"/github"}},[t._v("GitHub Project")])],1)])]),a("div",{staticClass:"dashboardContainer"},[a("router-view")],1)])},lt=[],ct={name:"Dashboard",data:function(){return{isLoaded:!1}}},ut=ct,dt=(a("a657"),Object(v["a"])(ut,nt,lt,!1,null,"5c555542",null)),mt=dt.exports,ht=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.loaded?t._e():a("VueLoading"),t.loaded?a("div",[a("div",{staticStyle:{"margin-bottom":"10px"}},[a("el-row",[a("el-col",{attrs:{span:6}},[a("el-input",{attrs:{placeholder:"Search Username"},model:{value:t.filters[0].value,callback:function(e){t.$set(t.filters[0],"value",e)},expression:"filters[0].value"}})],1)],1)],1),a("data-tables",{attrs:{data:t.data,"action-col":t.actionCol,filters:t.filters},on:{"selection-change":t.handleSelectionChange}},[t._l(t.titles,function(t){return a("el-table-column",{key:t.prop,attrs:{prop:t.prop,label:t.label,sortable:"custom"}})}),a("el-table-column",{attrs:{prop:"IsActive",label:"User Active"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[t._v(t._s(t.getBool(e.row.IsActive)))])]}}])}),a("el-table-column",{attrs:{prop:"CreateDate",label:"Date Created"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[t._v(t._s(t.getDate(e.row.CreateDate)))])]}}])})],2)],1):t._e()],1)},pt=[],ft={name:"ManageUsers",components:{VueLoading:b},data:function(){var t=this;return{userId:"",loaded:!1,data:[],titles:[{prop:"Id",label:"User Id"},{prop:"Username",label:"Username"},{prop:"FirstName",label:"First Name"},{prop:"LastName",label:"Last Name"}],filters:[{prop:"Username",value:""}],actionCol:{props:{label:"Actions"},buttons:[{props:{type:"primary"},handler:function(e){t.userId=e.Id,t.$router.push("/userprofile/"+t.userId)},label:"Edit"}]},selectedRow:[]}},created:function(){this.$store.getters.isMasterAdmin||this.$store.getters.isAdmin?this.isLoaded=!0:this.$router.push("/unauthorized")},mounted:function(){this.loaded=!1;var t=w+"getUsers?isMaster="+this.$store.getters.isMasterAdmin,e=this;d.a.get(t).then(function(t){e.data=JSON.parse(t.data)}).catch(function(t){console.log(t),this.$emit("error",!0)}),e.loaded=!0},methods:{handleSelectionChange:function(t){this.selectedRow=t},getDate:function(t){var e=new Date(t);return e.getMonth()+1+"-"+e.getDate()+"-"+e.getFullYear()},getBool:function(t){return t?"True":"False"}}},vt=ft,gt=Object(v["a"])(vt,ht,pt,!1,null,null,null),bt=gt.exports,At=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},yt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wrapper",attrs:{id:"unauthorized"}},[a("p",{staticClass:"centerText"},[t._v("You do not have permission to view this page.")])])}],_t={name:"unauthorized"},wt=_t,Dt=(a("35d5"),Object(v["a"])(wt,At,yt,!1,null,"58576fd2",null)),kt=Dt.exports,It=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},St=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"DashboardHome"}},[a("p",[t._v("This is the home dashboard")])])}],Tt={name:"DashboardHome",created:function(){this.$store.getters.isMasterAdmin||this.$store.getters.isAdmin?this.isLoaded=!0:this.$router.push("/unauthorized")}},Ft=Tt,Ct=Object(v["a"])(Ft,It,St,!1,null,"4cd74124",null),$t=Ct.exports,xt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"UserProfile"}},[t.submitted?a("div",{class:t.isError?"errorMsg":"successMsg"},[a("p",{staticStyle:{"font-weight":"bold"}},[t._v(t._s(t.msg))]),a("button",{staticClass:"close",on:{click:t.closeNotification}},[t._v("x")])]):t._e(),"manageusers"==t.prevRoute.name&&t.isAdmin?a("div",[a("router-link",{staticClass:"btn-button",attrs:{to:"/manageusers"}},[t._v("Go Back")])],1):t._e(),a("div",{staticClass:"panel"},[t._m(0),a("div",{staticClass:"panel-body"},[a("h4",{staticClass:"sectionHeading"},[t._v(t._s(t.userData.FirstName)+" "+t._s(t.userData.LastName))]),a("hr"),a("form",{on:{submit:t.formSubmit}},[a("label",{attrs:{for:"userName"}},[t._v("Username:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.userData.Username,expression:"userData.Username"}],attrs:{type:"text",id:"userName",name:"userName",disabled:""},domProps:{value:t.userData.Username},on:{input:function(e){e.target.composing||t.$set(t.userData,"Username",e.target.value)}}}),a("label",{attrs:{for:"firstName"}},[t._v("First Name:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.userData.FirstName,expression:"userData.FirstName"}],attrs:{type:"text",id:"firstName",name:"firstName"},domProps:{value:t.userData.FirstName},on:{input:function(e){e.target.composing||t.$set(t.userData,"FirstName",e.target.value)}}}),a("label",{attrs:{for:"lastName"}},[t._v("Last Name:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.userData.LastName,expression:"userData.LastName"}],attrs:{type:"text",id:"lastName",name:"lastName"},domProps:{value:t.userData.LastName},on:{input:function(e){e.target.composing||t.$set(t.userData,"LastName",e.target.value)}}}),a("label",{attrs:{for:"createDate"}},[t._v("Date Created:")]),a("input",{attrs:{type:"text",id:"createDate",name:"createDate",disabled:""},domProps:{value:t.getDate(t.userData.CreateDate)}}),t.isAdmin?a("div",[a("div",[a("hr"),a("h4",{staticClass:"sectionHeading"},[t._v("Admin Options")]),a("div",[a("label",{attrs:{for:"isActive"}},[t._v("Is User Active:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.userData.IsActive,expression:"userData.IsActive"}],attrs:{type:"checkbox",id:"isActive",name:"isActive"},domProps:{checked:Array.isArray(t.userData.IsActive)?t._i(t.userData.IsActive,null)>-1:t.userData.IsActive},on:{change:function(e){var a=t.userData.IsActive,o=e.target,s=!!o.checked;if(Array.isArray(a)){var i=null,r=t._i(a,i);o.checked?r<0&&t.$set(t.userData,"IsActive",a.concat([i])):r>-1&&t.$set(t.userData,"IsActive",a.slice(0,r).concat(a.slice(r+1)))}else t.$set(t.userData,"IsActive",s)}}})]),a("div",[a("label",{attrs:{for:"isLocked"}},[t._v("Is User Locked:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.userData.IsLocked,expression:"userData.IsLocked"}],attrs:{type:"checkbox",id:"isLocked",name:"isLocked"},domProps:{checked:Array.isArray(t.userData.IsLocked)?t._i(t.userData.IsLocked,null)>-1:t.userData.IsLocked},on:{change:function(e){var a=t.userData.IsLocked,o=e.target,s=!!o.checked;if(Array.isArray(a)){var i=null,r=t._i(a,i);o.checked?r<0&&t.$set(t.userData,"IsLocked",a.concat([i])):r>-1&&t.$set(t.userData,"IsLocked",a.slice(0,r).concat(a.slice(r+1)))}else t.$set(t.userData,"IsLocked",s)}}})])]),a("div",[a("hr"),a("h4",{staticClass:"sectionHeading"},[t._v("Permissions")]),a("div",t._l(t.roles,function(e){return a("div",{key:e.Role},[a("label",{attrs:{for:"item.Role"}},[t._v(t._s(e.RoleName))]),a("input",{attrs:{type:"checkbox",name:e.Role},domProps:{value:e.Role,checked:e.Role==t.selectedRole},on:{change:t.updateSelectedRole}})])}))])]):t._e(),a("button",{attrs:{type:"submit"}},[t._v("Update")])])])])])},Nt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"panel-heading"},[a("h4",[t._v("User Profile")])])}],Mt={name:"UserProfile",props:{userId:{type:String,required:!0}},data:function(){return{isAdmin:!1,userData:[],oldUserData:[],roles:[],selectedRole:"",msg:"",isError:!0,submitted:!1,success:!1,prevRoute:{}}},watch:{submitted:function(){this.submitted&&setTimeout(this.closeNotification,5e3)}},beforeRouteEnter:function(t,e,a){a(function(t){t.prevRoute=e})},mounted:function(){this.getData()},created:function(){this.$store.getters.isMasterAdmin||this.$store.getters.isAdmin||this.userId!=this.$store.getters.userId&&this.$router.push("/unauthorized")},methods:{getDate:function(t){var e=new Date(t);return e.getMonth()+1+"-"+e.getDate()+"-"+e.getFullYear()},updateSelectedRole:function(t){this.selectedRole="",t.target.checked&&(this.selectedRole=t.target.value)},formSubmit:function(){if(event.preventDefault(),this.objectsAreSame(this.userData,this.oldUserData))this.setNotification(!1);else{var t=w+"getUser",e=[],a=this;this.selectedRole!=this.userData.r[0].Role&&(this.userData.r[0].Role=this.selectedRole),e.push(this.userData),d.a.post(t,e).then(function(t){var e=t.data;"Success"==e.Message.toString()?(a.success=!0,a.setNotification(a.success),a.getData()):(a.success=!1,a.setNotification(a.success),a.getData())})}},closeNotification:function(){this.msg="",this.submitted=!1,this.isError=!1},setNotification:function(t){t?(this.submitted=!0,this.isError=!1,this.msg="Successfully updated the user!"):(this.submitted=!0,this.isError=!0,this.msg="There was an error updating the user. Please try again.")},getData:function(){var t=w+"getUser?userId="+this.userId,e=w+"getRoles",a=this;d.a.get(t).then(function(t){var e=t.data[0];a.userData=JSON.parse(e),a.userData=a.userData[0],a.oldUserData=JSON.parse(e),a.oldUserData=a.oldUserData[0],a.selectedRole=a.userData.r[0].Role}).catch(function(t){console.log(t)}),d.a.get(e).then(function(t){a.roles=JSON.parse(t.data)}).catch(function(t){console.log(t)}),(this.$store.getters.isAdmin||this.$store.getters.isMasterAdmin)&&(this.isAdmin=!0)},objectsAreSame:function(t,e){var a=!0;for(var o in t)"r"==o?t[o][0].Role!=e[o][0].Role&&(a=!1):t[o]!=e[o]&&(a=!1);return a}}},Lt=Mt,Ot=(a("767f"),Object(v["a"])(Lt,xt,Nt,!1,null,"0c56ba10",null)),Et=Ot.exports,Kt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.loaded?t._e():a("VueLoading"),a("Modal",{directives:[{name:"show",rawName:"v-show",value:t.isModalVisible,expression:"isModalVisible"}],attrs:{modalDisplayTypeId:t.modalDisplayTypeId,lookupId:t.lookupId},on:{close:t.closeModal}}),t.loaded?a("div",[a("div",{staticStyle:{"margin-bottom":"10px"}},[a("el-row",[a("el-col",{attrs:{span:6}},[a("el-input",{attrs:{placeholder:"Filter Item Type"},model:{value:t.filters[0].value,callback:function(e){t.$set(t.filters[0],"value",e)},expression:"filters[0].value"}})],1)],1)],1),a("data-tables",{attrs:{data:t.data,"action-col":t.actionCol,filters:t.filters},on:{"selection-change":t.handleSelectionChange}},[t._l(t.titles,function(t){return a("el-table-column",{key:t.prop,attrs:{prop:t.prop,label:t.label,sortable:"custom"}})}),a("el-table-column",{attrs:{prop:"CreateDate",label:"Date Created"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[t._v(t._s(t.getDate(e.row.CreateDate)))])]}}])})],2)],1):t._e()],1)},jt=[],Rt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"Modal"}},[a("transition",{attrs:{name:"modal-fade"}},[t.isLoaded?t._e():a("VueLoading"),t.isLoaded?a("div",{staticClass:"modal-backdrop"},[1==t.modalDisplayTypeId?a("div",[a("div",{staticClass:"modal",attrs:{role:"dialog","aria-labelledby":"modalTitle","aria-describedby":"modalDescription"}},[a("div",[a("button",{staticClass:"btn-close topright",attrs:{type:"button","aria-label":"Close modal"},on:{click:t.close}},[t._v("x")])]),a("header",{staticClass:"modal-header",attrs:{id:"modalTitle"}},[a("div",[a("h4",[t._v(t._s(t.lookupData[0].Title))])])]),a("section",{staticClass:"modal-body",attrs:{id:"modalDescription"}},[t._t("body",[a("label",{attrs:{for:"itemType"}},[t._v("Suggestion Type:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.lookupData[0].ItemType,expression:"lookupData[0].ItemType"}],attrs:{type:"text",id:"itemType",disabled:""},domProps:{value:t.lookupData[0].ItemType},on:{input:function(e){e.target.composing||t.$set(t.lookupData[0],"ItemType",e.target.value)}}}),a("label",{attrs:{for:"itemText"}},[t._v("Content:")]),a("br"),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.lookupData[0].ItemText,expression:"lookupData[0].ItemText"}],attrs:{id:"itemText",disabled:""},domProps:{value:t.lookupData[0].ItemText},on:{input:function(e){e.target.composing||t.$set(t.lookupData[0],"ItemText",e.target.value)}}}),a("br"),a("hr"),a("label",{attrs:{for:"dateCreated"}},[t._v("Date Submitted:")]),a("input",{attrs:{type:"text",id:"dateCreated",disabled:""},domProps:{value:t.getDate(t.lookupData[0].CreateDate)}}),a("label",{attrs:{for:"submitterEmail"}},[t._v("Submitted By:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.lookupData[0].SubmitterEmail,expression:"lookupData[0].SubmitterEmail"}],attrs:{type:"email",id:"submitterEmail",disabled:""},domProps:{value:t.lookupData[0].SubmitterEmail},on:{input:function(e){e.target.composing||t.$set(t.lookupData[0],"SubmitterEmail",e.target.value)}}})])],2),a("footer",{staticClass:"modal-footer"},[a("div",[t._t("footer",[a("button",{staticClass:"btn-button approve",attrs:{type:"button"},on:{click:t.approveSuggestion}},[t._v("\n                                    Approve\n                                ")]),a("button",{staticClass:"btn-button reject",attrs:{type:"button"},on:{click:t.rejectSuggestion}},[t._v("\n                                    Reject\n                                ")])])],2)])])]):t._e(),2==t.modalDisplayTypeId||3==t.modalDisplayTypeId?a("div",[a("div",{staticClass:"modal",attrs:{role:"dialog","aria-labelledby":"modalTitle","aria-describedby":"modalDescription"}},[a("div",[a("button",{staticClass:"btn-close topright",attrs:{type:"button","aria-label":"Close modal"},on:{click:t.close}},[t._v("x")])]),a("header",{staticClass:"modal-header",attrs:{id:"modalTitle"}},[a("div",[2==t.modalDisplayTypeId?a("h4",[t._v("Manage Story")]):t._e(),3==t.modalDisplayTypeId?a("h4",[t._v("Manage Wisdom")]):t._e()])]),a("section",{staticClass:"modal-body",attrs:{id:"modalDescription"}},[t._t("body",[a("div",[a("label",{attrs:{for:"title"}},[t._v("Title:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.lookupData[0].Title,expression:"lookupData[0].Title"}],attrs:{type:"text",id:"title"},domProps:{value:t.lookupData[0].Title},on:{input:function(e){e.target.composing||t.$set(t.lookupData[0],"Title",e.target.value)}}}),a("label",{attrs:{for:"itemText"}},[t._v("Content:")]),a("br"),2==t.modalDisplayTypeId?a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.lookupData[0].Story,expression:"lookupData[0].Story"}],attrs:{id:"itemText"},domProps:{value:t.lookupData[0].Story},on:{input:function(e){e.target.composing||t.$set(t.lookupData[0],"Story",e.target.value)}}}):t._e(),3==t.modalDisplayTypeId?a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.lookupData[0].Wisdom,expression:"lookupData[0].Wisdom"}],attrs:{id:"itemText"},domProps:{value:t.lookupData[0].Wisdom},on:{input:function(e){e.target.composing||t.$set(t.lookupData[0],"Wisdom",e.target.value)}}}):t._e(),a("br"),a("label",{attrs:{for:"isActive"}},[t._v("Is Active:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.lookupData[0].IsActive,expression:"lookupData[0].IsActive"}],attrs:{type:"checkbox",id:"isActive"},domProps:{checked:Array.isArray(t.lookupData[0].IsActive)?t._i(t.lookupData[0].IsActive,null)>-1:t.lookupData[0].IsActive},on:{change:function(e){var a=t.lookupData[0].IsActive,o=e.target,s=!!o.checked;if(Array.isArray(a)){var i=null,r=t._i(a,i);o.checked?r<0&&t.$set(t.lookupData[0],"IsActive",a.concat([i])):r>-1&&t.$set(t.lookupData[0],"IsActive",a.slice(0,r).concat(a.slice(r+1)))}else t.$set(t.lookupData[0],"IsActive",s)}}})])])],2),a("footer",{staticClass:"modal-footer"},[a("div",[t._t("footer",[a("button",{staticClass:"btn-button approve",attrs:{type:"button"},on:{click:t.saveItem}},[t._v("\n                                    Save\n                                ")]),a("button",{staticClass:"btn-button",attrs:{type:"button"},on:{click:t.close}},[t._v("\n                                    Close\n                                ")])])],2)])])]):t._e()]):t._e()],1)],1)},Pt=[],Bt=(a("c5f6"),{name:"Modal",components:{VueLoading:b},props:{modalDisplayTypeId:{type:Number,required:!1},lookupId:{type:Number,required:!1}},data:function(){return{isLoaded:!1,lookupData:{}}},watch:{lookupId:function(){if(0!=this.lookupId&&null!=this.lookupId){var t=this.modalDisplayTypeId;switch(t){case 1:var e=w+"submititem?id="+this.lookupId,a=this;d.a.get(e).then(function(t){a.lookupData=JSON.parse(t.data),a.lookupData[0].ItemType=a.lookupData[0].luIT[0].ItemType,a.isLoaded=!0}).catch(function(t){console.log(t),a.$message("There was an error getting the suggestion data")});case 2:var o=w+"story?id="+this.lookupId;a=this;d.a.get(o).then(function(t){a.lookupData=JSON.parse(t.data),a.isLoaded=!0}).catch(function(t){console.log(t),a.$message("There was an error getting the story data")});case 3:var s=w+"wisdom?id="+this.lookupId;a=this;d.a.get(s).then(function(t){a.lookupData=JSON.parse(t.data),a.isLoaded=!0}).catch(function(t){console.log(t),a.$message("There was an error getting the wisdom data")})}}}},methods:{close:function(){this.$emit("close")},getDate:function(t){var e=new Date(t);return e.getMonth()+1+"-"+e.getDate()+"-"+e.getFullYear()},approveSuggestion:function(){var t=w+"submittedItems",e={IsApproved:1,Id:this.lookupId,UserId:this.$store.getters.userId},a=this;d.a.post(t,e).then(function(t){var e=t.data;"Success"==e.Message.toString()?(a.$message("Successfully updated submitted item!"),setTimeout(function(){a.close()},2e3)):a.$message("Error updating submitted item!")})},rejectSuggestion:function(){var t=w+"submittedItems",e={IsApproved:0,Id:this.lookupId,UserId:this.$store.getters.userId},a=this;d.a.post(t,e).then(function(t){var e=t.data;"Success"==e.Message.toString()?(a.$message("Successfully updated submitted item!"),setTimeout(function(){a.close()},2e3)):a.$message("Error updating submitted item!")})},saveItem:function(){var t=this;switch(this.modalDisplayTypeId){case 2:var e=w+"story";d.a.post(e,this.lookupData).then(function(e){var a=e.data;"Success"==a.Message.toString()?(t.$message("Successfully updated story!"),setTimeout(function(){t.close()},2e3)):t.$message("Error updating story!")});case 3:var a=w+"wisdom";d.a.post(a,this.lookupData).then(function(e){var a=e.data;"Success"==a.Message.toString()?(t.$message("Successfully updated wisdom!"),setTimeout(function(){t.close()},2e3)):t.$message("Error updating wisdom!")})}}}}),Ut=Bt,Vt=(a("0bcc"),Object(v["a"])(Ut,Rt,Pt,!1,null,"597a26f8",null)),Jt=Vt.exports,Ht={name:"PendingItems",components:{VueLoading:b,Modal:Jt},data:function(){var t=this;return{modalDisplayTypeId:1,lookupId:0,loaded:!1,isModalVisible:!1,data:[],titles:[{prop:"Id",label:"Submitted Item Id"},{prop:"ItemType",label:"Submitted Item Type"},{prop:"Title",label:"Title"}],filters:[{prop:"ItemType",value:""}],actionCol:{props:{label:"Actions"},buttons:[{props:{type:"primary"},handler:function(e){t.lookupId=e.Id,t.showModal()},label:"View"}]},selectedRow:[]}},mounted:function(){this.getData()},created:function(){this.$store.getters.isMasterAdmin||this.$store.getters.isAdmin?this.isLoaded=!0:this.$router.push("/unauthorized")},methods:{getData:function(){this.loaded=!1;var t=w+"submittedItems",e=this;d.a.get(t).then(function(t){if(t.data.length>0){e.data=JSON.parse(t.data);for(var a=0;a<e.data.length;a++)e.data[a].ItemType=e.data[a].luIT[0].ActualItemType}}).catch(function(t){console.log(t),e.$message("There was an error getting the submitted items")}),e.loaded=!0},handleSelectionChange:function(t){this.selectedRow=t},getDate:function(t){var e=new Date(t);return e.getMonth()+1+"-"+e.getDate()+"-"+e.getFullYear()},showModal:function(){this.isModalVisible=!0},closeModal:function(){this.isModalVisible=!1,this.lookupId=0,this.getData()}}},zt=Ht,Qt=Object(v["a"])(zt,Kt,jt,!1,null,null,null),Gt=Qt.exports,Wt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"ManageStories"}},[t.loaded?t._e():a("VueLoading"),a("Modal",{directives:[{name:"show",rawName:"v-show",value:t.isModalVisible,expression:"isModalVisible"}],attrs:{modalDisplayTypeId:t.modalDisplayTypeId,lookupId:t.lookupId},on:{close:t.closeModal}}),t.loaded?a("div",[a("div",{staticStyle:{"margin-bottom":"10px"}},[a("el-row",[a("el-col",{attrs:{span:6}},[a("el-input",{attrs:{placeholder:"Title..."},model:{value:t.filters[0].value,callback:function(e){t.$set(t.filters[0],"value",e)},expression:"filters[0].value"}})],1)],1)],1),a("data-tables",{attrs:{data:t.data,"action-col":t.actionCol,filters:t.filters},on:{"selection-change":t.handleSelectionChange}},[t._l(t.titles,function(t){return a("el-table-column",{key:t.prop,attrs:{prop:t.prop,label:t.label,sortable:"custom"}})}),a("el-table-column",{attrs:{prop:"IsActive",label:"Is Active"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[t._v(t._s(t.getBool(e.row.IsActive)))])]}}])})],2)],1):t._e()],1)},Yt=[],qt={name:"ManageStories",components:{VueLoading:b,Modal:Jt},data:function(){var t=this;return{modalDisplayTypeId:2,lookupId:0,loaded:!1,isModalVisible:!1,data:[],titles:[{prop:"Id",label:"Story Id"},{prop:"Title",label:"Story Title"}],filters:[{prop:"Title",value:""}],actionCol:{props:{label:"Actions"},buttons:[{props:{type:"primary"},handler:function(e){t.lookupId=e.Id,t.showModal()},label:"View"}]},selectedRow:[]}},mounted:function(){this.getData()},created:function(){this.$store.getters.isMasterAdmin||this.$store.getters.isAdmin?this.isLoaded=!0:this.$router.push("/unauthorized")},methods:{getData:function(){this.loaded=!1;var t=w+"getStories",e=this;d.a.get(t).then(function(t){t.data.length>0&&(e.data=JSON.parse(t.data))}).catch(function(t){console.log(t),e.$message("There was an error getting the submitted items")}),e.loaded=!0},handleSelectionChange:function(t){this.selectedRow=t},getBool:function(t){return t?"True":"False"},showModal:function(){this.isModalVisible=!0},closeModal:function(){this.isModalVisible=!1,this.lookupId=0,this.getData()}}},Zt=qt,Xt=Object(v["a"])(Zt,Wt,Yt,!1,null,"80b39bfe",null),te=Xt.exports,ee=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"ManageWisdoms"}},[t.loaded?t._e():a("VueLoading"),a("Modal",{directives:[{name:"show",rawName:"v-show",value:t.isModalVisible,expression:"isModalVisible"}],attrs:{modalDisplayTypeId:t.modalDisplayTypeId,lookupId:t.lookupId},on:{close:t.closeModal}}),t.loaded?a("div",[a("div",{staticStyle:{"margin-bottom":"10px"}},[a("el-row",[a("el-col",{attrs:{span:6}},[a("el-input",{attrs:{placeholder:"Title..."},model:{value:t.filters[0].value,callback:function(e){t.$set(t.filters[0],"value",e)},expression:"filters[0].value"}})],1)],1)],1),a("data-tables",{attrs:{data:t.data,"action-col":t.actionCol,filters:t.filters},on:{"selection-change":t.handleSelectionChange}},[t._l(t.titles,function(t){return a("el-table-column",{key:t.prop,attrs:{prop:t.prop,label:t.label,sortable:"custom"}})}),a("el-table-column",{attrs:{prop:"IsActive",label:"Is Active"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[t._v(t._s(t.getBool(e.row.IsActive)))])]}}])})],2)],1):t._e()],1)},ae=[],oe={name:"ManageWisdoms",components:{VueLoading:b,Modal:Jt},data:function(){var t=this;return{modalDisplayTypeId:3,lookupId:0,loaded:!1,isModalVisible:!1,data:[],titles:[{prop:"Id",label:"Wisdom Id"},{prop:"Title",label:"Wisdom Title"}],filters:[{prop:"Title",value:""}],actionCol:{props:{label:"Actions"},buttons:[{props:{type:"primary"},handler:function(e){t.lookupId=e.Id,t.showModal()},label:"View"}]},selectedRow:[]}},mounted:function(){this.getData()},created:function(){this.$store.getters.isMasterAdmin||this.$store.getters.isAdmin?this.isLoaded=!0:this.$router.push("/unauthorized")},methods:{getData:function(){this.loaded=!1;var t=w+"getWisdoms",e=this;d.a.get(t).then(function(t){t.data.length>0&&(e.data=JSON.parse(t.data))}).catch(function(t){console.log(t),e.$message("There was an error getting the submitted items")}),e.loaded=!0},handleSelectionChange:function(t){this.selectedRow=t},getBool:function(t){return t?"True":"False"},showModal:function(){this.isModalVisible=!0},closeModal:function(){this.isModalVisible=!1,this.lookupId=0,this.getData()}}},se=oe,ie=Object(v["a"])(se,ee,ae,!1,null,"7e527560",null),re=ie.exports,ne=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"ManageForms"}},[t.loaded?t._e():a("VueLoading"),t.loaded?a("div",[a("div",{staticStyle:{"margin-bottom":"10px"}},[a("el-row",[a("el-col",{attrs:{span:6}},[a("el-input",{attrs:{placeholder:"Form Name..."},model:{value:t.filters[0].value,callback:function(e){t.$set(t.filters[0],"value",e)},expression:"filters[0].value"}})],1)],1)],1),a("data-tables",{attrs:{data:t.data,"action-col":t.actionCol,filters:t.filters},on:{"selection-change":t.handleSelectionChange}},[t._l(t.titles,function(t){return a("el-table-column",{key:t.prop,attrs:{prop:t.prop,label:t.label,sortable:"custom"}})}),a("el-table-column",{attrs:{prop:"IsActive",label:"Is Active"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[t._v(t._s(t.getBool(e.row.IsActive)))])]}}])})],2)],1):t._e()],1)},le=[],ce={name:"ManageForms",components:{VueLoading:b},data:function(){var t=this;return{loaded:!1,data:[],titles:[{prop:"FormKey",label:"Form Key"},{prop:"FormName",label:"Form Name"}],filters:[{prop:"FormName",value:""}],actionCol:{props:{label:"Actions"},buttons:[{props:{type:"primary"},handler:function(e){t.$router.push("/modifyform/"+e.FormKey)},label:"View"}]},selectedRow:[]}},mounted:function(){this.fetchData()},created:function(){this.$store.getters.isMasterAdmin||this.$store.getters.isAdmin?this.fetchData():this.$router.push("/unauthorized")},methods:{fetchData:function(){var t=this;return this.$store.dispatch("fetchAllForms").then(function(){t.getData()})},getData:function(){this.data=this.$store.getters.allForms,this.loaded=!0},handleSelectionChange:function(t){this.selectedRow=t},getBool:function(t){return t?"True":"False"}}},ue=ce,de=Object(v["a"])(ue,ne,le,!1,null,"2a919e45",null),me=de.exports,he=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},pe=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"GitHub"}},[a("iframe",{attrs:{src:"https://www.w3schools.com"}})])}],fe={name:"GitHub"},ve=fe,ge=Object(v["a"])(ve,he,pe,!1,null,"65ac858a",null),be=(ge.exports,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"ModifyForm"}},[t.modalVisible?a("div",[a("transition",{attrs:{name:"modal-fade"}},[a("div",{staticClass:"modal-backdrop"},[a("div",[a("div",{staticClass:"modal",attrs:{role:"dialog","aria-labelledby":"modalTitle","aria-describedby":"modalDescription"}},[a("div",[a("button",{staticClass:"btn-close topright",attrs:{type:"button","aria-label":"Close modal"},on:{click:t.close}},[t._v("x")])]),a("header",{staticClass:"modal-header",attrs:{id:"modalTitle"}},[a("div",[a("h4",[t._v("Confirm Submit")])])]),a("section",{staticClass:"modal-body",attrs:{id:"modalDescription"}},[t._t("body",[a("p",[t._v("Are you sure you want to submit?")])])],2),a("footer",{staticClass:"modal-footer"},[a("div",[t._t("footer",[a("button",{staticClass:"btn-button",attrs:{type:"button"},on:{click:t.formSubmit}},[t._v("\n                                        Yes\n                                    ")]),a("button",{staticClass:"btn-button",attrs:{type:"button"},on:{click:t.close}},[t._v("\n                                        No\n                                    ")])])],2)])])])])])],1):t._e(),a("div",{staticClass:"panel"},[t._m(0),a("div",{staticClass:"panel-body"},[a("h4",{staticClass:"sectionHeading"},[t._v(t._s(t.formName)+" Form")]),a("hr"),a("form",{on:{submit:t.showModal}},[a("label",{attrs:{for:"formName"}},[t._v("Form Name:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.formName,expression:"formName"}],attrs:{type:"text",id:"formName",name:"formName"},domProps:{value:t.formName},on:{input:function(e){e.target.composing||(t.formName=e.target.value)}}}),a("label",{attrs:{for:"formKey"}},[t._v("Form Key:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.FormKey,expression:"formData.FormKey"}],attrs:{type:"text",id:"formKey",name:"formKey",disabled:""},domProps:{value:t.formData.FormKey},on:{input:function(e){e.target.composing||t.$set(t.formData,"FormKey",e.target.value)}}}),a("label",{attrs:{for:"actionLink"}},[t._v("Action Link:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.ActionLink,expression:"formData.ActionLink"}],attrs:{type:"text",id:"actionLink",name:"actionLink"},domProps:{value:t.formData.ActionLink},on:{input:function(e){e.target.composing||t.$set(t.formData,"ActionLink",e.target.value)}}}),a("label",{attrs:{for:"formSchema"}},[t._v("Field Schema")]),a("br"),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.formData.FieldSchema,expression:"formData.FieldSchema"}],attrs:{id:"formSchema"},domProps:{value:t.formData.FieldSchema},on:{input:function(e){e.target.composing||t.$set(t.formData,"FieldSchema",e.target.value)}}}),a("button",{staticClass:"btn-button",attrs:{type:"button"},on:{click:t.updateFieldSchema}},[t._v("Refresh Form")]),a("br"),a("button",{staticClass:"btn-button",attrs:{type:"submit"}},[t._v("Submit")])]),a("hr"),a("h4",{staticClass:"sectionHeading"},[t._v("Form View")]),t.loaded?a("vue-form-generator",{attrs:{schema:t.schema,model:t.model,disabled:""}}):t._e()],1)])])}),Ae=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"panel-heading"},[a("h4",[t._v("Modify Form")])])}],ye={name:"ModifyForm",props:{formKey:{type:String,required:!1}},data:function(){return{loaded:!1,formName:"",modalVisible:!1,formData:[],schema:[],model:{}}},mounted:function(){this.$store.getters.isMasterAdmin||this.$store.getters.isAdmin?this.fetchData():this.$router.push("/unauthorized")},created:function(){this.fetchData()},methods:{fetchData:function(){var t=this;if(""!=this.formKey)return this.$store.dispatch("fetchFormByFormKey",this.formKey).then(function(){t.getData()})},getData:function(){this.formData=this.$store.getters.getForm,this.formData=this.formData[0],this.formData.FieldSchema=JSON.parse(this.formData.FieldSchema),this.schema=this.formData.FieldSchema,this.formName=this.formData.luVF[0].FormName,this.prettyJSON(),this.loaded=!0},prettyJSON:function(){var t=document.getElementById("formSchema"),e=null;if(null!=t&&(e=t.innerHTML),e)e=JSON.stringify(e,void 0,4),this.formData.FieldSchema=e;else{e=this.formData.FieldSchema;e=JSON.stringify(e,void 0,4),this.formData.FieldSchema=e}},clearWhitespace:function(){var t=document.getElementById("formSchema").innerHTML;t?(t=JSON.parse(t),this.formData.FieldSchema=t,this.schema=t):(t=this.formData.FieldSchema,t=JSON.parse(t),this.formData.FieldSchema=t,this.schema=t),console.log(t)},updateFieldSchema:function(){this.clearWhitespace(),this.prettyJSON()},formSubmit:function(){var t=this;this.$message("Not yet implemented"),this.modalVisible=!1,this.formData.luVF.formName=this.formName,this.formData.FieldSchema=this.schema;var e=this.formData,a=this.$store.getters.userId;console.log(a),this.$store.dispatch("updateForm",{data:e,userId:a}).then(function(e){"OK"==e.statusText?t.$message("Success"):t.$message("Error"),t.fetchData()}).catch(function(t){return console.log(t)}),event.preventDefault()},showModal:function(){this.modalVisible=!0,event.preventDefault()},close:function(){this.modalVisible=!1}}},_e=ye,we=(a("4861"),Object(v["a"])(_e,be,Ae,!1,null,"4e1b0894",null)),De=we.exports;o["default"].use(s["a"]);var ke=new s["a"]({mode:"history",routes:[{path:"/home",name:"home",component:U},{path:"/login",name:"login",component:$},{path:"/register",name:"register",component:E},{path:"/about",component:G},{path:"/suggestions",component:rt},{path:"/dashboard",component:mt,redirect:"/dashboardhome",children:[{path:"/dashboardhome",name:"dashboardhome",component:$t},{path:"/manageusers",name:"manageusers",component:bt},{path:"/pendingitems",name:"pendingitems",component:Gt},{path:"/managestories",name:"managestories",component:te},{path:"/managewisdoms",name:"managewisdoms",component:re},{path:"/manageforms",name:"manageforms",component:me},{path:"/github",name:"github",beforeEnter:function(){window.open("https://github.com/The1CABAL/SkaldBot/projects/1","_blank")}},{path:"/modifyform/:formKey",name:"modifyform",component:De,props:!0}]},{path:"/userprofile/:userId",name:"userprofile",component:Et,props:!0},{path:"/unauthorized",component:kt},{path:"*",redirect:"/home"}],linkExactActiveClass:"activeLink"}),Ie=(a("96cf"),a("1da1")),Se={forms:[],form:[]},Te={allForms:function(t){return t.forms},getForm:function(t){return t.form}},Fe={fetchAllForms:function(){var t=Object(Ie["a"])(regeneratorRuntime.mark(function t(e){var a,o;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a=e.commit,t.next=3,d.a.get(w+"getForms");case 3:o=t.sent,a("setForms",JSON.parse(o.data));case 5:case"end":return t.stop()}},t)}));function e(e){return t.apply(this,arguments)}return e}(),fetchAllFormsByPageId:function(){var t=Object(Ie["a"])(regeneratorRuntime.mark(function t(e,a){var o,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return o=e.commit,t.next=3,d.a.get(w+"getFormByPageId?pageId=".concat(a));case 3:s=t.sent,o("setForms",JSON.parse(s.data));case 5:case"end":return t.stop()}},t)}));function e(e,a){return t.apply(this,arguments)}return e}(),fetchFormByFormKey:function(){var t=Object(Ie["a"])(regeneratorRuntime.mark(function t(e,a){var o,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return o=e.commit,t.next=3,d.a.get(w+"form?formKey=".concat(a));case 3:s=t.sent,o("setForm",JSON.parse(s.data));case 5:case"end":return t.stop()}},t)}));function e(e,a){return t.apply(this,arguments)}return e}(),updateForm:function(){var t=Object(Ie["a"])(regeneratorRuntime.mark(function t(e,a){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e.commit,t.abrupt("return",new Promise(function(t,e){var o=w+"form";d.a.post(o,a).then(function(e){t(e)}).catch(function(t){e(t)})}));case 2:case"end":return t.stop()}},t)}));function e(e,a){return t.apply(this,arguments)}return e}()},Ce={setForms:function(t,e){return t.forms=e},setForm:function(t,e){return t.form=e}},$e={state:Se,getters:Te,actions:Fe,mutations:Ce};o["default"].prototype.$http=d.a;var xe=localStorage.getItem("token");xe&&(o["default"].prototype.$http.defaults.headers.common["Authorization"]=xe);var Ne={token:localStorage.getItem("token")||"",status:"",isMasterAdmin:localStorage.getItem("isMasterAdmin")||!1,isAdmin:localStorage.getItem("isAdmin")||!1,isUser:!0},Me={userId:function(t){return t.token},isLoggedIn:function(t){return!!t.token},authStatus:function(t){return t.status},isMasterAdmin:function(t){return t.isMasterAdmin},isAdmin:function(t){return t.isAdmin},isUser:function(t){return t.isUser}},Le={login:function(){var t=Object(Ie["a"])(regeneratorRuntime.mark(function t(e,a){var o,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return o=e.commit,s=a,t.abrupt("return",new Promise(function(t,e){o("auth_request");var i=w+"login";d.a.post(i,a).then(function(i){var r=JSON.parse(i.data)[0].Id;localStorage.setItem("token",r),d.a.defaults.headers.common["Authorization"]=r,o("auth_success",r,a);var n=w+"roles?username="+s.username;d.a.get(n).then(function(e){var a=JSON.parse(e.data);o("user_roles",a[0].Role),t(e)}).catch(function(t){o("auth_error"),localStorage.removeItem("token"),e(t)}),t(i)}).catch(function(t){o("auth_error"),localStorage.removeItem("token"),e(t)})}));case 3:case"end":return t.stop()}},t)}));function e(e,a){return t.apply(this,arguments)}return e}(),register:function(){var t=Object(Ie["a"])(regeneratorRuntime.mark(function t(e,a){var o;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return o=e.commit,t.abrupt("return",new Promise(function(t,e){o("auth_request");var s=w+"register";d.a.post(s,a).then(function(e){var a=e.data.token,s=e.data.user;localStorage.setItem("token",a),d.a.defaults.headers.common["Authorization"]=a,o("auth_success",a,s),t(e)}).catch(function(t){o("auth_error"),localStorage.removeItem("token"),e(t)})}));case 2:case"end":return t.stop()}},t)}));function e(e,a){return t.apply(this,arguments)}return e}(),logout:function(t){var e=t.commit;return new Promise(function(t,a){e("logout"),localStorage.removeItem("token"),delete d.a.defaults.headers.common["Authorization"],t()})}},Oe={auth_request:function(t){t.status="loading"},auth_success:function(t,e){t.status="success",t.token=e},user_roles:function(t,e){"MasterAdmin"==e&&localStorage.setItem("isMasterAdmin",!0),"Admin"==e&&localStorage.setItem("isAdmin",!0)},auth_error:function(t){t.status="error"},logout:function(t){t.status="",t.token="",t.isMasterAdmin=!1,localStorage.removeItem("isMasterAdmin"),t.isAdmin=!1,localStorage.removeItem("isAdmin"),t.isUser=!0}},Ee={state:Ne,getters:Me,actions:Le,mutations:Oe};o["default"].use(_["a"]);var Ke=new _["a"].Store({modules:{authentication:Ee,forms:$e}}),je=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("div",{staticClass:"container"},[a("div",{staticClass:"logo"},[a("img",{staticStyle:{height:"60px"},attrs:{src:t.logoImage}})]),a("div",{staticClass:"navbar"},[a("div",{staticClass:"icon-bar",on:{click:function(e){t.Show()}}},[a("i"),a("i"),a("i")]),a("ul",{attrs:{id:"nav-lists"}},[a("li",{staticClass:"close"},[a("span",{on:{click:function(e){t.Hide()}}},[t._v("×")])]),a("li",[a("router-link",{attrs:{to:"/"}},[t._v("Home")])],1),a("li",[a("router-link",{attrs:{to:"/about"}},[t._v("About")])],1),a("li",[a("router-link",{attrs:{to:"/suggestions"}},[t._v("Submit Ideas")])],1),a("li",[t.authenticated&&(t.admin||t.masterAdmin)?a("router-link",{attrs:{to:"/dashboard"}},[t._v("Dashboard")]):t._e()],1),a("li",[t.authenticated?a("router-link",{attrs:{to:"/userprofile"},nativeOn:{click:function(e){t.profile()}}},[t._v("User Profile")]):t._e()],1),a("li",[t.authenticated?a("router-link",{attrs:{to:"/"},nativeOn:{click:function(e){t.logout()}}},[t._v("Logout")]):t._e()],1),a("li",[t.authenticated?t._e():a("router-link",{attrs:{to:"login"}},[t._v("Login")])],1)])])]),a("router-view",{on:{authenticated:t.setAuthenticated}})],1)},Re=[],Pe={name:"app",data:function(){return{authenticated:!1,logoImage:a("cf05"),background:a("749f"),masterAdmin:!1,admin:!1,user:!0,isInactive:!1,userActivityThrottlerTimeout:null,userActivityTimeout:null,userId:""}},beforeMount:function(){this.activateActivityTracker()},beforeDestroy:function(){window.removeEventListener("mousemove",this.userActivityThrottler),window.removeEventListener("scroll",this.userActivityThrottler),window.removeEventListener("keydown",this.userActivityThrottler),window.removeEventListener("resize",this.userActivityThrottler),clearTimeout(this.userActivityTimeout),clearTimeout(this.userActivityThrottlerTimeout)},mounted:function(){this.isLoggedIn?this.authenticated||(this.authenticated=!0):this.authenticated&&(this.authenticated=!1)},watch:{isLoggedIn:function(){this.isLoggedIn&&!this.authenticated?this.setAuthenticated(!0):!this.isLoggedIn&&this.authenticated&&this.setAuthenticated(!1)}},computed:Object(c["a"])({},Object(_["c"])(["isLoggedIn","isAdmin","isMasterAdmin","isUser"])),created:function(){this.$http.interceptors.response.use(void 0,function(t){return new Promise(function(e,a){throw 401==t.status&&t.config&&!t.config__isRetryRequest&&this.$store.dispatch(logout),t})}),this.$store.getters.isLoggedIn&&(this.authenticated||(this.authenticated=!0),this.$store.getters.isMasterAdmin?(this.masterAdmin=!0,this.admin=!0):this.$store.getters.isAdmin&&(this.admin=!0),this.userId=this.$store.getters.userId)},methods:{Show:function(){document.getElementById("nav-lists").classList.add("_Menus-show")},Hide:function(){document.getElementById("nav-lists").classList.remove("_Menus-show")},setAuthenticated:function(t){console.log("Setting authentication"),this.authenticated=t,t?this.userId:this.userId="",this.$router.push("/"),setTimeout(function(){location.reload()},500)},logout:function(){var t=this;this.$store.dispatch("logout").then(function(){t.authenticated=!1}),this.masterAdmin=!1,this.admin=!1},activateActivityTracker:function(){window.addEventListener("mousemove",this.userActivityThrottler),window.addEventListener("mousemove",this.resetUserActivityTimeout),window.addEventListener("scroll",this.resetUserActivityTimeout),window.addEventListener("keydown",this.resetUserActivityTimeout),window.addEventListener("resize",this.resetUserActivityTimeout)},resetUserActivityTimeout:function(){var t=this;clearTimeout(this.userActivityTimeout),this.userActivityTimeout=setTimeout(function(){t.inactiveUserAction()},18e5)},userActivityThrottler:function(){var t=this;this.userActivityThrottlerTimeout||(this.userActivityThrottlerTimeout=setTimeout(function(){t.resetUserActivityTimeout(),clearTimeout(t.userActivityThrottlerTimeout),t.userActivityThrottlerTimeout=null},18e5))},inactiveUserAction:function(){this.authenticated&&(this.$store.dispatch("logout"),location.reload())},profile:function(){this.$router.push("/userprofile/"+this.userId)}}},Be=Pe,Ue=(a("034f"),Object(v["a"])(Be,je,Re,!1,null,null,null)),Ve=Ue.exports,Je=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",["checkbox"===t.passwordFieldType?a("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"value"}],staticClass:"form-control",attrs:{disabled:t.schema.disabled,maxlength:t.schema.max,placeholder:t.schema.placeholder,readonly:t.schema.readonly,validators:t.schema.validators,showButton:t.schema.showButton,type:"checkbox"},domProps:{checked:Array.isArray(t.value)?t._i(t.value,null)>-1:t.value},on:{change:function(e){var a=t.value,o=e.target,s=!!o.checked;if(Array.isArray(a)){var i=null,r=t._i(a,i);o.checked?r<0&&(t.value=a.concat([i])):r>-1&&(t.value=a.slice(0,r).concat(a.slice(r+1)))}else t.value=s}}}):"radio"===t.passwordFieldType?a("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"value"}],staticClass:"form-control",attrs:{disabled:t.schema.disabled,maxlength:t.schema.max,placeholder:t.schema.placeholder,readonly:t.schema.readonly,validators:t.schema.validators,showButton:t.schema.showButton,type:"radio"},domProps:{checked:t._q(t.value,null)},on:{change:function(e){t.value=null}}}):a("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"value"}],staticClass:"form-control",attrs:{disabled:t.schema.disabled,maxlength:t.schema.max,placeholder:t.schema.placeholder,readonly:t.schema.readonly,validators:t.schema.validators,showButton:t.schema.showButton,type:t.passwordFieldType},domProps:{value:t.value},on:{input:function(e){e.target.composing||(t.value=e.target.value)}}}),t.showButton?a("input",{attrs:{type:"checkbox",id:"togglePassword"},on:{click:t.showPassword}}):t._e(),t.showButton?a("label",{attrs:{for:"togglePassword"}},[t._v("Show Password")]):t._e()])},He=[],ze={name:"passwordField",mixins:[A["abstractField"]],data:function(){return{showButton:!1,passwordFieldType:"password"}},mounted:function(){this.showButton=this.schema.showButton},watch:{showButton:function(t,e){t!=e&&(this.showButton=t)}},methods:{showPassword:function(){"password"==this.passwordFieldType?this.passwordFieldType="text":this.passwordFieldType="password"}}},Qe=ze,Ge=(a("09e8"),Object(v["a"])(Qe,Je,He,!1,null,"4e8a6ce6",null)),We=Ge.exports,Ye=a("5c96"),qe=a.n(Ye),Ze=(a("0fae"),a("b2d6")),Xe=a.n(Ze),ta=a("4897"),ea=a.n(ta),aa=a("e391"),oa=a.n(aa);ea.a.use(Xe.a),o["default"].component("fieldPassword",We),o["default"].use(qe.a),o["default"].use(y.a),o["default"].use(oa.a),new o["default"]({el:"#app",router:ke,store:Ke,render:function(t){return t(Ve)}})},"585b":function(t,e,a){},7308:function(t,e,a){},"749f":function(t,e,a){t.exports=a.p+"img/SbBackground.0eea793b.jpg"},"767f":function(t,e,a){"use strict";var o=a("91a1"),s=a.n(o);s.a},7931:function(t,e,a){},"89c8":function(t,e,a){},"8ad9":function(t,e,a){"use strict";var o=a("ff3a"),s=a.n(o);s.a},"91a1":function(t,e,a){},a657:function(t,e,a){"use strict";var o=a("7308"),s=a.n(o);s.a},b98d:function(t,e,a){"use strict";var o=a("7931"),s=a.n(o);s.a},ba53:function(t,e,a){"use strict";var o=a("408b"),s=a.n(o);s.a},c123:function(t,e,a){"use strict";var o=a("1af1"),s=a.n(o);s.a},cf05:function(t,e,a){t.exports=a.p+"img/logo.589e42b4.png"},cf1c:function(t,e){t.exports="data:image/gif;base64,R0lGODlhEAAQAPIAACjGw9ns8FHOzKrh49ns8JTc3n3Y2HLV1iH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA=="},e097:function(t,e,a){},e773:function(t,e,a){},ee26:function(t,e,a){"use strict";var o=a("89c8"),s=a.n(o);s.a},ff3a:function(t,e,a){}});
//# sourceMappingURL=app.893f15b2.js.map